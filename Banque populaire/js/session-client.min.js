function bpceLogout(){var e,o=bpce_connected_session.session_client_url,t=getCookieValue("STA_SSO","json");t&&(e=getCookieParam(t,"cdetab"))&&(bpce_connected_session.isRiaLogout&&null!=bpce_connected_session.authprovider_ria?RIAlogout().then(function(){window.location.href=o+e}):window.location.href=o+e)}function RIAlogout(){return new Promise(function(n){var e=getCookieValue("STA_SSO","json"),i=(e||n(),getCookieParam(e,"cdetab")),c=getCookieParam(e,"typ_srv").toUpperCase();i&&c||n(),jQuery.getJSON(bpce_connected_session.authprovider_ria,function(e){for(var o=0;o<e.length;o++)if(e[o].key===i){var t=e[o].authorities;if(!t)return;jQuery.ajax({url:t[c]+"/Pages/Logout.aspx",dataType:"text",type:"GET",cache:!1,xhrFields:{withCredentials:!0},success:function(){n()},error:function(){n()}})}})})}jQuery("#modal-layer-connected a.button.button-1.button-inline").click(function(){bpceLogout(),setTimeout(function(){location.reload()},3e3)});