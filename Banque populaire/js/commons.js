(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return o}),n(32),n(33),n(34),n(38),n(3),n(36),n(18),n(61),n(24),n(2),n(158),n(23),n(25),n(19),n(37),n(30);var i=n(0),a=n.n(i);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s={mobile:{min:0,max:599},tablet:{min:600,max:959},smalldesktop:{min:960,max:1080},desktop:{min:960,max:1279},widescreen:{min:1280,max:1439},stretchscreen:{min:1440,max:1919},fullhd:{min:1920,max:1/0}},o=new(function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.breakpoints=e,this.onChangeCallbacks=[],this.current=void 0,this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.current=this.getCurrent(),a()(window).on("resize",function(){var e=t.getCurrent();e!==t.current&&(t.onChangeCallbacks.forEach(function(n){n(e?{name:e,value:t.breakpoints[e]}:void 0)}),t.current=e)})}},{key:"getCurrent",value:function(){var t=this,e=Object.entries(this.breakpoints).find(function(e){var n=r(e,2),i=t.buildMatchQuery(n[1]);return!!window.matchMedia(i).matches});return r(e,1)[0]}},{key:"buildMatchQuery",value:function(t){var e=function(t){return t&&t!==1/0},n="";return e(t.min)&&(n+="(min-width: ".concat(t.min,"px) ")),e(t.min)&&e(t.max)&&(n+="and "),e(t.max)&&(n+="(max-width: ".concat(t.max,"px) ")),n.slice(0,n.length-1)}},{key:"on",value:function(t,e){"change"===t&&this.onChangeCallbacks.push(e)}},{key:"off",value:function(t,e){"change"===t&&(this.onChangeCallbacks=this.onChangeCallbacks.filter(function(t){return t!==e}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}())(s)},179:function(t,e,n){"use strict";(function(t){n(3),n(59),n(61),n(2),n(11),n(35),n(43);var e=n(1),i=n(0),a=n.n(i);var r=function(){function n(t){var i=this;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.$container=t,this.cloneTable(),this.$tooltipBtn=this.$container.find(".btn"),this.$tooltip=this.$container.find(".tooltip-container"),this.$longText=this.$container.find(".js-ellipsis").siblings(".modal").find(".modal-text");var r="mobile"===e.a.getCurrent()||"tablet"===e.a.getCurrent();this.manageTooltip(),this.$longText.length>0&&(this.content=[],this.$longText.each(function(t,e){i.saveInitContents(e),r?i.addEllipsis(e):a()(e).parents(".modal").find(".js-close-dialog").trigger("click")}),a()(window).on("resize",function(){i.$longText.each(function(t,n){"mobile"===e.a.getCurrent()||"tablet"===e.a.getCurrent()?i.addEllipsis(n):a()(n).parents(".modal").find(".js-close-dialog").trigger("click")})}))}var i;return(i=[{key:"cloneTable",value:function(){this.$container.find(".main-table").clone(!0).appendTo(this.$container).addClass("clone").attr("aria-hidden","true");var t=function(t){var e=t.prev().height();t.find(".tooltip").css({top:"auto",bottom:"calc(100% + ".concat(e,"px)")})};t(a()(".main-table.clone").find(".tooltip-container").eq("-1")),t(a()(".main-table.clone").find(".tooltip-container").eq("-2"))}},{key:"manageTooltip",value:function(){var t=this;this.$tooltipBtn.on("click",function(e){var n=a()(e.currentTarget),i=n.data("id"),r=a()('.tooltip-container[data-id="'.concat(i,'"]'));n.hasClass("active")?(n.removeClass("active").attr("aria-expanded","false"),r.removeClass("active").attr("aria-hidden","true"),t.$container.find('.clone .btn[data-id="'.concat(i,'"]')).removeClass("active")):(t.$tooltipBtn.removeClass("active").attr("aria-expanded","false"),t.$tooltip.removeClass("active").attr("aria-hidden","true"),n.addClass("active").attr("aria-expanded","true"),r.addClass("active").attr("aria-hidden","false"),t.$container.find('.clone .btn[data-id="'.concat(i,'"]')).addClass("active"))})}},{key:"saveInitContents",value:function(t){var e=a()(t).html();this.content.push(e)}},{key:"addEllipsis",value:function(t){var e=a()(t).html(),n=this.getChars("20",e);a()(t).parents(".modal").siblings(".js-ellipsis").html(n)}},{key:"getChars",value:function(e,n){return"".concat(t.trim(n).substring(0,e).split(" ").slice(0,-1).join(" "),'<span class="ellip">...</span>')}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(n.prototype,i),n}();a.a.fn.tableCompare=function(t){var e=a.a.extend({},a.a.fn.tableCompare.defaults,t);return this.each(function(){new r(a()(this),e)})},a.a.fn.tableCompare.defaults={}}).call(this,n(0))},184:function(t,e,n){"use strict";(function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(32),n(33),n(34),n(18),n(59),n(24),n(20),n(23),n(139),n(19),n(30),n(21),function(a,r){"function"==typeof define&&n(187)?define(["jquery"],function(t){return r(t)}):"object"==("undefined"==typeof exports?"undefined":i(exports))?e.exports=r(n(0)):r(t)}(0,function(e){var n=function(t,e){var n,a=document.createElement("canvas");t.appendChild(a),"object"==("undefined"==typeof G_vmlCanvasManager?"undefined":i(G_vmlCanvasManager))&&G_vmlCanvasManager.initElement(a);var r=a.getContext("2d");a.width=a.height=e.size;var s=1;window.devicePixelRatio>1&&(s=window.devicePixelRatio,a.style.width=a.style.height=[e.size,"px"].join(""),a.width=a.height=e.size*s,r.scale(s,s)),r.translate(e.size/2,e.size/2),r.rotate((e.rotate/180-.5)*Math.PI);var o=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(o-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var l=function(t,e,n){var i=0>=(n=Math.min(Math.max(-1,n||0),1));r.beginPath(),r.arc(0,0,o,0,2*Math.PI*n,i),r.strokeStyle=t,r.lineWidth=e,r.stroke()},c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},u=function(){e.scaleColor&&function(){var t,n;r.lineWidth=1,r.fillStyle=e.scaleColor,r.save();for(var i=24;i>0;--i)i%6==0?(n=e.scaleLength,t=0):t=e.scaleLength-(n=.6*e.scaleLength),r.fillRect(-e.size/2+t,0,n,1),r.rotate(Math.PI/12);r.restore()}(),e.trackColor&&l(e.trackColor,e.trackWidth||e.lineWidth,1)};this.getCanvas=function(){return a},this.getCtx=function(){return r},this.clear=function(){r.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){var i;e.scaleColor||e.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(u(),n=r.getImageData(0,0,e.size*s,e.size*s)):(this.clear(),u()):this.clear(),r.lineCap=e.lineCap,i="function"==typeof e.barColor?e.barColor(t):e.barColor,l(i,e.lineWidth,t/100)}.bind(this),this.animate=function(t,n){var i=Date.now();e.onStart(t,n);var a=function(){var r=Math.min(Date.now()-i,e.animate.duration),s=e.easing(this,r,t,n-t,e.animate.duration);this.draw(s),e.onStep(t,n,s),r>=e.animate.duration?e.onStop(t,n):c(a)}.bind(this);c(a)}.bind(this)},a=function(e,i){var a={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,n,i,a){return 1>(e/=a/2)?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},onStart:function(t,e){},onStep:function(t,e,n){},onStop:function(t,e){}};if(void 0!==n)a.renderer=n;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");a.renderer=SVGRenderer}var r={},s=0,o=function(){for(var n in this.el=e,this.options=r,a)a.hasOwnProperty(n)&&(r[n]=i&&void 0!==i[n]?i[n]:a[n],"function"==typeof r[n]&&(r[n]=r[n].bind(this)));r.easing="string"==typeof r.easing&&void 0!==t&&t.isFunction(t.easing[r.easing])?t.easing[r.easing]:a.easing,"number"==typeof r.animate&&(r.animate={duration:r.animate,enabled:!0}),"boolean"!=typeof r.animate||r.animate||(r.animate={duration:1e3,enabled:r.animate}),this.renderer=new r.renderer(e,r),this.renderer.draw(s),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),r.animate.enabled?this.renderer.animate(s,t):this.renderer.draw(t),s=t,this}.bind(this),this.disableAnimation=function(){return r.animate.enabled=!1,this},this.enableAnimation=function(){return r.animate.enabled=!0,this},o()};e.fn.easyPieChart=function(t){return this.each(function(){var n;e.data(this,"easyPieChart")||(n=e.extend({},t,e(this).data()),e.data(this,"easyPieChart",new a(this,n)))})}})}).call(this,n(0),n(185)(t))},194:function(t,e,n){"use strict";(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(32),n(33),n(34),n(49),n(18),n(59),n(61),n(84),n(24),n(20),n(65),n(23),n(139),n(42),n(11),n(19),n(35),n(30),n(21),function(t){var n,i,a="",r=Math.PI,s=r/2,o="ontouchstart"in window,l=o?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},c={backward:["bl","tl"],forward:["br","tr"],all:["tl","bl","tr","br","l","r"]},u=["single","double"],h=["ltr","rtl"],d={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},f={cornerSize:100},p={init:function(e){n="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,i=!(r=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent))||parseFloat(r[1])>534.3,a=C();var r,s,c=0,u=this.data(),h=this.children();if(e=t.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},d,e),u.opts=e,u.pageObjs={},u.pages={},u.pageWrap={},u.pageZoom={},u.pagePlace={},u.pageMv=[],u.zoom=1,u.totalPages=e.pages||0,u.eventHandlers={touchStart:t.proxy(p._touchStart,this),touchMove:t.proxy(p._touchMove,this),touchEnd:t.proxy(p._touchEnd,this),start:t.proxy(p._eventStart,this)},e.when)for(s in e.when)$(s,e.when)&&this.bind(s,e.when[s]);for(this.css({position:"relative",width:e.width,height:e.height}),this.turn("display",e.display),""!==e.direction&&this.turn("direction",e.direction),n&&!o&&e.acceleration&&this.transform(w(0,0,!0)),s=0;s<h.length;s++)"1"!=t(h[s]).attr("ignore")&&this.turn("addPage",h[s],++c);return t(this).bind(l.down,u.eventHandlers.touchStart).bind("end",p._eventEnd).bind("pressed",p._eventPressed).bind("released",p._eventReleased).bind("flip",p._flip),t(this).parent().bind("start",u.eventHandlers.start),t(document).bind(l.move,u.eventHandlers.touchMove).bind(l.up,u.eventHandlers.touchEnd),this.turn("page",e.page),u.done=!0,this},addPage:function(e,n){var i,a,r=!1,s=this.data(),o=s.totalPages+1;if(s.destroying)return!1;if((i=/\bp([0-9]+)\b/.exec(t(e).attr("class")))&&(n=parseInt(i[1],10)),n){if(n==o)r=!0;else if(n>o)throw P('Page "'+n+'" cannot be inserted')}else n=o,r=!0;return n>=1&&n<=o&&(a="double"==s.display?n%2?" odd":" even":"",s.done&&this.turn("stop"),n in s.pageObjs&&p._movePages.call(this,n,1),r&&(s.totalPages=o),s.pageObjs[n]=t(e).css({float:"left"}).addClass("page p"+n+a),-1!=navigator.userAgent.indexOf("MSIE 9.0")&&s.pageObjs[n].hasClass("hard")&&s.pageObjs[n].removeClass("hard"),p._addPage.call(this,n),p._removeFromDOM.call(this)),this},_addPage:function(e){var n=this.data(),i=n.pageObjs[e];if(i)if(p._necessPage.call(this,e)){if(!n.pageWrap[e]){n.pageWrap[e]=t("<div/>",{class:"page-wrapper",page:e,css:{position:"absolute",overflow:"hidden"}}),this.append(n.pageWrap[e]),n.pagePlace[e]||(n.pagePlace[e]=e,n.pageObjs[e].appendTo(n.pageWrap[e]));var a=p._pageSize.call(this,e,!0);i.css({width:a.width,height:a.height}),n.pageWrap[e].css(a)}n.pagePlace[e]==e&&p._makeFlip.call(this,e)}else n.pagePlace[e]=0,n.pageObjs[e]&&n.pageObjs[e].remove()},hasPage:function(t){return $(t,this.data().pageObjs)},center:function(e){var n=this.data(),i=t(this).turn("size"),a=0;if(!n.noCenter){if("double"==n.display){var r=this.turn("view",e||n.tpage||n.page);"ltr"==n.direction?r[0]?r[1]||(a+=i.width/4):a-=i.width/4:r[0]?r[1]||(a-=i.width/4):a+=i.width/4}t(this).css({marginLeft:a})}return this},destroy:function(){var e=this,n=this.data();if("prevented"!=T("destroying",this)){for(n.destroying=!0,t.each(["end","first","flip","last","pressed","released","start","turning","turned","zooming","missing"],function(t,n){e.unbind(n)}),this.parent().unbind("start",n.eventHandlers.start),t(document).unbind(l.move,n.eventHandlers.touchMove).unbind(l.up,n.eventHandlers.touchEnd);0!==n.totalPages;)this.turn("removePage",n.totalPages);return n.fparent&&n.fparent.remove(),n.shadow&&n.shadow.remove(),this.removeData(),n=null,this}},is:function(){return"object"==e(this.data().pages)},zoom:function(e){var n=this.data();if("number"!=typeof e)return n.zoom;if(e<.001||e>100)throw P(e+" is not a value for zoom");if("prevented"==T("zooming",this,[e,n.zoom]))return this;var i=this.turn("size"),a=this.turn("view"),r=1/n.zoom,s=Math.round(i.width*r*e),o=Math.round(i.height*r*e);n.zoom=e,t(this).turn("stop").turn("size",s,o),n.opts.autoCenter&&this.turn("center"),p._updateShadow.call(this);for(var l=0;l<a.length;l++)a[l]&&n.pageZoom[a[l]]!=n.zoom&&(this.trigger("zoomed",[a[l],a,n.pageZoom[a[l]],n.zoom]),n.pageZoom[a[l]]=n.zoom);return this},_pageSize:function(t,e){var n=this.data(),i={};if("single"==n.display)i.width=this.width(),i.height=this.height(),e&&(i.top=0,i.left=0,i.right="auto");else{var a=this.width()/2,r=this.height();if(n.pageObjs[t].hasClass("own-size")?(i.width=n.pageObjs[t].width(),i.height=n.pageObjs[t].height()):(i.width=a,i.height=r),e){var s=t%2;i.top=(r-i.height)/2,"ltr"==n.direction?(i[s?"right":"left"]=a-i.width,i[s?"left":"right"]="auto"):(i[s?"left":"right"]=a-i.width,i[s?"right":"left"]="auto")}}return i},_makeFlip:function(t){var e=this.data();if(!e.pages[t]&&e.pagePlace[t]==t){var n="single"==e.display;e.pages[t]=e.pageObjs[t].css(p._pageSize.call(this,t)).flip({page:t,next:t%2||n?t+1:t-1,turn:this}).flip("disable",e.disabled),p._setPageLoc.call(this,t),e.pageZoom[t]=e.zoom}return e.pages[t]},_makeRange:function(){var t,e;if(!(this.data().totalPages<1))for(t=(e=this.turn("range"))[0];t<=e[1];t++)p._addPage.call(this,t)},range:function(t){var e,n,i,a,r=this.data();if(a=p._view.call(this,t=t||r.tpage||r.page||1),t<1||t>r.totalPages)throw P('"'+t+'" is not a valid page');return a[1]=a[1]||a[0],a[0]>=1&&a[1]<=r.totalPages?(e=Math.floor(2),r.totalPages-a[1]>a[0]?i=2*e-(n=Math.min(a[0]-1,e)):n=2*e-(i=Math.min(r.totalPages-a[1],e))):(n=5,i=5),[Math.max(1,a[0]-n),Math.min(r.totalPages,a[1]+i)]},_necessPage:function(t){if(0===t)return!0;var e=this.turn("range");return this.data().pageObjs[t].hasClass("fixed")||t>=e[0]&&t<=e[1]},_removeFromDOM:function(){var t,e=this.data();for(t in e.pageWrap)$(t,e.pageWrap)&&!p._necessPage.call(this,t)&&p._removePageFromDOM.call(this,t)},_removePageFromDOM:function(t){var e=this.data();if(e.pages[t]){var n=e.pages[t].data();v._moveFoldingPage.call(e.pages[t],!1),n.f&&n.f.fwrapper&&n.f.fwrapper.remove(),e.pages[t].removeData(),e.pages[t].remove(),delete e.pages[t]}e.pageObjs[t]&&e.pageObjs[t].remove(),e.pageWrap[t]&&(e.pageWrap[t].remove(),delete e.pageWrap[t]),p._removeMv.call(this,t),delete e.pagePlace[t],delete e.pageZoom[t]},removePage:function(t){var e=this.data();if("*"==t)for(;0!==e.totalPages;)this.turn("removePage",e.totalPages);else{if(t<1||t>e.totalPages)throw P("The page "+t+" doesn't exist");e.pageObjs[t]&&(this.turn("stop"),p._removePageFromDOM.call(this,t),delete e.pageObjs[t]),p._movePages.call(this,t,-1),e.totalPages=e.totalPages-1,e.page>e.totalPages?(e.page=null,p._fitPage.call(this,e.totalPages)):(p._makeRange.call(this),this.turn("update"))}return this},_movePages:function(t,e){var n,i=this,a=this.data(),r="single"==a.display,s=function(t){var n=t+e,s=n%2;a.pageObjs[t]&&(a.pageObjs[n]=a.pageObjs[t].removeClass("p"+t+" odd even").addClass("p"+n+(s?" odd ":" even "))),a.pagePlace[t]&&a.pageWrap[t]&&(a.pagePlace[n]=n,a.pageWrap[n]=a.pageObjs[n].hasClass("fixed")?a.pageWrap[t].attr("page",n):a.pageWrap[t].css(p._pageSize.call(i,n,!0)).attr("page",n),a.pages[t]&&(a.pages[n]=a.pages[t].flip("options",{page:n,next:r||s?n+1:n-1})),e&&(delete a.pages[t],delete a.pagePlace[t],delete a.pageZoom[t],delete a.pageObjs[t],delete a.pageWrap[t]))};if(e>0)for(n=a.totalPages;n>=t;n--)s(n);else for(n=t;n<=a.totalPages;n++)s(n)},display:function(e){var n=this.data(),i=n.display;if(void 0===e)return i;if(-1==t.inArray(e,u))throw P('"'+e+'" is not a value for display');switch(e){case"single":n.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),n.pageObjs[0]=t("<div />",{class:"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)),this.addClass("shadow");break;case"double":n.pageObjs[0]&&(this.turn("stop").css({overflow:""}),n.pageObjs[0].remove(),delete n.pageObjs[0]),this.removeClass("shadow")}if(n.display=e,i){var a=this.turn("size");p._movePages.call(this,1,0),this.turn("size",a.width,a.height).turn("update")}return this},direction:function(e){var n=this.data();if(void 0===e)return n.direction;if(e=e.toLowerCase(),-1==t.inArray(e,h))throw P('"'+e+'" is not a value for direction');return"rtl"==e&&t(this).attr("dir","ltr").css({direction:"ltr"}),n.direction=e,n.done&&this.turn("size",t(this).width(),t(this).height()),this},animating:function(){return this.data().pageMv.length>0},corner:function(){var t,e,n=this.data();for(e in n.pages)if($(e,n.pages)&&(t=n.pages[e].flip("corner")))return t;return!1},data:function(){return this.data()},disable:function(e){var n,i=this.data(),a=this.turn("view");for(n in i.disabled=void 0===e||!0===e,i.pages)$(n,i.pages)&&i.pages[n].flip("disable",!!i.disabled||-1==t.inArray(parseInt(n,10),a));return this},disabled:function(t){return void 0===t?!0===this.data().disabled:this.turn("disable",t)},size:function(t,e){if(void 0===t||void 0===e)return{width:this.width(),height:this.height()};this.turn("stop");var n,i,a=this.data(),r="double"==a.display?t/2:t;for(n in this.css({width:t,height:e}),a.pageObjs[0]&&a.pageObjs[0].css({width:r,height:e}),a.pageWrap)$(n,a.pageWrap)&&(i=p._pageSize.call(this,n,!0),a.pageObjs[n].css({width:i.width,height:i.height}),a.pageWrap[n].css(i),a.pages[n]&&a.pages[n].css({width:i.width,height:i.height}));return this.turn("resize"),this},resize:function(){var t,e=this.data();for(e.pages[0]&&(e.pageWrap[0].css({left:-this.width()}),e.pages[0].flip("resize",!0)),t=1;t<=e.totalPages;t++)e.pages[t]&&e.pages[t].flip("resize",!0);p._updateShadow.call(this),e.opts.autoCenter&&this.turn("center")},_removeMv:function(t){var e,n=this.data();for(e=0;e<n.pageMv.length;e++)if(n.pageMv[e]==t)return n.pageMv.splice(e,1),!0;return!1},_addMv:function(t){var e=this.data();p._removeMv.call(this,t),e.pageMv.push(t)},_view:function(t){var e=this.data();return t=t||e.page,"double"==e.display?t%2?[t-1,t]:[t,t+1]:[t]},view:function(t){var e=this.data(),n=p._view.call(this,t);return"double"==e.display?[n[0]>0?n[0]:0,n[1]<=e.totalPages?n[1]:0]:[n[0]>0&&n[0]<=e.totalPages?n[0]:0]},stop:function(t,e){if(this.turn("animating")){var n,i,a,r=this.data();for(r.tpage&&(r.page=r.tpage,delete r.tpage),n=0;n<r.pageMv.length;n++)r.pageMv[n]&&r.pageMv[n]!==t&&(i=(a=r.pages[r.pageMv[n]]).data().f.opts,a.flip("hideFoldedPage",e),e||v._moveFoldingPage.call(a,!1),i.force&&(i.next=i.page%2==0?i.page-1:i.page+1,delete i.force))}return this.turn("update"),this},pages:function(t){var e=this.data();if(!t)return e.totalPages;if(t<e.totalPages)for(var n=e.totalPages;n>t;n--)this.turn("removePage",n);return e.totalPages=t,p._fitPage.call(this,e.page),this},_missing:function(t){var e=this.data();if(!(e.totalPages<1)){var n,i=this.turn("range",t),a=[];for(n=i[0];n<=i[1];n++)e.pageObjs[n]||a.push(n);a.length>0&&this.trigger("missing",[a])}},_fitPage:function(t){var e=this.data(),n=this.turn("view",t);if(p._missing.call(this,t),e.pageObjs[t]){e.page=t,this.turn("stop");for(var i=0;i<n.length;i++)n[i]&&e.pageZoom[n[i]]!=e.zoom&&(this.trigger("zoomed",[n[i],n,e.pageZoom[n[i]],e.zoom]),e.pageZoom[n[i]]=e.zoom);p._removeFromDOM.call(this),p._makeRange.call(this),p._updateShadow.call(this),this.trigger("turned",[t,n]),this.turn("update"),e.opts.autoCenter&&this.turn("center")}},_turnPage:function(e){var n,i,a=this.data(),r=a.pagePlace[e],s=this.turn("view"),o=this.turn("view",e);if(a.page!=e){var l=a.page;if("prevented"==T("turning",this,[e,o]))return void(l==a.page&&-1!=t.inArray(r,a.pageMv)&&a.pages[r].flip("hideFoldedPage",!0));-1!=t.inArray(1,o)&&this.trigger("first"),-1!=t.inArray(a.totalPages,o)&&this.trigger("last")}"single"==a.display?(n=s[0],i=o[0]):s[1]&&e>s[1]?(n=s[1],i=o[0]):s[0]&&e<s[0]&&(n=s[0],i=o[1]);var c=a.opts.turnCorners.split(","),u=a.pages[n].data().f,h=u.opts,d=u.point;p._missing.call(this,e),a.pageObjs[e]&&(this.turn("stop"),a.page=e,p._makeRange.call(this),a.tpage=i,h.next!=i&&(h.next=i,h.force=!0),this.turn("update"),u.point=d,a.pages[n].flip("turnPage","hard"==u.effect?"ltr"==a.direction?e>n?"r":"l":e>n?"l":"r":"ltr"==a.direction?c[e>n?1:0]:c[e>n?0:1]))},page:function(e){var n=this.data();if(void 0===e)return n.page;if(!n.disabled&&!n.destroying){if((e=parseInt(e,10))>0&&e<=n.totalPages)return e!=n.page&&(n.done&&-1==t.inArray(e,this.turn("view"))?p._turnPage.call(this,e):p._fitPage.call(this,e)),this;throw P("The page "+e+" does not exist")}},next:function(){return this.turn("page",Math.min(this.data().totalPages,p._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,p._view.call(this,this.data().page).shift()-1))},peel:function(t,e){var n,i=this.data(),a=this.turn("view");return e=void 0===e||!0===e,!1===t?this.turn("stop",null,e):"single"==i.display?i.pages[i.page].flip("peel",t,e):(n="ltr"==i.direction?-1!=t.indexOf("l")?a[0]:a[1]:-1!=t.indexOf("l")?a[1]:a[0],i.pages[n]&&i.pages[n].flip("peel",t,e)),this},_addMotionPage:function(){var e=t(this).data().f.opts,n=e.turn;n.data(),p._addMv.call(n,e.page)},_eventStart:function(t,e,n){var i=e.turn.data(),a=i.pageZoom[e.page];t.isDefaultPrevented()?p._updateShadow.call(e.turn):(a&&a!=i.zoom&&(e.turn.trigger("zoomed",[e.page,e.turn.turn("view",e.page),a,i.zoom]),i.pageZoom[e.page]=i.zoom),"single"==i.display&&n&&("l"==n.charAt(1)&&"ltr"==i.direction||"r"==n.charAt(1)&&"rtl"==i.direction?(e.next=e.next<e.page?e.next:e.page-1,e.force=!0):e.next=e.next>e.page?e.next:e.page+1),p._addMotionPage.call(t.target),p._updateShadow.call(e.turn))},_eventEnd:function(e,n,i){var a=(t(e.target).data(),n.turn),r=a.data();if(i){var s=r.tpage||r.page;(s==n.next||s==n.page)&&(delete r.tpage,p._fitPage.call(a,s||n.next,!0))}else p._removeMv.call(a,n.page),p._updateShadow.call(a),a.turn("update")},_eventPressed:function(e){var n=t(e.target).data().f,i=n.opts.turn;return i.data().mouseAction=!0,i.turn("update"),n.time=(new Date).getTime()},_eventReleased:function(e,n){var i,a=t(e.target),r=a.data().f,s=r.opts.turn,o=s.data();i="single"==o.display?"br"==n.corner||"tr"==n.corner?n.x<a.width()/2:n.x>a.width()/2:n.x<0||n.x>a.width(),((new Date).getTime()-r.time<200||i)&&(e.preventDefault(),p._turnPage.call(s,r.opts.next)),o.mouseAction=!1},_flip:function(e){e.stopPropagation();var n=t(e.target).data().f.opts;n.turn.trigger("turn",[n.next]),n.turn.data().opts.autoCenter&&n.turn.turn("center",n.next)},_touchStart:function(){var t=this.data();for(var e in t.pages)if($(e,t.pages)&&!1===v._eventStart.apply(t.pages[e],arguments))return!1},_touchMove:function(){var t=this.data();for(var e in t.pages)$(e,t.pages)&&v._eventMove.apply(t.pages[e],arguments)},_touchEnd:function(){var t=this.data();for(var e in t.pages)$(e,t.pages)&&v._eventEnd.apply(t.pages[e],arguments)},calculateZ:function(t){var e,n,i,a,r,s=this,o=this.data(),l=this.turn("view"),c=l[0]||l[1],u=t.length-1,h={pageZ:{},partZ:{},pageV:{}},d=function(t){var e=s.turn("view",t);e[0]&&(h.pageV[e[0]]=!0),e[1]&&(h.pageV[e[1]]=!0)};for(e=0;e<=u;e++)i=o.pages[n=t[e]].data().f.opts.next,a=o.pagePlace[n],d(n),d(i),h.pageZ[r=o.pagePlace[i]==i?i:n]=o.totalPages-Math.abs(c-r),h.partZ[a]=2*o.totalPages-u+e;return h},update:function(){var e,n=this.data();if(this.turn("animating")&&0!==n.pageMv[0]){var i,a,r=this.turn("calculateZ",n.pageMv),s=this.turn("corner"),o=this.turn("view"),l=this.turn("view",n.tpage);for(e in n.pageWrap)$(e,n.pageWrap)&&(a=n.pageObjs[e].hasClass("fixed"),n.pageWrap[e].css({display:r.pageV[e]||a?"":"none",zIndex:(n.pageObjs[e].hasClass("hard")?r.partZ[e]:r.pageZ[e])||(a?-1:0)}),(i=n.pages[e])&&(i.flip("z",r.partZ[e]||null),r.pageV[e]&&i.flip("resize"),n.tpage?i.flip("hover",!1).flip("disable",-1==t.inArray(parseInt(e,10),n.pageMv)&&e!=l[0]&&e!=l[1]):i.flip("hover",!1===s).flip("disable",e!=o[0]&&e!=o[1])))}else for(e in n.pageWrap)if($(e,n.pageWrap)){var c=p._setPageLoc.call(this,e);n.pages[e]&&n.pages[e].flip("disable",n.disabled||1!=c).flip("hover",!0).flip("z",null)}return this},_updateShadow:function(){var e,n,i=this.data(),a=this.width(),r=this.height(),s="single"==i.display?a:a/2;e=this.turn("view"),i.shadow||(i.shadow=t("<div />",{class:"shadow",css:g(0,0,0).css}).appendTo(this));for(var o=0;o<i.pageMv.length&&e[0]&&e[1];o++)e=this.turn("view",i.pages[i.pageMv[o]].data().f.opts.next),n=this.turn("view",i.pageMv[o]),e[0]=e[0]&&n[0],e[1]=e[1]&&n[1];switch(e[0]?e[1]?3:"ltr"==i.direction?2:1:"ltr"==i.direction?1:2){case 1:i.shadow.css({width:s,height:r,top:0,left:s});break;case 2:i.shadow.css({width:s,height:r,top:0,left:0});break;case 3:i.shadow.css({width:a,height:r,top:0,left:0})}},_setPageLoc:function(t){var e=this.data(),n=this.turn("view"),i=0;if(t==n[0]||t==n[1]?i=1:("single"==e.display&&t==n[0]+1||"double"==e.display&&t==n[0]-2||t==n[1]+2)&&(i=2),!this.turn("animating"))switch(i){case 1:e.pageWrap[t].css({zIndex:e.totalPages,display:""});break;case 2:e.pageWrap[t].css({zIndex:e.totalPages-1,display:""});break;case 0:e.pageWrap[t].css({zIndex:0,display:e.pageObjs[t].hasClass("fixed")?"":"none"})}return i},options:function(e){if(void 0===e)return this.data().opts;var n=this.data();if(t.extend(n.opts,e),e.pages&&this.turn("pages",e.pages),e.page&&this.turn("page",e.page),e.display&&this.turn("display",e.display),e.direction&&this.turn("direction",e.direction),e.width&&e.height&&this.turn("size",e.width,e.height),e.when)for(var i in e.when)$(i,e.when)&&this.unbind(i).bind(i,e.when[i]);return this},version:function(){return"4.1.0"}},v={init:function(t){return this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}}),this.flip("options",t),v._addPageWrapper.call(this),this},setData:function(e){var n=this.data();return n.f=t.extend(n.f,e),this},options:function(e){var n=this.data().f;return e?(v.setData.call(this,{opts:t.extend({},n.opts||f,e)}),this):n.opts},z:function(t){var e=this.data().f;return e.opts["z-index"]=t,e.fwrapper&&e.fwrapper.css({zIndex:t||parseInt(e.parent.css("z-index"),10)||0}),this},_cAllowed:function(){var t=this.data().f,e=t.opts.page,n=t.opts.turn.data(),i=e%2;return"hard"==t.effect?"ltr"==n.direction?[i?"r":"l"]:[i?"l":"r"]:"single"!=n.display?"ltr"==n.direction?c[i?"forward":"backward"]:c[i?"backward":"forward"]:1==e?"ltr"==n.direction?c.forward:c.backward:e==n.totalPages?"ltr"==n.direction?c.backward:c.forward:c.all},_cornerActivated:function(e){var n=this.data().f,i=this.width(),a=this.height(),r={x:e.x,y:e.y,corner:""},s=n.opts.cornerSize;if(r.x<=0||r.y<=0||r.x>=i||r.y>=a)return!1;var o=v._cAllowed.call(this);switch(n.effect){case"hard":if(r.x>i-s)r.corner="r";else{if(!(r.x<s))return!1;r.corner="l"}break;case"sheet":if(r.y<s)r.corner+="t";else{if(!(r.y>=a-s))return!1;r.corner+="b"}if(r.x<=s)r.corner+="l";else{if(!(r.x>=i-s))return!1;r.corner+="r"}}return!!r.corner&&-1!=t.inArray(r.corner,o)&&r},_isIArea:function(t){var e=this.data().f.parent.offset();return v._cornerActivated.call(this,{x:(t=o&&t.originalEvent?t.originalEvent.touches[0]:t).pageX-e.left,y:t.pageY-e.top})},_c:function(t,e){switch(e=e||0,t){case"tl":return y(e,e);case"tr":return y(this.width()-e,e);case"bl":return y(e,this.height()-e);case"br":return y(this.width()-e,this.height()-e);case"l":return y(e,0);case"r":return y(this.width()-e,0)}},_c2:function(t){switch(t){case"tl":case"l":return y(2*this.width(),0);case"tr":case"r":return y(-this.width(),0);case"bl":return y(2*this.width(),this.height());case"br":return y(-this.width(),this.height())}},_foldingPage:function(){var t=this.data().f;if(t){var e=t.opts;if(e.turn)return"single"==(t=e.turn.data()).display?e.next>1||e.page>1?t.pageObjs[0]:null:t.pageObjs[e.next]}},_backGradient:function(){var e=this.data().f,n=e.opts.turn.data(),i=n.opts.gradients&&("single"==n.display||2!=e.opts.page&&e.opts.page!=n.totalPages-1);return i&&!e.bshadow&&(e.bshadow=t("<div/>",g(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(e.parent)),i},type:function(){return this.data().f.effect},resize:function(t){var e=this.data().f,n=e.opts.turn.data(),i=this.width(),a=this.height();switch(e.effect){case"hard":t&&(e.wrapper.css({width:i,height:a}),e.fpage.css({width:i,height:a}),n.opts.gradients&&(e.ashadow.css({width:i,height:a}),e.bshadow.css({width:i,height:a})));break;case"sheet":if(t){var r=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(a,2)));e.wrapper.css({width:r,height:r}),e.fwrapper.css({width:r,height:r}).children(":first-child").css({width:i,height:a}),e.fpage.css({width:i,height:a}),n.opts.gradients&&e.ashadow.css({width:i,height:a}),v._backGradient.call(this)&&e.bshadow.css({width:i,height:a})}if(e.parent.is(":visible")){var s=M(e.parent[0]);e.fwrapper.css({top:s.top,left:s.left}),s=M(e.opts.turn[0]),e.fparent.css({top:-s.top,left:-s.left})}this.flip("z",e.opts["z-index"])}},_addPageWrapper:function(){var e=this.data().f,n=e.opts.turn.data(),i=this.parent();if(e.parent=i,!e.wrapper)switch(e.effect){case"hard":var r={};r[a+"transform-style"]="preserve-3d",r[a+"backface-visibility"]="hidden",e.wrapper=t("<div/>",g(0,0,2)).css(r).appendTo(i).prepend(this),e.fpage=t("<div/>",g(0,0,1)).css(r).appendTo(i),n.opts.gradients&&(e.ashadow=t("<div/>",g(0,0,0)).hide().appendTo(i),e.bshadow=t("<div/>",g(0,0,0)));break;case"sheet":if(this.width(),this.height(),e.fparent=e.opts.turn.data().fparent,!e.fparent){var s=t("<div/>",{css:{"pointer-events":"none"}}).hide();s.data().flips=0,s.css(g(0,0,"auto","visible").css).appendTo(e.opts.turn),e.opts.turn.data().fparent=s,e.fparent=s}this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),e.wrapper=t("<div/>",g(0,0,this.css("z-index"))).appendTo(i).prepend(this),e.fwrapper=t("<div/>",g(i.offset().top,i.offset().left)).hide().appendTo(e.fparent),e.fpage=t("<div/>",g(0,0,0,"visible")).css({cursor:"default"}).appendTo(e.fwrapper),n.opts.gradients&&(e.ashadow=t("<div/>",g(0,0,1)).appendTo(e.fpage)),v.setData.call(this,e)}v.resize.call(this,!0)},_fold:function(t){var e=this.data().f,n=e.opts.turn.data(),o=v._c.call(this,t.corner),l=this.width(),c=this.height();switch(e.effect){case"hard":t.x="l"==t.corner?Math.min(Math.max(t.x,0),2*l):Math.max(Math.min(t.x,l),-l);var u,h,d,f,p,m=n.totalPages,g=e.opts["z-index"]||m,b={overflow:"visible"},$=o.x?(o.x-t.x)/l:t.x/l,C=90*$,T=C<90;switch(t.corner){case"l":f="0% 50%",p="100% 50%",T?(u=0,h=e.opts.next-1>0,d=1):(u="100%",h=e.opts.page+1<m,d=0);break;case"r":f="100% 50%",p="0% 50%",C=-C,l=-l,T?(u=0,h=e.opts.next+1<m,d=0):(u="-100%",h=1!=e.opts.page,d=1)}b[a+"perspective-origin"]=p,e.wrapper.transform("rotateY("+C+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",p),e.fpage.transform("translateX("+l+"px) rotateY("+(180+C)+"deg)",f),e.parent.css(b),T?($=1-$,e.wrapper.css({zIndex:g+1}),e.fpage.css({zIndex:g})):($-=1,e.wrapper.css({zIndex:g}),e.fpage.css({zIndex:g+1})),n.opts.gradients&&(h?e.ashadow.css({display:"",left:u,backgroundColor:"rgba(0,0,0,"+.5*$+")"}).transform("rotateY(0deg)"):e.ashadow.hide(),e.bshadow.css({opacity:1-$}),T?e.bshadow.parent()[0]!=e.wrapper[0]&&e.bshadow.appendTo(e.wrapper):e.bshadow.parent()[0]!=e.fpage[0]&&e.bshadow.appendTo(e.fpage),x(e.bshadow,y(100*d,0),y(100*(1-d),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case"sheet":var P,M,S,B,A,F,E,L=this,I=0,O=y(0,0),j=y(0,0),D=y(0,0),R=v._foldingPage.call(this),_=n.opts.acceleration,W=e.wrapper.height(),H="t"==t.corner.substr(0,1),z="l"==t.corner.substr(1,1),q=function e(){var a=y(0,0),u=y(0,0);a.x=o.x?o.x-t.x:t.x,a.y=i?o.y?o.y-t.y:t.y:0,u.x=z?l-a.x/2:t.x+a.x/2,u.y=a.y/2;var h=s-Math.atan2(a.y,a.x),d=Math.max(0,Math.sin(h-Math.atan2(u.y,u.x))*Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2)));if(I=h/r*180,D=y(d*Math.sin(h),d*Math.cos(h)),h>s&&(D.x=D.x+Math.abs(D.y*a.y/a.x),D.y=0,Math.round(D.x*Math.tan(r-h))<c))return t.y=Math.sqrt(Math.pow(c,2)+2*u.x*a.x),H&&(t.y=c-t.y),e();if(h>s){var f=r-h,p=W-c/Math.sin(f);O=y(Math.round(p*Math.cos(f)),Math.round(p*Math.sin(f))),z&&(O.x=-O.x),H&&(O.y=-O.y)}var m=l-(P=Math.round(D.y/Math.tan(h)+D.x)),g=m*Math.cos(2*h),b=m*Math.sin(2*h);if(j=y(Math.round(z?m-g:P+g),Math.round(H?b:c-b)),n.opts.gradients){A=m*Math.sin(h);var w=v._c2.call(L,t.corner),k=Math.sqrt(Math.pow(w.x-t.x,2)+Math.pow(w.y-t.y,2))/l;E=Math.sin(s*(k>1?2-k:k)),F=Math.min(k,1),B=A>100?(A-100)/A:0,M=y(A*Math.sin(h)/l*100,A*Math.cos(h)/c*100),v._backGradient.call(L)&&(S=y(1.2*A*Math.sin(h)/l*100,1.2*A*Math.cos(h)/c*100),z||(S.x=100-S.x),H||(S.y=100-S.y))}return D.x=Math.round(D.x),D.y=Math.round(D.y),!0},N=function(t,i,a,r){var s=["0","auto"],o=(l-W)*a[0]/100,u=(c-W)*a[1]/100,h={left:s[i[0]],top:s[i[1]],right:s[i[2]],bottom:s[i[3]]},d={},f=90!=r&&-90!=r?z?-1:1:0,p=a[0]+"% "+a[1]+"%";L.css(h).transform(k(r)+w(t.x+f,t.y,_),p),e.fpage.css(h).transform(k(r)+w(t.x+j.x-O.x-l*a[0]/100,t.y+j.y-O.y-c*a[1]/100,_)+k((180/r-2)*r),p),e.wrapper.transform(w(-t.x+o-f,-t.y+u,_)+k(-r),p),e.fwrapper.transform(w(-t.x+O.x+o,-t.y+O.y+u,_)+k(-r),p),n.opts.gradients&&(a[0]&&(M.x=100-M.x),a[1]&&(M.y=100-M.y),d["box-shadow"]="0 0 20px rgba(0,0,0,"+.5*E+")",R.css(d),x(e.ashadow,y(z?100:0,H?0:100),y(M.x,M.y),[[B,"rgba(0,0,0,0)"],[.8*(1-B)+B,"rgba(0,0,0,"+.2*F+")"],[1,"rgba(255,255,255,"+.2*F+")"]],3),v._backGradient.call(L)&&x(e.bshadow,y(z?0:100,H?0:100),y(S.x,S.y),[[.6,"rgba(0,0,0,0)"],[.8,"rgba(0,0,0,"+.3*F+")"],[1,"rgba(0,0,0,0)"]],3))};switch(t.corner){case"l":case"r":break;case"tl":t.x=Math.max(t.x,1),q(),N(D,[1,0,0,1],[100,0],I);break;case"tr":t.x=Math.min(t.x,l-1),q(),N(y(-D.x,D.y),[0,0,0,1],[0,0],-I);break;case"bl":t.x=Math.max(t.x,1),q(),N(y(D.x,-D.y),[1,1,0,0],[100,100],-I);break;case"br":t.x=Math.min(t.x,l-1),q(),N(y(-D.x,-D.y),[0,1,1,0],[0,100],I)}}e.point=t},_moveFoldingPage:function(t){var e=this.data().f;if(e){var n=e.opts.turn,i=n.data(),a=i.pagePlace;if(t){var r=e.opts.next;a[r]!=e.opts.page&&(e.folding&&v._moveFoldingPage.call(this,!1),v._foldingPage.call(this).appendTo(e.fpage),a[r]=e.opts.page,e.folding=r),n.turn("update")}else if(e.folding){if(i.pages[e.folding]){var s=i.pages[e.folding].data().f;i.pageObjs[e.folding].appendTo(s.wrapper)}else i.pageWrap[e.folding]&&i.pageObjs[e.folding].appendTo(i.pageWrap[e.folding]);e.folding in a&&(a[e.folding]=e.folding),delete e.folding}}},_showFoldedPage:function(t,e){var n=v._foldingPage.call(this),i=this.data(),a=i.f,r=a.visible;if(n){if(!r||!a.point||a.point.corner!=t.corner){var s="hover"==a.status||"peel"==a.status||a.opts.turn.data().mouseAction?t.corner:null;if(r=!1,"prevented"==T("start",this,[a.opts,s]))return!1}if(e){var o=this,l=a.point&&a.point.corner==t.corner?a.point:v._c.call(this,t.corner,1);this.animatef({from:[l.x,l.y],to:[t.x,t.y],duration:500,frame:function(e){t.x=Math.round(e[0]),t.y=Math.round(e[1]),v._fold.call(o,t)}})}else v._fold.call(this,t),i.effect&&!i.effect.turning&&this.animatef(!1);if(!r)switch(a.effect){case"hard":a.visible=!0,v._moveFoldingPage.call(this,!0),a.fpage.show(),a.opts.shadows&&a.bshadow.show();break;case"sheet":a.visible=!0,a.fparent.show().data().flips++,v._moveFoldingPage.call(this,!0),a.fwrapper.show(),a.bshadow&&a.bshadow.show()}return!0}return!1},hide:function(){var t=this.data().f,e=t.opts.turn.data(),n=v._foldingPage.call(this);switch(t.effect){case"hard":e.opts.gradients&&(t.bshadowLoc=0,t.bshadow.remove(),t.ashadow.hide()),t.wrapper.transform(""),t.fpage.hide();break;case"sheet":0==--t.fparent.data().flips&&t.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),t.wrapper.transform(""),t.fwrapper.hide(),t.bshadow&&t.bshadow.hide(),n.transform("")}return t.visible=!1,this},hideFoldedPage:function(t){var e=this.data().f;if(e.point){var n=this,i=e.point,a=function(){e.point=null,e.status="",n.flip("hide"),n.trigger("end",[e.opts,!1])};if(t){var r=v._c.call(this,i.corner),s="t"==i.corner.substr(0,1)?Math.min(0,i.y-r.y)/2:Math.max(0,i.y-r.y)/2,o=y(i.x,i.y+s),l=y(r.x,r.y-s);this.animatef({from:0,to:1,frame:function(t){var e=b(i,o,l,r,t);i.x=e.x,i.y=e.y,v._fold.call(n,i)},complete:a,duration:800,hiding:!0})}else this.animatef(!1),a()}},turnPage:function(t){var e=this,n=this.data().f,i=n.opts.turn.data();t={corner:n.corner?n.corner.corner:t||v._cAllowed.call(this)[0]};var a=n.point||v._c.call(this,t.corner,n.opts.turn?i.opts.elevation:0),r=v._c2.call(this,t.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(n){var i=b(a,a,r,r,n);t.x=i.x,t.y=i.y,v._showFoldedPage.call(e,t)},complete:function(){e.trigger("end",[n.opts,!0])},duration:i.opts.duration,turning:!0}),n.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(t){var e=this.data().f,n=e.opts.turn;if(!e.corner&&!e.disabled&&!this.flip("isTurning")&&e.opts.page==n.data().pagePlace[e.opts.page]){if(e.corner=v._isIArea.call(this,t),e.corner&&v._foldingPage.call(this))return this.trigger("pressed",[e.point]),v._showFoldedPage.call(this,e.corner),!1;e.corner=null}},_eventMove:function(t){var e=this.data().f;if(!e.disabled)if(t=o?t.originalEvent.touches:[t],e.corner){var n=e.parent.offset();e.corner.x=t[0].pageX-n.left,e.corner.y=t[0].pageY-n.top,v._showFoldedPage.call(this,e.corner)}else if(e.hover&&!this.data().effect&&this.is(":visible")){var i=v._isIArea.call(this,t[0]);if(i){if("sheet"==e.effect&&2==i.corner.length||"hard"==e.effect){e.status="hover";var a=v._c.call(this,i.corner,e.opts.cornerSize/2);i.x=a.x,i.y=a.y,v._showFoldedPage.call(this,i,!0)}}else"hover"==e.status&&(e.status="",v.hideFoldedPage.call(this,!0))}},_eventEnd:function(){var t=this.data().f,e=t.corner;!t.disabled&&e&&"prevented"!=T("released",this,[t.point||e])&&v.hideFoldedPage.call(this,!0),t.corner=null},disable:function(t){return v.setData.call(this,{disabled:t}),this},hover:function(t){return v.setData.call(this,{hover:t}),this},peel:function(e,n){var i=this.data().f;if(e){if(-1==t.inArray(e,c.all))throw P("Corner "+e+" is not permitted");if(-1!=t.inArray(e,v._cAllowed.call(this))){var a=v._c.call(this,e,i.opts.cornerSize/2);i.status="peel",v._showFoldedPage.call(this,{corner:e,x:a.x,y:a.y},n)}}else i.status="",v.hideFoldedPage.call(this,n);return this}};function m(t,n,i){if(!i[0]||"object"==e(i[0]))return n.init.apply(t,i);if(n[i[0]])return n[i[0]].apply(t,Array.prototype.slice.call(i,1));throw P(i[0]+" is not a method or property")}function g(t,e,n,i){return{css:{position:"absolute",top:t,left:e,overflow:i||"hidden",zIndex:n||"auto"}}}function b(t,e,n,i,a){var r=1-a,s=r*r*r,o=a*a*a;return y(Math.round(s*t.x+3*a*r*r*e.x+3*a*a*r*n.x+o*i.x),Math.round(s*t.y+3*a*r*r*e.y+3*a*a*r*n.y+o*i.y))}function y(t,e){return{x:t,y:e}}function w(t,e,i){return n&&i?" translate3d("+t+"px,"+e+"px, 0px) ":" translate("+t+"px, "+e+"px) "}function k(t){return" rotate("+t+"deg) "}function $(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function C(){for(var t=["Moz","Webkit","Khtml","O","ms"],e=t.length,n="";e--;)t[e]+"Transform"in document.body.style&&(n="-"+t[e].toLowerCase()+"-");return n}function x(t,e,n,i,r){var s,o=[];if("-webkit-"==a){for(s=0;s<r;s++)o.push("color-stop("+i[s][0]+", "+i[s][1]+")");t.css({"background-image":"-webkit-gradient(linear, "+e.x+"% "+e.y+"%,"+n.x+"% "+n.y+"%, "+o.join(",")+" )"})}else{e={x:e.x/100*t.width(),y:e.y/100*t.height()};var l=(n={x:n.x/100*t.width(),y:n.y/100*t.height()}).x-e.x,c=n.y-e.y,u=Math.atan2(c,l),h=u-Math.PI/2,d=Math.abs(t.width()*Math.sin(h))+Math.abs(t.height()*Math.cos(h)),f=Math.sqrt(c*c+l*l),p=y(n.x<e.x?t.width():0,n.y<e.y?t.height():0),v=Math.tan(u),m=-1/v,g=(m*p.x-p.y-v*e.x+e.y)/(m-v),b={x:g,y:m*g-m*p.x+p.y},w=Math.sqrt(Math.pow(b.x-e.x,2)+Math.pow(b.y-e.y,2));for(s=0;s<r;s++)o.push(" "+i[s][1]+" "+100*(w+f*i[s][0])/d+"%");t.css({"background-image":a+"linear-gradient("+-u+"rad,"+o.join(",")+")"})}}function T(e,n,i){var a=t.Event(e);return n.trigger(a,i),a.isDefaultPrevented()?"prevented":a.isPropagationStopped()?"stopped":""}function P(t){function e(t){this.name="TurnJsError",this.message=t}return(e.prototype=Error()).constructor=e,new e(t)}function M(t){var e={top:0,left:0};do{e.left+=t.offsetLeft,e.top+=t.offsetTop}while(t=t.offsetParent);return e}window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.extend(t.fn,{flip:function(){return m(t(this[0]),v,arguments)},turn:function(){return m(t(this[0]),p,arguments)},transform:function(t,e){var n={};return e&&(n[a+"transform-origin"]=e),n[a+"transform"]=t,this.css(n)},animatef:function(e){var n=this.data();if(n.effect&&n.effect.stop(),e){e.to.length||(e.to=[e.to]),e.from.length||(e.from=[e.from]);for(var i=[],a=e.to.length,r=!0,s=this,o=(new Date).getTime(),l=0;l<a;l++)i.push(e.to[l]-e.from[l]);n.effect=t.extend({stop:function(){r=!1},easing:function(t,e,n,i,a){return i*Math.sqrt(1-(e=e/a-1)*e)+n}},e),this.data(n),function t(){if(n.effect&&r){for(var l=[],c=Math.min(e.duration,(new Date).getTime()-o),u=0;u<a;u++)l.push(n.effect.easing(1,c,e.from[u],i[u],e.duration));e.frame(1==a?l[0]:l),c==e.duration?(delete n.effect,s.data(n),e.complete&&e.complete()):window.requestAnim(t)}}()}else delete n.effect}}),t.isTouch=o,t.mouseEvents=l,t.cssPrefix=C,t.cssTransitionEnd=function(){var t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]},t.findPos=M}(t)}).call(this,n(0))},8:function(t,e,n){"use strict";var i=n(0),a=n.n(i);n(113),n(3),n(2),n(11),n(35);var r=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$heroBanner=this.$container.prevAll("section").first(),this.$anchor=this.$container.find(".anchor"),this.$isAnchorRightFixed=this.$container.hasClass("anchor-right-fixed"),this.$anchorRightFixed=".anchor-right-fixed",this.$anchorRightFixedItem=".anchor-right-fixed-item",this.$decoration=this.$container.find(".anchor-decoration"),this.$topMenu=a()(".menu-top"),this.headerHeight=this.$topMenu.length?this.$topMenu.outerHeight():0,this.stickyBlockHeight=this.headerHeight+this.$container.outerHeight(),this.$header=a()(".header"),this.$footer=a()(".footer"),this.$bannerAlert=a()(".banner-alert"),this.heroBannerHeight=this.$heroBanner.offset().top+this.$heroBanner.outerHeight(),this.$slider=this.$container.find(".anchors-list"),this.$anchorsWrapper=this.$container.find(".anchors-wrapper"),this.$anchorsWrapperInner=this.$anchorsWrapper.find(".anchors-wrapper-inner"),this.$scrollNext=this.$container.find(".scroll-next"),this.$scrollPrev=this.$container.find(".scroll-prev"),this.$cta=this.$anchorsWrapper.find(".button").last(),this.$hasHiddenItems=!1,this.$anchorsCta=a()(".anchors-cta"),this.init(),a()(window).on("scroll resize",function(){i.manageSticky(),i.manageRightAnchor(),i.updateCurrentAnchor(),i.updateFade()}),this.$container.find(".anchor").on("click",function(t){t.preventDefault(),i.slideTo(a()(t.currentTarget))}),this.$container.find(".anchor").off("click",function(){a()("html").removeClass("scroll")}),a()(this.$anchorRightFixedItem).click(function(t){t.preventDefault();var e=a()(this).attr("href");a()(e).length>0&&a()("html,body").animate({scrollTop:a()(e).offset().top},"slow")}),this.$scrollNext.on("click",function(t){t.preventDefault(),i.slideTo("next")}),this.$scrollNext.off("click",function(){a()("html").removeClass("scroll")}),this.$scrollPrev.on("click",function(t){t.preventDefault(),i.slideTo("prev")}),this.$scrollPrev.off("click",function(){a()("html").removeClass("scroll")}),a()(document).on("keydown",function(t){switch(t.key){case"ArrowRight":i.slideTo("next");break;case"ArrowLeft":i.slideTo("prev")}}),a()(document).off("keydown",function(){a()("html").removeClass("scroll")})}var e;return(e=[{key:"init",value:function(){this.manageRightAnchor(),this.displayCurrentAnchor(a()(".anchors-hero-banner .anchors-list .anchors-item .anchor").first()),this.generateDecoration(),this.updateFade(),this.setMarginTop(),this.manageSticky()}},{key:"setMarginTop",value:function(){a()(".anchors-hero-banner.anchors-hero-banner-v2").css("margin-top","-"+a()(".anchors-hero-banner.anchors-hero-banner-v2").height()/2+"px")}},{key:"slideTo",value:function(t){var e;(e="next"===t?a()(".anchor.active").parent().next("li").find("a"):"prev"===t?a()(".anchor.active").parent().prev("li").find("a"):t).length&&(a()("html").addClass("scroll"),this.scrollToContent(e),this.updateCurrentAnchor())}},{key:"transformSlider",value:function(t){if(this.$hasHiddenItems&&this.$container.hasClass("anchors-hero-banner-v2")){var e=t.position().left-8,n=t.outerWidth(!0),i=this.$anchorsWrapperInner.width();this.$cta.length&&"none"!==this.$cta.css("display")&&(i-=this.$cta.outerWidth());var a=e+n/2-i/2,r=this.getSliderItemsWidth()-i;a>r&&(a=r),a<0&&(a=0),this.$slider.css("transform","translateX(-"+a+"px)")}}},{key:"manageSticky",value:function(){var t=a()(window).scrollTop()+this.headerHeight+8,e=this.$heroBanner.offset().top+this.$heroBanner.outerHeight(),n=a()(".subnav-wrapper"),i=n.length>0,r="hidden",s=0;a()(".anchors-hero-banner.anchors-hero-banner-v2").css("margin-top","0"),i&&(r="hidden-with-submenu",t+=30,s=n.outerHeight()),t>e?(this.$container.addClass("sticky"),this.$bannerAlert.length&&"matchMedia"in window&&window.matchMedia("(min-width:960px)").matches&&this.$container.hasClass("anchors-hero-banner-v2")&&!this.$isAnchorRightFixed&&this.$container.css("top",s),this.$header.addClass(r),this.$footer.addClass("extra-padding"),n.css({"box-shadow":"none"}),this.$anchorsCta.removeClass("hidden")):(this.$container.removeClass("sticky"),this.$header.removeClass(r),this.generateDecoration(),this.$footer.removeClass("extra-padding"),n.css({"box-shadow":"0 4px 16px 0 rgba(0,0,0,.12)"}),this.$container.removeAttr("style"),this.$anchorsCta.addClass("hidden"),this.setMarginTop())}},{key:"manageRightAnchor",value:function(){a()(window).scrollTop()>this.heroBannerHeight?(a()(this.$anchorRightFixed).fadeIn("slow"),a()(this.$anchorRightFixed).removeClass("is-hidden")):a()(this.$anchorRightFixed).fadeOut("slow")}},{key:"displayCurrentAnchor",value:function(t){this.$anchor.removeClass("active"),t.addClass("active"),this.$anchor.attr("aria-current",!1),t.attr("aria-current",!0)}},{key:"generateDecoration",value:function(){var t=a()(".anchor.active");0!==t.length&&this.$slider.length&&(this.$decoration.css("width","".concat(t.width(),"px")),this.$container.hasClass("anchors-hero-banner-v2")?this.$decoration.css("left","".concat(t.position().left+this.$slider.position().left-8,"px")):this.$decoration.css("left","".concat(t.position().left,"px")))}},{key:"scrollToContent",value:function(t){var e,n=t.attr("href").split("#"),i=a()('a[id="'.concat(n[1],'"]'));i.length&&(e=this.$container.hasClass("sticky")?i.offset().top-this.stickyBlockHeight+53:i.offset().top-this.stickyBlockHeight,a()("html, body").scrollTop(e),i.focus())}},{key:"updateCurrentAnchor",value:function(){var t=this,e=a()('a[id*="anchor-"]');e.each(function(n){var i=a()(e[n]).offset().top-(t.stickyBlockHeight+50);if(a()(window).scrollTop()>=i){var r=a()(e[n]).attr("id"),s=t.$container.find('.anchor[href="#'.concat(r,'"]'));0!==s.length&&(t.displayCurrentAnchor(s),t.transformSlider(s.parent())),t.generateDecoration()}})}},{key:"getSliderItemsWidth",value:function(){var t=0;return this.$slider.children("li").each(function(){t+=a()(this).outerWidth(!0)}),t}},{key:"updateFade",value:function(){if(this.$slider.length&&this.$container.hasClass("anchors-hero-banner-v2")){var t=this.$anchorsWrapperInner.width();this.$cta.length&&"none"!==this.$cta.css("display")&&(t-=this.$cta.width());var e=this.getSliderItemsWidth()-t-20;this.$hasHiddenItems=!1,this.$slider.position().left<12?(this.$scrollPrev.show(),this.$hasHiddenItems=!0):this.$scrollPrev.hide(),this.getSliderItemsWidth()>t&&this.$slider.position().left>-e?(this.$scrollNext.show(),this.$hasHiddenItems=!0,this.$cta.length&&"none"!==this.$cta.css("display")?this.$scrollNext.css("right",this.$anchorsWrapper.outerWidth()-this.$cta.position().left):this.$scrollNext.css("right",0)):this.$scrollNext.hide()}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.anchors=function(t){var e=a.a.extend({},a.a.fn.anchors.defaults,t);return this.each(function(){new r(a()(this),e)})},a.a.fn.anchors.defaults={},n(20);var s=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$sharePanel=this.$container.find("#share-social-media"),this.$panelLinks=this.$sharePanel.find("a, button, span.lnk"),this.toggleSharePanel(),this.$container.find(".button-close").on("click",this.closePanel.bind(this))}var e;return(e=[{key:"toggleSharePanel",value:function(){var t=this;this.$container.find("#trigger-share-social-media").on("click",function(e){"false"===t.$sharePanel.attr("aria-expanded")?(a()(e.currentTarget).addClass("active"),t.$sharePanel.attr("aria-expanded","true").addClass("active"),t.$panelLinks.attr("tabindex","0")):t.closePanel()})}},{key:"closePanel",value:function(){this.$sharePanel.attr("aria-expanded","false").removeClass("active"),this.$panelLinks.attr("tabindex","-1"),this.$container.find("#trigger-share-social-media").removeClass("active")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.articleSupplement=function(t){var e=a.a.extend({},a.a.fn.articleSupplement.defaults,t);return this.each(function(){new s(a()(this),e)})},a.a.fn.articleSupplement.defaults={},n(21);var o=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$body=a()("body"),this.$header=a()(".header .nav-wrapper"),this.$breadcrumb=a()(".breadcrumb"),this.headerHeight=a()(".header .nav-wrapper").outerHeight(),this.$metaNav=a()("#meta-navigation"),setTimeout(function(){i.bannerHeight=e.outerHeight(),i.bodyPadding=i.bannerHeight+i.headerHeight,i.$container.hasClass("active")&&i.$container.parents(".header").length>0&&(i.displayBanner(),i.displayMenu("set"),i.$breadcrumb.length>0&&i.displayBreadcrumb("set"))},350),this.$container.find(".button-close").on("click",function(){i.$container.removeClass("active").attr("aria-hidden","true"),i.$header.css("top","0");var t=a()(".anchors-hero-banner.sticky");t.length&&"matchMedia"in window&&window.matchMedia("(min-width:960px)").matches&&t.css("top","0"),i.defineMetaNavHeight(),i.$body.css("padding-top",i.headerHeight),i.displayMenu("restore"),i.displayBreadcrumb("restore")})}var e;return(e=[{key:"displayBanner",value:function(){this.$header.css("top","".concat(this.bannerHeight,"px")),this.defineMetaNavHeight(),this.$body.css("padding-top",this.bodyPadding)}},{key:"displayMenu",value:function(t){var e;"set"===t?e=this.bodyPadding:"restore"===t&&(e=this.headerHeight),a()("#menu").css({top:"".concat(e,"px"),height:"calc(100vh - ".concat(e,"px)")})}},{key:"displayBreadcrumb",value:function(t){var e,n=Math.floor(this.$breadcrumb.css("top").split("px")[0]);"set"===t?e=n+this.bannerHeight:"restore"===t&&(e=n-this.bannerHeight),this.$breadcrumb.css("top","".concat(e,"px"))}},{key:"defineMetaNavHeight",value:function(){return this.$metaNav.is(":visible")?this.$metaNav.outerHeight():0}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.bannerAlert=function(t){var e=a.a.extend({},a.a.fn.bannerAlert.defaults,t);return this.each(function(){new o(a()(this),e)})},a.a.fn.bannerAlert.defaults={},n(38);var l=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$buttons=this.$container.find(".accordion-button"),this.$currentPanel=null,this.$currentButton=null,this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.$buttons.on("click",function(e){var n=a()(e.currentTarget),i=a()("#".concat(a()(e.currentTarget).attr("aria-controls")));i.is(t.$currentPanel)?(t.closePanel(t.$currentPanel,t.$currentButton),t.$currentPanel=null,t.$currentButton=null):(t.$currentPanel&&t.closePanel(t.$currentPanel,t.$currentButton),t.openPanel(i,n),t.$currentPanel=i,t.$currentButton=n)});var e=this.$buttons.filter(".active").first();e.length&&(this.$currentPanel=a()("#".concat(e.attr("aria-controls"))),this.$currentButton=e,this.openPanel(this.$currentPanel,this.$currentButton))}},{key:"closePanel",value:function(t,e){t.attr("aria-hidden","true").removeClass("active").slideUp(),t.find("a, button, span.lnk").attr("tabindex","-1"),e.removeClass("active").attr("aria-expanded","false")}},{key:"openPanel",value:function(t,e){t.attr("aria-hidden","false").addClass("active").slideDown(),e.addClass("active").attr("aria-expanded","true"),t.find("a, button, span.lnk").attr("tabindex","0")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.accordion=function(t){var e=a.a.extend({},a.a.fn.accordion.defaults,t);return this.each(function(){new l(a()(this),e)})},a.a.fn.accordion.defaults={},n(49),n(157);var c=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$form=this.$container.find(".form"),this.$inputRadio=this.$container.find("input[type=radio]"),this.$containerForm=this.$container.find(".container-form"),this.$inputs=this.$container.find(".input-text"),this.$error=this.$form.find(".error"),this.manageSaturdayCheckbox(),this.manageEventInputChecked(),this.skinScrollbar()}var e;return(e=[{key:"manageSaturdayCheckbox",value:function(){var t=this.$container.find("input:checked");a()("#distrib").prop("checked")||t.length>0&&t.attr("id").indexOf("-nosat")>-1?this.$container.find(".form-checkbox").removeClass("active"):this.$container.find(".form-checkbox").addClass("active")}},{key:"manageEventInputChecked",value:function(){var t=this;this.$inputRadio.on("click",function(e){a()(e.currentTarget).prop("checked",!0)&&(t.manageSaturdayCheckbox(),a()("#delegation").prop("checked")?(t.$containerForm.removeClass("active"),t.$container.find('.container-form[data-content="delegation"]').addClass("active")):(t.$containerForm.addClass("active"),t.$container.find('.container-form[data-content="delegation"]').removeClass("active")))})}},{key:"skinScrollbar",value:function(){a()(".js-scrollbar").overlayScrollbars({paddingAbsolute:!0,scrollbars:{clickScrolling:!0}})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.formFull=function(t){var e=a.a.extend({},a.a.fn.formFull.defaults,t);return this.each(function(){new c(a()(this),e)})},a.a.fn.formFull.defaults={},n(26),n(50),n(25);var u=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$form=this.$container.find(".form-infos"),this.$inputChecked=this.$form.find(".value-checked"),this.inputDefault=this.$inputChecked.text(),this.$accordion=this.$container.find("#accordion-form"),this.$triggerAccordion=this.$accordion.find(".accordion-button-form"),this.$buttonSubmit=this.$form.find("button[type=submit]"),this.$formGroup=this.$form.find(".form-item"),this.$error=this.$form.find(".error"),this.$inputRadio=this.$form.find(".input"),this.$zipcodeInput=this.$form.find("#zipcode"),this.zipcodeRegex=new RegExp("^((0[1-9])|([1-8][0-9])|(9[0-8])|(2A)|(2B))[0-9]{3}$"),this.$formGroupLabelError=this.$form.find(".form-label span"),this.formRules(),this.unFocusedZipcode()}var e;return(e=[{key:"formRules",value:function(){var t=this;this.$zipcodeInput.on("change",function(){var e=t.$zipcodeInput.val(),n=document.title;""!==e?(t.$inputRadio.attr("aria-pressed","false"),t.$inputChecked.html(t.inputDefault),t.$buttonSubmit.removeAttr("disabled")):(t.$buttonSubmit.attr("disabled","true"),t.$formGroup.removeClass("form-item-error focused"),document.title=n,t.$formGroupLabelError.attr("aria-hidden","true").removeAttr("role")),t.zipcodeRegex.test(e)||""===e?(document.title=n,t.$formGroup.removeClass("form-item-error"),t.$formGroupLabelError.attr("aria-hidden","true").removeAttr("role")):(t.$formGroup.addClass("form-item-error"),document.title="".concat(n," ").concat(t.$error.text()),t.$formGroupLabelError.attr({"aria-hidden":"false",role:"alert"}),t.$zipcodeInput.focus())})}},{key:"unFocusedZipcode",value:function(){var t=this;this.$triggerAccordion.on("click",function(){t.$formGroup.removeClass("filled")})}},{key:"closePanel",value:function(t,e){t.attr("aria-hidden","true").removeClass("active").slideUp(),t.find("a, button, input, span.lnk").attr("tabindex","-1"),e.removeClass("active").attr("aria-expanded","false")}},{key:"openPanel",value:function(t,e){t.attr("aria-hidden","false").addClass("active").slideDown(),e.addClass("active").attr("aria-expanded","true"),t.find("a, button, input, span.lnk").attr("tabindex","0")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.formHalfContent=function(t){var e=a.a.extend({},a.a.fn.formHalfContent.defaults,t);return this.each(function(){new u(a()(this),e)})},a.a.fn.formHalfContent.defaults={};var h=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.applyColorOnExtendedLink()}var e;return(e=[{key:"applyColorOnExtendedLink",value:function(){var t=a()(".card-product .extended-link");t.mouseover(function(){a()(this).parents(".card-product").find(".button-3").addClass("hovered")}),t.mouseout(function(){a()(this).parents(".card-product").find(".button-3").removeClass("hovered")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.cardProduct=function(t){var e=a.a.extend({},a.a.fn.cardProduct.defaults,t);return this.each(function(){new h(a()(this),e)})},a.a.fn.cardProduct.defaults={},n(24);var d=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$countdown=this.$container.find(".js-count-down"),this.options=n,this.units=this.options.units,this.year=this.$countdown.data("year"),this.month=this.$countdown.data("month")-1,this.day=this.$countdown.data("day"),this.dateCountDown=new Date(this.year,this.month,this.day).getTime(),this.countDown(),this.interval=setInterval(function(){return i.countDown()},6e4)}var e;return(e=[{key:"countDown",value:function(){var t=(new Date).getTime(),e=this.dateCountDown-t,n=Math.floor(e/864e5),i=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4);if(this.units){var r=n>1?"".concat(this.units.day,"s"):this.units.day,s=i>1?"".concat(this.units.hour,"s"):this.units.hour,o=a>1?"".concat(this.units.minute,"s"):this.units.minute;this.$countdown.html('<span class="count-down-section day">'.concat(n,'<span class="unit">').concat(r,'</span></span> <span class="count-down-section hour">').concat(i,'<span class="unit">').concat(s,'</span></span> <span class="count-down-section minute">').concat(a,'<span class="unit">').concat(o,"</span></span>"))}else this.$countdown.html("".concat(n,"j ").concat(i,"h ").concat(a,"m"));if(e<0)if(clearInterval(this.interval),this.units){var l=this.units.hour,c=this.units.minute;this.$countdown.html('<span class="count-down-section day">0<span class="unit">'.concat(this.units.day,'</span></span> <span class="count-down-section hour">0<span class="unit">').concat(l,'</span></span> <span class="count-down-section minute">0<span class="unit">').concat(c,"</span></span>"))}else this.$countdown.html("0j 0h 0m")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.countDown=function(t){var e=a.a.extend({},a.a.fn.countDown.defaults,t);return this.each(function(){new d(a()(this),e)})},a.a.fn.countDown.defaults={units:null};var f=function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$dropdownTitles=this.$container.find(".society-info .title"),this.$lists=this.$container.find(".society-list"),this.$accordionFooter=this.$container.find(".footer-accordion"),this.$dropdownTitles.on("click",function(t){var e=a()(t.currentTarget);i.$accordionFooter.find(".title").not(e).removeClass("active").attr("aria-expanded",!1),e.attr("aria-expanded",!0).toggleClass("active"),e.hasClass("active")||e.attr("aria-expanded",!1);var n=a()("#"+e.attr("aria-controls"));n.toggleClass("active").toggleClass("is-hidden"),i.$accordionFooter.find(".society-list").not(n).removeClass("active").addClass("is-hidden")})};a.a.fn.footer=function(t){var e=a.a.extend({},a.a.fn.footer.defaults,t);return this.each(function(){new f(a()(this),e)})},a.a.fn.footer.defaults={};var p=n(1);var v=function(){function t(e){var n=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$inputText=this.$container.find("input[type=text]"),this.$radioAnchors=this.$container.find(".radio-label"),this.$tabsRadio=this.$container.find(".list-radios-wrapper"),this.$decoration=this.$tabsRadio.find(".radio-decoration"),this.$labelChecked=this.$tabsRadio.find(".radio[checked] + .radio-label"),this.$labelChecked.length>0&&this.generateDecoration(this.$labelChecked),this.manageEventInputText(),"mobile"===p.a.getCurrent()&&this.centerRadioChecked(),this.$tabsRadio.find("input[type=radio]").on("click",function(t){n.generateDecoration(a()(t.currentTarget).next())}),a()(window).on("load",function(){n.checkValueInput()})}var e;return(e=[{key:"generateDecoration",value:function(t){this.$decoration.offset({left:t.offsetParent().offset().left}),this.$decoration.css("width","".concat(t.outerWidth(),"px"))}},{key:"manageEventInputText",value:function(){this.$inputText.on("focus",function(t){var e=a()(t.currentTarget).parents(".form-item").find(".help");a()(t.currentTarget).parents(".form-item").addClass("focused"),e.length>0&&a()(t.currentTarget).parents(".form-item:not(.form-item-error)").find(".help").removeClass("accessibility")}),this.$inputText.on("blur",function(t){var e=a()(t.currentTarget).parents(".form-item").find(".help");""===a()(t.currentTarget).val()?a()(t.currentTarget).parents(".form-item").removeClass("focused filled"):a()(t.currentTarget).parents(".form-item").addClass("filled"),e.length>0&&e.addClass("accessibility")}),this.$inputText.on("change",function(t){var e=a()(t.currentTarget).parents(".form-item").find(".help");e.length>0&&e.addClass("accessibility")})}},{key:"checkValueInput",value:function(){var t=this;setTimeout(function(){t.$inputText.each(function(t,e){if(""!==a()(e).val()){var n=a()(e).parents(".form-item").find(".help");a()(e).parents(".form-item").addClass("focused"),n.length>0&&a()(e).parents(".form-item:not(.form-item-error)").find(".help").removeClass("accessibility")}})},100)}},{key:"centerRadioChecked",value:function(){var t=this.$container.offset().left+this.$container.width();this.$radioAnchors.on("click",function(e){a()(e.currentTarget).each(function(e,n){var i=a()(n).offset().left+a()(n).width();a()(n).parents(".radio-item").find("input[type=radio]").css("right",i>t?"0":"auto")})})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.form=function(t){var e=a.a.extend({},a.a.fn.form.defaults,t);return this.each(function(){new v(a()(this),e)})},a.a.fn.form.defaults={},n(62),n(42),n(83);var m=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$select=a()("#select-category"),this.$options=a()("#select-category option"),this.$metaNav=a()("#meta-navigation-category"),this.$linksUniverse=a()("nav.part-navigation li .link"),this.$menuOffers=a()("nav.part-offers"),this.$menuPanelsCont=a()("#main-menu-panels"),this.parentOfCurrentPanel=null,this.$currentPanel=null,this.panelButtonSelector=".button-3.chevron-nav",this.menuItemsSelector=".lnk.link",this.$menuPanels=e.find(".nav-ranges"),this.tabTrapInPanelControls=a.a.merge(e.find(this.menuItemsSelector),e.find(this.panelButtonSelector)),this.$goBackMenuItem=!1,this.lengthItems=0,this.standardItemsHeight=3,this.maximumItemsHeightPercentage=7,this.redirectOnSelectMobile(),this.initArrowSelectMobile(),this.toggleArrowSelectMobile(),this.initUniverseLayer(),this.closeUniverseLayer(),this.enableLoopTrapInsideMenuPanel(),a()(this.$menuPanels).on("transitionend",function(t){i.transitionEnded(t)})}var e;return(e=[{key:"enableLoopTrapInsideMenuPanel",value:function(){var t=this;a()(this.tabTrapInPanelControls).keydown(function(e){if(null!==t.$currentPanel){var n=t.$currentPanel.find(t.panelButtonSelector).first()[0],i=t.$currentPanel.find(t.menuItemsSelector).last()[0],r=e.shiftKey?i:n;9===e.keyCode&&e.currentTarget===(e.shiftKey?n:i)&&(e.preventDefault(),a()(r).focus())}})}},{key:"redirectOnSelectMobile",value:function(){var t=this;this.$select.on("change",function(e){window.location=t.$select.val()}),this.$metaNav.on("change",function(e){window.location=t.$metaNav.val()}),this.$select.on("change",function(e){window.location=t.$select.val()})}},{key:"initArrowSelectMobile",value:function(){this.$options.each(function(){if(a()(this).is(":selected"))return a()(this).parents(".header-select").addClass("selected"),!1})}},{key:"initUniverseLayer",value:function(){var t=this;this.$linksUniverse.on("click",function(e){var n=a()("#".concat(e.currentTarget.getAttribute("aria-controls")));if(n.length){n.is(t.$currentPanel)||null===t.$currentPanel||(a()(e.currentTarget).hasClass("level-2")?a()(t.$currentPanel).hasClass("level-3")&&t.closeCurrentPanel():a()(t.$currentPanel).hasClass("level-3")?t.closeLevel3andParentLevel2():t.closeCurrentPanel()),t.parentOfCurrentPanel=a()(e.currentTarget),t.parentOfCurrentPanel.attr("aria-expanded","true"),n.children(t.panelButtonSelector).attr("tabindex","0");var i=".range-link";a()(n).hasClass("level-2")&&(i+=".level-2"),n.find(i).attr("tabindex","0"),t.$currentPanel=n,t.openPanel(n),t.calculateHeightInPx();var r=a()(".part-navigation .title.font-title-block").outerHeight(!0);r>0&&a()(".nav-ranges ul").css("padding-top",r),t.$menuOffers.attr("aria-hidden","true")}else null!==t.$currentPanel&&(a()(e.currentTarget).is("a")&&a()(e.currentTarget).attr("href").length||(a()(t.$currentPanel).hasClass("level-3")?t.closeLevel3andParentLevel2():t.closeCurrentPanel()))})}},{key:"closeLevel3andParentLevel2",value:function(){var t=this.$currentPanel;this.closeCurrentPanel(),this.$currentPanel=a()(t).parents(".nav-ranges"),this.parentOfCurrentPanel=a()("#"+a()(this.$currentPanel).attr("aria-labelledby")),this.closeCurrentPanel()}},{key:"closeCurrentPanel",value:function(){this.closePanel(this.$currentPanel),this.switchOffAccessibilityOfCurrentPanel(),this.parentOfCurrentPanel.attr("aria-expanded","false")}},{key:"closeUniverseLayer",value:function(){var t=this;a()(".nav-ranges .button-3").on("click",function(e){if(a()(e.currentTarget).parent(".nav-ranges").hasClass("level-3")){var n=t.$currentPanel;t.closeCurrentPanel(),t.$currentPanel=a()(n).parents(".nav-ranges"),t.parentOfCurrentPanel=a()("#"+a()(t.$currentPanel).attr("aria-labelledby"))}else null!==t.$currentPanel&&null!==t.parentOfCurrentPanel&&(a()(e.currentTarget).parent().find(".nav-ranges[aria-hidden=false]").length>0&&t.closeLevel3andParentLevel2(),t.parentOfCurrentPanel.attr("aria-expanded","false"),t.closeCurrentPanel(),t.$menuOffers.attr("aria-hidden","false"))})}},{key:"switchOffAccessibilityOfCurrentPanel",value:function(){this.$currentPanel.children(this.panelButtonSelector).attr("tabindex","-1"),this.$currentPanel.find(".range-link").attr("tabindex","-1")}},{key:"openPanel",value:function(t){t.addClass("translated").attr("aria-hidden","false"),a()(window).width()<=959&&this.isiOS()&&a()("#menu").css("top","-39px"),this.$goBackMenuItem=!1,this.$menuPanelsCont&&(a()(t).hasClass("level-2")&&a()(this.$menuPanelsCont).addClass("two-levels"),a()(t).hasClass("level-3")&&a()(this.$menuPanelsCont).addClass("three-levels"))}},{key:"closePanel",value:function(t){t.attr("aria-hidden","true").removeClass("translated"),a()(t).hasClass("level-3")||a()("#menu").css("top",""),document.getElementsByClassName("nav-ranges translated").length<=0&&a()(".menu-3-levels").length&&a()(".menu-3-levels .menu-inner").css("height",""),t.attr("aria-labelledby")&&(this.$goBackMenuItem=a()("#"+t.attr("aria-labelledby"))),this.$menuPanelsCont&&(a()(t).hasClass("level-2")&&a()(this.$menuPanelsCont).removeClass("two-levels"),a()(t).hasClass("level-3")&&a()(this.$menuPanelsCont).removeClass("three-levels"))}},{key:"transitionEnded",value:function(t){this.$goBackMenuItem?a()(this.$goBackMenuItem).focus():this.$currentPanel&&this.$currentPanel.find(this.panelButtonSelector).first().focus()}},{key:"toggleArrowSelectMobile",value:function(){this.$select.on("change",function(t){a()(t.currentTarget).parents(".header-select").removeClass("active")}),this.$select.on("click",function(t){a()(t.currentTarget).parents(".header-select").addClass("active")}),this.$metaNav.on("change",function(t){a()(t.currentTarget).parents(".header-select").removeClass("active")}),this.$metaNav.on("click",function(t){a()(t.currentTarget).parents(".header-select").addClass("active")}),this.$select.on("click",function(t){a()(t.currentTarget).parents(".header-select").addClass("active")})}},{key:"isiOS",value:function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod","MacIntel"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}},{key:"calculateHeightInPx",value:function(){if(a()(".menu-3-levels").length){var t=a()(".menu-3-levels .menu-inner");t.css("height","auto");var e=0,n=0;a()(".menu-3-levels .translated>.menu-level-inner").each(function(t,i){n=parseInt(a()(i).outerHeight())+30,e=Math.max(n,e)}),parseInt(t.outerHeight())<e&&t.css("height",e+"px")}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.header=function(t){var e=a.a.extend({},a.a.fn.header.defaults,t);return this.each(function(){new m(a()(this),e)})},a.a.fn.header.defaults={},n(36),n(37);var g=n(16),b=n.n(g);var y=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.container=document.getElementById("header-v2"),this.menuLv1Lis=this.container.querySelectorAll(".nav-container-lower .menu-level1 > li:has(.menu-button)"),this.menuBarElemLis=this.container.querySelectorAll(".nav-container .nav-bar > ul > li:has(.menu-item)"),this.menuLv1Buttons=this.container.querySelectorAll(".nav-container-lower .menu-level1 > li > .menu-button"),this.menuLv2Buttons=this.container.querySelectorAll(".menu-lv2-panel .menu-level2 .menu-button"),this.menuLv2FirstLis=this.container.querySelectorAll(".menu-lv2-panel .menu-level2 > li:first-child"),this.burgerMenuBtn=document.getElementById("btn-menu-mobile"),this.burgerMenuLv1=document.getElementById("menu-mobile-lv1"),this.burgerMenuLv1BtnClose=this.burgerMenuLv1.querySelector(".button-close"),this.burgerMenuLv1Content=this.burgerMenuLv1.querySelector(".nav-content .nav-bar"),this.burgerMenuLv2=document.getElementById("menu-mobile-lv2"),this.burgerMenuLv2BtnBack=this.burgerMenuLv2.querySelector(".button-back"),this.burgerMenuLv2BtnClose=this.burgerMenuLv2.querySelector(".button-close"),this.burgerMenuLv2Title=document.getElementById("menu-mobile-lv2-title"),this.burgerMenuLv2Content=this.burgerMenuLv2.querySelector(".nav-content .nav-bar"),this.burgerMenuLv2Offer=this.burgerMenuLv2.querySelector(".nav-content .menu-offer"),this.burgerMenuLv3=document.getElementById("menu-mobile-lv3"),this.burgerMenuLv3BtnBack=this.burgerMenuLv3.querySelector(".button-back"),this.burgerMenuLv3BtnClose=this.burgerMenuLv3.querySelector(".button-close"),this.burgerMenuLv3Title=document.getElementById("menu-mobile-lv3-title"),this.burgerMenuLv3Content=this.burgerMenuLv3.querySelector(".nav-content .nav-bar"),this.burgerMenuLv3.querySelector(".nav-content .menu-offer").remove(),this.haveSubnav=document.getElementsByClassName("subnav-wrapper").length>0,this.initMenuButton(),this.initMenuBurger(),this.initMarket(),this.adjustMenuLevel2HeightMenu()}var e;return(e=[{key:"closeActiveLv2Panel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.closeActiveMenuLv3();var e=document.querySelector('.menu-level1 > li > .menu-button[aria-expanded="true"]');e?(e.setAttribute("aria-expanded","false"),t&&e.focus()):this.marketPanelOpened()&&(this.menuBtnMarket.setAttribute("aria-expanded","false"),t&&this.menuBtnMarket.focus());var n=document.querySelector('.menu-lv2-panel[aria-hidden="false"]');n&&n.setAttribute("aria-hidden","true")}},{key:"closeActiveMenuLv3",value:function(){var t=document.querySelector('.menu-lv2-panel .menu-level2 .menu-button[aria-expanded="true"]');t&&t.setAttribute("aria-expanded","false");var e=document.querySelector('.menu-lv2-panel .menu-level2 .menu-level3[aria-hidden="false"]');e&&e.setAttribute("aria-hidden","true")}},{key:"getPanelElemForButtonElem",value:function(t){var e="".concat(t.getAttribute("id"),"-panel");return document.getElementById(e)}},{key:"showMenuLv2Panel",value:function(t){this.closeActiveLv2Panel();var e=this.getPanelElemForButtonElem(t);if(null!==e){t.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false");var n=e.querySelector(".menu-button");null!==n&&n.click()}}},{key:"toggleMenuLv2PanelForButtonElem",value:function(t){null!==this.getPanelElemForButtonElem(t)&&("false"===t.getAttribute("aria-expanded")?this.showMenuLv2Panel(t):this.closeActiveLv2Panel(!0))}},{key:"adjustMenuLevel2HeightMenu",value:function(){for(var t=document.querySelectorAll(".menu-lv2-panel .menu-level2"),e=0;e<t.length;e++){for(var n=t[e].scrollHeight,i=t[e].querySelectorAll(".menu-level3"),a=0;a<i.length;a++)n=i[a].scrollHeight>n?i[a].scrollHeight:n;t[e].style.height="".concat(n,"px")}}},{key:"displayLv2Dialog",value:function(t){var e=this;this.burgerMenuLv2Title.innerText=t.querySelector(".text").innerText,this.burgerMenuLv2Content.innerHTML="";var n=document.getElementById("".concat(t.id,"-lv2-data"));this.burgerMenuLv2Content.innerHTML=n.innerHTML,this.burgerMenuLv2Offer.innerHTML="";var i=document.getElementById(n.getAttribute("data-offer"));if(i){var a=i.querySelector(".offer-content");this.burgerMenuLv2Offer.appendChild(a.cloneNode(!0))}var r=this.burgerMenuLv2.querySelectorAll(".lnk");document.dispatchEvent(new CustomEvent("add-obfuscation-events",{detail:{elements:r}}));var s=this.burgerMenuLv2.querySelectorAll(".menu-item"),o=s[s.length-1].parentElement;o.addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&!t.shiftKey&&t.target.classList.contains("menu-item")&&(e.burgerMenuLv2BtnBack.focus(),t.preventDefault(),t.stopPropagation())}),this.burgerMenuLv2BtnBack.addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&t.shiftKey&&(o.querySelector(".menu-item").focus(),t.preventDefault(),t.stopPropagation())}),t.setAttribute("aria-expanded","true"),this.burgerMenuLv2.showModal(),this.burgerMenuLv2BtnBack.focus()}},{key:"displayLv3Dialog",value:function(t){var e=this;this.burgerMenuLv3Title.innerText=t.querySelector(".text").innerText,this.burgerMenuLv3Content.innerHTML="";var n=document.getElementById("".concat(t.id,"-lv3-data"));this.burgerMenuLv3Content.innerHTML=n.innerHTML;var i=this.burgerMenuLv3.querySelectorAll(".lnk");document.dispatchEvent(new CustomEvent("add-obfuscation-events",{detail:{elements:i}}));var a=this.burgerMenuLv3.querySelectorAll(".menu-item"),r=a[a.length-1].parentElement;r.addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&!t.shiftKey&&t.target.classList.contains("menu-item")&&(e.burgerMenuLv3BtnBack.focus(),t.preventDefault(),t.stopPropagation())}),this.burgerMenuLv3BtnBack.addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&t.shiftKey&&(r.querySelector(".menu-item").focus(),t.preventDefault(),t.stopPropagation())}),t.setAttribute("aria-expanded","true"),this.burgerMenuLv3.showModal(),this.burgerMenuLv3BtnBack.focus()}},{key:"maybeCloseDialogs",value:function(){this.burgerMenuLv3.open?this.burgerMenuLv3BtnClose.click():this.burgerMenuLv2.open?this.burgerMenuLv2BtnClose.click():this.burgerMenuLv1.open&&this.burgerMenuLv1BtnClose.click(),this.burgerMenuMarket&&this.burgerMenuMarket.open&&this.burgerMenuMarketBtnClose.click()}},{key:"marketPanelOpened",value:function(){return!1}},{key:"initMenuBurger",value:function(){var t=this;window.addEventListener("resize",b()(function(){window.innerWidth>=p.b.widescreen.min&&this.maybeCloseDialogs()}.bind(this),100)),this.burgerMenuBtn.addEventListener("click",function(){t.burgerMenuLv1.showModal(),t.burgerMenuBtn.setAttribute("aria-expanded","true"),t.burgerMenuLv1BtnClose.focus()});var e=this.burgerMenuLv1.querySelectorAll(".menu-item"),n=e[e.length-1].parentElement;n.addEventListener("keydown",function(e){"Tab"===(e.key||e.isComposing)&&!e.shiftKey&&e.target.classList.contains("menu-item")&&(t.burgerMenuLv1BtnClose.focus(),e.preventDefault(),e.stopPropagation())}),this.burgerMenuLv1BtnClose.addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&t.shiftKey&&(n.querySelector(".menu-item").focus(),t.preventDefault(),t.stopPropagation())}),this.burgerMenuLv1Content.addEventListener("click",function(){var t=event.target.closest(".menu-button");t&&this.displayLv2Dialog(t)}.bind(this),{capture:!1}),this.burgerMenuLv2Content.addEventListener("click",function(){var t=event.target.closest(".menu-button");t&&this.displayLv3Dialog(t)}.bind(this),{capture:!1}),this.burgerMenuLv2BtnBack.addEventListener("click",function(){var e=t.burgerMenuLv1.querySelector('.menu-button[aria-expanded="true"]');e.setAttribute("aria-expanded","false"),e.focus(),t.burgerMenuLv2.close("buttonBack")}),this.burgerMenuLv3BtnBack.addEventListener("click",function(){var e=t.burgerMenuLv2.querySelector('.menu-button[aria-expanded="true"]');e.setAttribute("aria-expanded","false"),e.focus(),t.burgerMenuLv3.close("buttonBack")}),this.burgerMenuLv1BtnClose.addEventListener("click",function(){t.burgerMenuBtn.setAttribute("aria-expanded","false"),t.burgerMenuBtn.focus(),t.burgerMenuLv1.close("burgerMenuLv1BtnClose")}),this.burgerMenuLv2BtnClose.addEventListener("click",function(){t.burgerMenuLv2BtnBack.click(),t.burgerMenuLv1BtnClose.click()}),this.burgerMenuLv3BtnClose.addEventListener("click",function(){t.burgerMenuLv3BtnBack.click(),t.burgerMenuLv2BtnBack.click(),t.burgerMenuLv1BtnClose.click()})}},{key:"initMarket",value:function(){var t=this;if(this.menuBtnMarket=document.getElementById("nav-market"),this.burgerMenuMarket=document.getElementById("menu-mobile-market"),this.menuBtnMarket){this.marketPanel=document.getElementById("menu-market-panel"),this.burgerMenuLv1BtnMarket=document.getElementById("nav-market-mob"),this.burgerMenuMarketBtnBack=this.burgerMenuMarket.querySelector(".button-back"),this.burgerMenuMarketBtnClose=this.burgerMenuMarket.querySelector(".button-close"),this.marketPanelOpened=function(){return"true"===t.menuBtnMarket.getAttribute("aria-expanded")},this.showMenuMarketPanel=function(){t.marketPanel.setAttribute("aria-hidden","false"),t.menuBtnMarket.setAttribute("aria-expanded","true")},this.hideMenuMarketPanel=function(){t.marketPanel.setAttribute("aria-hidden","true"),t.menuBtnMarket.setAttribute("aria-expanded","false")},this.toggleMenuMarketPanel=function(){window.innerWidth<p.b.widescreen.min?t.displayMarketDialog(!1):"true"===t.marketPanel.getAttribute("aria-hidden")?(t.closeActiveLv2Panel(!1),t.showMenuMarketPanel()):t.closeActiveLv2Panel(!1)},this.menuBtnMarket.addEventListener("click",function(){this.toggleMenuMarketPanel()}.bind(this)),this.displayMarketDialog=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?t.burgerMenuLv1BtnMarket.setAttribute("aria-expanded","true"):t.menuBtnMarket.setAttribute("aria-expanded","true"),t.burgerMenuMarket.showModal(),t.burgerMenuMarketBtnBack.focus()},this.burgerMenuLv1BtnMarket.addEventListener("click",function(){t.displayMarketDialog()});var e=this.burgerMenuMarket.querySelectorAll(".menu-item"),n=e[e.length-1].parentElement;n.addEventListener("keydown",function(e){"Tab"===(e.key||e.isComposing)&&!e.shiftKey&&e.target.classList.contains("menu-item")&&(t.burgerMenuMarketBtnBack.focus(),e.preventDefault(),e.stopPropagation())}),this.burgerMenuMarketBtnBack.addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&t.shiftKey&&(n.querySelector(".menu-item").focus(),t.preventDefault(),t.stopPropagation())}),this.burgerMenuMarketBtnBack.addEventListener("click",function(){t.burgerMenuLv1.open?(t.burgerMenuLv1BtnMarket.setAttribute("aria-expanded","false"),t.burgerMenuLv1BtnMarket.focus()):(t.menuBtnMarket.setAttribute("aria-expanded","false"),t.menuBtnMarket.focus()),t.burgerMenuMarket.close("buttonBack")}),this.burgerMenuMarketBtnClose.addEventListener("click",function(){t.burgerMenuMarketBtnBack.click(),t.burgerMenuLv1.open&&t.burgerMenuLv1BtnClose.click()})}}},{key:"initMenuButton",value:function(){var t=this;window.addEventListener("resize",b()(function(){window.innerWidth>=p.b.widescreen.min&&this.adjustMenuLevel2HeightMenu()}.bind(this),100)),window.addEventListener("scroll",function(){if(!t.haveSubnav){var e=document.getElementById("header-v2"),n=document.getElementsByClassName("nav-container-lower")[0],i=document.getElementsByClassName("nav-wrapper")[0];e.classList.toggle("sticky",window.scrollY>n.offsetHeight),document.body.setAttribute("style","padding-top: ".concat(i.offsetHeight,"px;"))}}),this.container.addEventListener("keydown",function(t){"Escape"===(t.key||t.isComposing)&&(this.maybeCloseDialogs(),this.closeActiveLv2Panel(!0),this.buttonSearch&&this.closeSearchPanel(!0))}.bind(this)),this.menuLv2FirstLis.forEach(function(t){var e=this;t.querySelector(".menu-item").addEventListener("keydown",function(t){"Tab"===(t.key||t.isComposing)&&t.shiftKey&&e.closeActiveLv2Panel()})}.bind(this)),this.menuBarElemLis.forEach(function(t){var e=this;t.querySelector(".menu-item").addEventListener("keyup",function(t){"Tab"!==(t.key||t.isComposing)||t.shiftKey||e.closeActiveLv2Panel()})}.bind(this)),this.menuLv1Buttons.forEach(function(t){var e=this;t.addEventListener("click",function(t){e.toggleMenuLv2PanelForButtonElem(t.currentTarget)})}.bind(this)),this.container.addEventListener("mouseleave",function(){window.innerWidth>=p.b.widescreen.min&&t.closeActiveLv2Panel()}),this.menuLv2Buttons.forEach(function(t){var e=this;t.addEventListener("click",function(t){e.closeActiveMenuLv3();var n=t.currentTarget;n.setAttribute("aria-expanded","true"),n.parentElement.children[1].setAttribute("aria-hidden","false")})}.bind(this))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function w(t,e,n,i,a,r,s){try{var o=t[r](s),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(i,a)}function k(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var r=t.apply(e,n);function s(t){w(r,i,a,s,o,"next",t)}function o(t){w(r,i,a,s,o,"throw",t)}s(void 0)})}}a.a.fn.headerV2=function(){return this.each(function(){new y})},a.a.fn.headerV2.defaults={},n(32),n(33),n(34),n(48),n(18),n(63),n(132),n(23),n(161),n(167),n(19),n(136),n(107),n(171),n(43),n(30),n(137),n(176);var $=function(){function t(){var e=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.container=document.getElementById("header-v2"),this.buttonSearch=this.container.querySelector("#search.search-v2"),this.buttonSearch&&(this.searchModal=document.getElementById("menu-search"),this.nonce=this.searchModal.getAttribute("data-nonce"),this.searchModalBtnClose=this.searchModal.querySelector(".button-close"),this.searchField=this.searchModal.querySelector(".search-field"),this.searchFieldResultNumber=document.getElementById("search-field-result-number"),this.searchFieldBtnReset=this.searchModal.querySelector(".search-field-reset"),this.minSearchChar=3,this.searchTitleInitial="Comment pouvons-nous vous aider ?",this.searchTitleResult="R\xe9sultats de recherche",this.searchResultsWrapper=this.searchModal.querySelector(".search-results-wrapper"),this.searchResults=this.searchResultsWrapper.querySelector(".results"),this.tabContainer=this.searchResults.querySelector("#tabs-container"),this.tabUnderline=this.tabContainer.querySelector(".tab-underline"),this.tabs=Array.from(this.tabContainer.querySelectorAll('[role="tab"]')),this.tabPanels=Array.from(this.tabContainer.querySelectorAll('[role="tabpanel"]')),this.focusedTab=0,this.eventListeners=[],this.url=this.searchModal.getAttribute("data-url"),this.errorStatus=document.getElementById("error-status"),this.tabListElement=this.searchModal.querySelector('[role="tablist"]'),this.filteredSearchData={},this.searchData=void 0!==window.api_search?window.api_search.data_search:{},this.token=null,this.tokenType=null,this.tokenExpiry=0,this.tokenPromise=null,this.limit=10,this.searchDebounceTimer=null,this.sourceMap={produits_services:"products-services",faqs:"faq"},this.initSearchButton(),this.initSearchField(),this.tabs.forEach(function(t){t.addEventListener("keyup",e.handleTabListKeyup.bind(e)),t.addEventListener("click",e.handleTabClick.bind(e))}))}var e,n,i,a,r,s,o;return e=t,(n=[{key:"resetSearchField",value:function(){this.searchField.value="",this.searchFieldBtnReset.classList.remove("visible"),this.resetResults()}},{key:"openSearchModal",value:function(){this.container.classList.contains("sticky")&&this.searchModal.classList.add("top-53");var t=new Event("search-modal-opened");this.searchModal.dispatchEvent(t),document.documentElement.style.overflow="hidden",this.buttonSearch.classList.toggle("open"),this.searchModal.showModal(),this.searchModal.querySelector(".search-field").focus(),this.trapFocus()}},{key:"closeSearchModal",value:function(){document.documentElement.style.overflow="auto",this.buttonSearch.classList.toggle("open"),this.searchModal.close("searchModalBtnClose"),this.searchModal.classList.remove("top-53")}},{key:"initSearchButton",value:function(){var t=this;this.searchModal.addEventListener("click",function(e){e.target.closest(".search-modal-wrapper")||t.closeSearchModal()}),document.addEventListener("click",function(e){"html"===e.target.tagName.toLowerCase()&&t.closeSearchModal()}),this.buttonSearch.addEventListener("click",function(){t.buttonSearch.classList.contains("open")?t.closeSearchModal():t.openSearchModal()}),this.searchModalBtnClose.addEventListener("click",function(){t.closeSearchModal(),t.buttonSearch.focus()}),this.searchModal.addEventListener("keydown",function(t){var e=t.key||t.isComposing;"Escape"===e&&this.closeSearchModal(),"ArrowRight"!==e&&"ArrowLeft"!==e||t.stopPropagation()}.bind(this)),window.addEventListener("resize",b()(function(){this.trapFocus(),this.handleUnderline()}.bind(this),100))}},{key:"initSearchField",value:function(){var t=this;this.searchFieldBtnReset.addEventListener("click",function(e){t.resetSearchField(),e.target.closest(".search-field-wrapper").querySelector(".search-field").focus()}),this.searchField.addEventListener("input",function(e){var n=e.target.value;n.length?t.searchFieldBtnReset.classList.add("visible"):t.searchFieldBtnReset.classList.remove("visible"),clearTimeout(t.searchDebounceTimer),n.length>=t.minSearchChar?t.searchDebounceTimer=setTimeout(function(){t.searchValue=t.sanitizeSearchString(n,{escape:!1,remove:!0,convertToLowercase:!0}),t.handleSearch(n)},250):t.resetResults()})}},{key:"initTabPanels",value:function(){var t=this;this.tabPanels.forEach(function(e){e.addEventListener("keydown",function(e){"div"===e.target.tagName.toLowerCase()&&("Tab"!==(e.key||e.isComposing)||e.shiftKey||(e.preventDefault(),e.stopPropagation(),t.getCurrentTabbables()[0].focus()))})})}},{key:"renderResults",value:function(t){var e=this,n=this.sanitizeSearchString(t,{escape:!1,remove:!0,convertToLowercase:!0});if(!this.filteredSearchData["products-services"].length&&!this.filteredSearchData.faq.length)return this.searchModal.classList.remove("show-result"),this.searchModal.classList.remove("main-error"),this.searchModal.classList.add("main-no-result"),this.handleSearchAccessibilityMessage(!0),void this.trapFocus();this.searchModal.classList.remove("main-no-result"),this.searchModal.classList.remove("main-error"),this.searchModal.classList.add("show-result"),this.searchModal.querySelector(".search-title").innerText=this.searchTitleResult,Object.keys(this.filteredSearchData).forEach(function(t){e.searchResults.querySelector(".".concat(t," .list-results"))&&(e.searchResults.querySelector(".".concat(t," .list-results")).innerHTML="",e.filteredSearchData[t].length?e.searchResults.querySelector(".".concat(t)).classList.remove("no-result"):e.searchResults.querySelector(".".concat(t)).classList.add("no-result"),e.filteredSearchData[t].forEach(function(i,a){e.searchModal.querySelectorAll(".".concat(t)).forEach(function(t){var r=document.createElement("li"),s=document.createElement("a");s.href="#",i.url.startsWith("https://")&&(s.href=encodeURI(i.url)),s.dataset.index=a+1,s.classList.add("font-text-body-medium"),s.tabIndex=0;var o,l=new RegExp(n,"gi"),c=e.sanitizeSearchString(i.title,{escape:!0,remove:!1,convertToLowercase:!1}),u=c.match(l),h=c;(o=new Set(u),u=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(o)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).forEach(function(t){h=h.replaceAll(t,"<strong>".concat(t,"</strong>"))}),s.innerHTML=h,r.appendChild(s),t.querySelector(".list-results").appendChild(r)})}),e.tabListElement&&e.tabResultCount(t,e.filteredSearchData[t].length))});var i=new CustomEvent("search-result-displayed");i.searchkeyword=n,this.searchModal.dispatchEvent(i),this.handleTabNoResultsMessages(),this.handleSearchAccessibilityMessage(),this.trapFocus(),this.initTabPanels()}},{key:"tabResultCount",value:function(t,e){document.getElementById("tab-".concat(t)).querySelector(".result-count").textContent=e}},{key:"resetSearchTitle",value:function(){this.searchModal.querySelector(".search-title").innerText=this.searchTitleInitial}},{key:"resetResults",value:function(){this.resetSearchTitle(),this.searchModal.classList.remove("main-no-result"),this.searchModal.classList.remove("main-error"),this.searchModal.classList.remove("show-result"),this.searchResults.querySelectorAll(".list-results").forEach(function(t){t.textContent=""}),this.searchResults.querySelectorAll(".result-count").forEach(function(t){t.textContent=0}),this.handleSearchAccessibilityMessage(!0),this.trapFocus()}},{key:"handleTabListKeyup",value:function(t){switch(t.stopPropagation(),t.preventDefault(),t.code){case"ArrowRight":this.focusedTab=this.focusedTab+1,this.focusedTab>=this.tabs.length&&(this.focusedTab=0);break;case"ArrowLeft":this.focusedTab=this.focusedTab-1,this.focusedTab<0&&(this.focusedTab=this.tabs.length-1)}this.updateTabFocus(),this.trapFocus()}},{key:"handleTabClick",value:function(t){var e=t.target;"button"!==t.target.tagName.toLowerCase()&&(e=t.target.closest("button"));var n=this.tabs.indexOf(e);this.resetTabAriaSelected(),this.resetTabActiveClass(),e.setAttribute("aria-selected",!0),e.classList.add("active"),this.tabPanels.forEach(function(t){t.setAttribute("hidden",!0)}),this.tabContainer.querySelector("#".concat(e.getAttribute("aria-controls"))).removeAttribute("hidden"),this.handleUnderline(),this.focusedTab=n,this.updateTabFocus(),this.trapFocus(),this.resetListResultAriaSelected(),"mouse"!==t.pointerType&&this.focusPanel()}},{key:"isTokenValid",value:function(){return this.token&&Date.now()<this.tokenExpiry}},{key:"_fetchNewToken",value:(o=k(regeneratorRuntime.mark(function t(){var e,n,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.searchData.as,"/api/oauth/v2/token"),n={client_id:this.searchData.client_id,grant_type:"client_credentials",cdetab:this.searchData.cdetab},t.next=4,fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n)});case 4:if((i=t.sent).ok){t.next=10;break}return t.next=8,i.text();case 8:throw a=t.sent,new Error("Token API request failed with status ".concat(i.status,": ").concat(a));case 10:return t.next=12,i.json();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"getValidToken",value:(s=k(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTokenValid()){t.next=2;break}return t.abrupt("return",this.token);case 2:if(!this.tokenPromise){t.next=4;break}return t.abrupt("return",this.tokenPromise);case 4:return this.tokenPromise=function(){var t=k(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._fetchNewToken();case 3:return e.token=(n=t.sent).access_token,e.tokenType=n.token_type,e.tokenExpiry=Date.now()+1e3*n.expires_in,t.abrupt("return",e.token);case 10:throw t.prev=10,t.t0=t.catch(0),e.token=null,e.tokenExpiry=0,e.tokenType=null,t.t0;case 16:return t.prev=16,e.tokenPromise=null,t.finish(16);case 19:case"end":return t.stop()}},t,null,[[0,10,16,19]])}));return function(){return t.apply(this,arguments)}}()(),t.abrupt("return",this.tokenPromise);case 7:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})},{key:"handleSearch",value:(r=k(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.searchFieldBtnReset.setAttribute("disabled","disabled"),t.prev=1,t.next=4,this.getValidToken();case 4:if(n=t.sent){t.next=7;break}throw new Error("Authentication token is missing. Cannot perform search.");case 7:return t.next=9,this.performSearch(e,n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),this.handleApiError(t.t0);case 14:return t.prev=14,this.searchFieldBtnReset.removeAttribute("disabled"),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})),function(t){return r.apply(this,arguments)})},{key:"_fetchSearchResults",value:(a=k(regeneratorRuntime.mark(function t(e,n){var i,a,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(this.searchData.rs,"/assistant/customerAssistance/v1/search"),a={query:e,sources:Object.keys(this.sourceMap),market:this.searchData.market,bankId:this.searchData.cdetab,brand:this.searchData.brand,fromPage:0,pageSize:this.limit},t.next=4,fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"".concat(this.tokenType," ").concat(n)},body:JSON.stringify(a)});case 4:if((r=t.sent).ok){t.next=10;break}return t.next=8,r.text();case 8:throw s=t.sent,new Error("API Search request failed with status ".concat(r.status,": ").concat(s));case 10:return t.next=12,r.json();case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},t,this)})),function(t,e){return a.apply(this,arguments)})},{key:"performSearch",value:(i=k(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchSearchResults(e,n);case 2:this.filteredSearchData=this.transformSearchResults(t.sent.items),this.renderResults(e);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return i.apply(this,arguments)})},{key:"transformSearchResults",value:function(t){var e=this,n=this.getEmptyResultsSet();return Array.isArray(t)?(t.forEach(function(t){var i=e.sourceMap[t.source];i&&n.hasOwnProperty(i)&&(n[i]=t.resultItems.map(function(t){return{title:t.title,url:t.url}}))}),n):n}},{key:"handleApiError",value:function(t){this.errorStatus.innerText=t.status||"500",this.searchModal.classList.add("main-error"),this.searchModal.classList.remove("show-result","main-no-result"),this.handleSearchAccessibilityMessage(!0),this.trapFocus()}},{key:"getEmptyResultsSet",value:function(){return{"products-services":[],faq:[]}}},{key:"trapFocus",value:function(){if(this.buttonSearch.classList.contains("open")){this.removeKeydownOnAllTabbable();var t=this.getCurrentTabbables(),e=t[0],n=t[t.length-1];e.addEventListener("keydown",r),n.addEventListener("keydown",a);var i=n.id;this.eventListeners[e.id]=r,this.eventListeners[i]=a}function a(t){"Tab"!==(t.key||t.isComposing)||t.shiftKey||(t.preventDefault(),t.stopPropagation(),e.focus())}function r(t){"Tab"===(t.key||t.isComposing)&&t.shiftKey&&(t.preventDefault(),t.stopPropagation(),n.focus())}}},{key:"getCurrentTabbables",value:function(){return Array.from(this.searchModal.querySelectorAll('select, input, textarea, button:not(.tab-element), button:not([tabindex="-1"]), a, span.lnk')).filter(function(t){return null!==t.offsetParent&&!t.disabled})}},{key:"removeKeydownOnAllTabbable",value:function(){var t=this;Array.from(this.searchModal.querySelectorAll("select, input, textarea, button, a, span.lnk")).forEach(function(e){var n=e.id;t.eventListeners[n]&&e.removeEventListener("keydown",t.eventListeners[n])}),this.eventListeners=[]}},{key:"updateTabFocus",value:function(){this.resetTabTabindex(),this.tabs[this.focusedTab].setAttribute("tabindex",0),this.tabs[this.focusedTab].focus()}},{key:"focusPanel",value:function(){var t=this.tabs[this.focusedTab].getAttribute("aria-controls"),e=document.getElementById(t),n=e.querySelector(".list-results a");n?(this.resetTabAriaSelected(),n.setAttribute("aria-selected","true"),n.focus()):e.focus()}},{key:"resetListResultAriaSelected",value:function(){var t=this.searchModal.querySelectorAll(".list-results a");t&&t.forEach(function(t){t.removeAttribute("aria-selected")})}},{key:"resetTabAriaSelected",value:function(){this.tabs.forEach(function(t){t.setAttribute("aria-selected",!1)})}},{key:"resetTabActiveClass",value:function(){this.tabs.forEach(function(t){t.classList.remove("active")})}},{key:"resetTabTabindex",value:function(){this.tabs.forEach(function(t){t.setAttribute("tabindex",-1)})}},{key:"handleUnderline",value:function(){if(this.tabListElement){var t=this.searchModal.querySelector(".tab-element.active"),e=t.getBoundingClientRect(),n=this.tabListElement.getBoundingClientRect();this.tabUnderline.style.transform="translateX(".concat(e.x-n.x,"px)"),this.tabUnderline.style.width="".concat(t.clientWidth,"px")}}},{key:"escapeSpecialCharacters",value:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},{key:"removeNonAlphanumeric",value:function(t){return t.replace(/[^a-zA-Z0-9\s]/g,"")}},{key:"sanitizeSearchString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)return"";var n=t.trim().replace(/\s+/g," ");return e.escape&&(n=this.escapeSpecialCharacters(n)),e.remove&&(n=this.removeNonAlphanumeric(n)),e.convertToLowercase&&(n=n.toLowerCase()),n}},{key:"handleTabNoResultsMessages",value:function(){var t="";this.searchResults.querySelector("#panel-products-services .no-result-mention")&&!this.filteredSearchData["products-services"].length&&this.filteredSearchData.faq.length&&(t="Nous avons trouv\xe9 ".concat(this.filteredSearchData.faq.length," r\xe9sultats dans les \u201cFAQ\u201d."),this.searchResults.querySelector("#panel-products-services .no-result-mention").innerText=t),this.searchResults.querySelector("#panel-faq .no-result-mention")&&!this.filteredSearchData.faq.length&&this.filteredSearchData["products-services"].length&&(t="Nous avons trouv\xe9 ".concat(this.filteredSearchData["products-services"].length," r\xe9sultats dans les \u201cProduits & Conseils."),this.searchResults.querySelector("#panel-faq .no-result-mention").innerText=t)}},{key:"handleSearchAccessibilityMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.filteredSearchData["products-services"].length&&!this.filteredSearchData.faq.length)this.searchFieldResultNumber.innerText="Aucun r\xe9sultat.";else{var e=this.filteredSearchData["products-services"].length+this.filteredSearchData.faq.length;this.searchFieldResultNumber.innerText="".concat(e," r\xe9sultats.")}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),t}();a.a.fn.searchV2=function(){return this.each(function(){new $})},a.a.fn.searchV2.defaults={};var C=n(13);var x=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$heroMentions=this.$container.find(".hero-banner-mentions"),this.$heroAsterisk=this.$container.find(".asterisk"),this.$tileUnivers=a()(".block-tile-univers"),this.$bannerAlert=a()(".banner-alert"),this.$header=a()(".header"),this.$footer=a()(".footer"),this.$topMenu=a()(".menu-top"),this.headerHeight=this.$topMenu.length?this.$topMenu.outerHeight():0,this.$heroBanner=a()(".hero-banner"),this.$mobileCta=a()(".mobile-cta");var r=this.$container.find(".hero-banner-slider");if(r.length){var s=Object(C.a)({container:r[0],autoplay:!0,controls:!0,nav:!1,arrowKeys:!0,mouseDrag:!0,controlsContainer:this.$container.find(".tns-pagination")[0],prevButton:this.$container.find(".tns-prev")[0],nextButton:this.$container.find(".tns-next")[0],autoplayButton:this.$container.find(".tns-toggle")[0],autoplayText:['<svg class="icon svg-icon icon-xs" aria-hidden="true"><use xlink:href="src/sites/core/assets/icons/icons.svg#icon_play"></use></svg>','<svg class="icon svg-icon icon-xs" aria-hidden="true"><use xlink:href="src/sites/core/assets/icons/icons.svg#icon_stop"></use></svg>']});r.find(".lazyload").on("lazybeforeunveil",function(){s.updateSliderHeight()})}this.$heroMentions.length>0&&this.$tileUnivers.length>0&&this.manageTilesUniversWithHeroMentions(),this.$heroMentions.length<=0&&this.$tileUnivers.length>0&&this.$heroAsterisk.length>0&&this.$heroAsterisk.css("padding-bottom","40px"),this.setFullWidthBanner(),a()(window).on("resize",function(){i.setFullWidthBanner(),i.manageSticky()}),a()(window).on("scroll",function(){i.manageSticky()}),this.manageSticky()}var e;return(e=[{key:"manageSticky",value:function(){var t=a()(window).scrollTop()+this.headerHeight+8,e=this.$heroBanner.offset().top+this.$heroBanner.outerHeight(),n=a()(".subnav-wrapper"),i="hidden",r=0;n.length>0&&(i="hidden-with-submenu",t+=30,r=n.outerHeight()),t>e?(this.$container.addClass("sticky"),this.$bannerAlert.length&&"matchMedia"in window&&window.matchMedia("(min-width:960px)").matches&&this.$container.css("top",r),"header-v2"!==this.$header.attr("id")&&this.$header.addClass(i),this.$footer.addClass("extra-padding"),n.css({"box-shadow":"none"}),this.$mobileCta.removeClass("hidden"),0!==a()(".anchors-cta").length&&this.$mobileCta.addClass("hidden")):(this.$container.removeClass("sticky"),this.$header.removeClass(i),this.$footer.removeClass("extra-padding"),n.css({"box-shadow":"0 4px 16px 0 rgba(0,0,0,.12)"}),this.$container.removeAttr("style"),this.$mobileCta.addClass("hidden"))}},{key:"getBodywidth",value:function(){return a()("body").innerWidth()}},{key:"calcFullWidthBanner",value:function(){var t=a()(".hero-banner.full-width");if(t.length>0){var e=this.getBodywidth();t.css({width:"".concat(e,"px"),"margin-left":"calc((100% - ".concat(e,"px) / 2)")})}}},{key:"setFullWidthBanner",value:function(){"stretchscreen"===p.a.getCurrent()||"fullhd"===p.a.getCurrent()?this.calcFullWidthBanner():a()(".hero-banner.full-width").removeAttr("style")}},{key:"manageTilesUniversWithHeroMentions",value:function(){this.$heroMentions.addClass("covered"),this.$tileUnivers.addClass("over-mentions")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.heroBanner=function(t){var e=a.a.extend({},a.a.fn.heroBanner.defaults,t);return this.each(function(){new x(a()(this),e)})},a.a.fn.heroBanner.defaults={},n(65);var T=function(){function t(e,n){var i=this;if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$tabs=this.$container.find(".tabs-list"),this.$tabsDesktop=this.$container.find(".tabs-list.is-hidden-touch"),this.$tabindex=this.$tabsDesktop.find(".tab-item"),this.$tabFocus=0,this.$isResponsive=["mobile","tablet"].includes(p.a.getCurrent()),this.blockHeightByDefault=this.$container.innerHeight(),this.rightPartCssTop=40,this.tabContent=this.$tabsDesktop.find(".tab-content"),this.tabContent.length>0&&(this.rightPartCssTop=parseInt(this.tabContent.css("top"))),this.options.responsive){var r=p.a.getCurrent();this.responsiveActivated(r)?this.init():this.destroy(),p.a.on("change",function(t){i.$isResponsive=i.responsiveActivated(t.name),i.$isResponsive?i.init():i.destroy()})}else this.init();a()(document).ready(function(){i.setSectionHeight(a()('.is-hidden-touch .tab-panel.active[aria-hidden="false"]'))})}var e;return(e=[{key:"responsiveActivated",value:function(t){return Boolean(this.options.responsive[t])}},{key:"setTabIndexOrder",value:function(){this.$tabs.find("ul li").each(function(t,e){var n=a()(e).find("button"),i=n.hasClass("active"),r=a()("#"+n.attr("data-control")),s=r.find("a, button, span.lnk");n.length>0&&(n.attr("aria-expanded",i).attr("aria-selected",i),i&&(r.addClass("active"),s.length>0&&s.attr("tabindex",0)))})}},{key:"setSectionHeight",value:function(t){var e=p.a.getCurrent(),n=0,i=this.rightPartCssTop,r=this.blockHeightByDefault;if("mobile"!==e&&"tablet"!==e)if(1===t.length){var s=t.innerHeight();if((n=s+i)>this.blockHeightByDefault)return void t.first().closest(".new-tabs").css({"min-height":"".concat(n,"px")});t.first().closest(".new-tabs").css({"min-height":"".concat(this.blockHeightByDefault,"px")})}else t.length>1&&t.each(function(t,e){var s=a()(e),o=s.innerHeight();(n=o+i)>r?s.first().closest(".new-tabs").css({"min-height":"".concat(n,"px")}):s.first().closest(".new-tabs").css({"min-height":"".concat(r,"px")})})}},{key:"init",value:function(){var t=this;this.setTabIndexOrder(),this.$tabs.find("button.tab-button").on("click",function(e){var n=a()("#".concat(a()(e.currentTarget).attr("data-control"))),i=a()(e.currentTarget),r=i.parents(".tabs-list").find("button.tab-button").not(i),s=n.parents(".tabs-list").find(".tab-panel").not(n),o=i.closest(".tabs-list").find("ul li"),l=n.find("a, button, span.lnk"),c=s.find("a, button, span.lnk");i.hasClass("active")||(n.attr("aria-hidden","false").toggleClass("active"),s.attr("aria-hidden","true").removeClass("active"),i.toggleClass(t.$isResponsive?"":"active").attr("aria-expanded","true").attr("aria-hidden","false").attr("aria-selected","true"),r.removeClass("active").attr("aria-expanded","false").attr("aria-selected","false"),t.setSectionHeight(n),o.length<=0||l.length>0&&(l.attr("tabindex",0),c.attr("tabindex",-1)))}),this.$tabsDesktop.on("keydown",function(e){var n=t.$tabindex[t.$tabFocus];40!==e.keyCode&&38!==e.keyCode||(a()(n).attr("tabindex","-1"),40===e.keyCode?t.$tabFocus=(t.$tabFocus+1)%t.$tabindex.length:38===e.keyCode&&(t.$tabFocus=(t.$tabFocus-1+t.$tabindex.length)%t.$tabindex.length),a()(n).attr("tabindex","0").focus().trigger("click"))})}},{key:"destroy",value:function(){this.$tabs.find("button.tab-button").off("click").removeAttr("aria-expanded").removeAttr("aria-selected"),this.$tabs.find(".tab-panel").removeAttr("aria-hidden"),this.$tabs.find("a, button, span.lnk").attr("tabindex","0")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.tabs=function(t){var e=a.a.extend({},a.a.fn.tabs.defaults,t);return this.each(function(){new T(a()(this),e)})},a.a.fn.tabs.defaults={responsive:null};var P=function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$container.tabs({responsive:{mobile:!0,tablet:!0,desktop:!1}})};a.a.fn.keyInformation=function(t){var e=a.a.extend({},a.a.fn.keyInformation.defaults,t);return this.each(function(){new P(a()(this),e)})},a.a.fn.keyInformation.defaults={};var M=function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$container.tabs({responsive:{mobile:!0,tablet:!0,desktop:!1}})};a.a.fn.keyInformationV2=function(t){var e=a.a.extend({},a.a.fn.keyInformationV2.defaults,t);return this.each(function(){new M(a()(this),e)})},a.a.fn.keyInformationV2.defaults={};var S=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.closeNotification()}var e;return(e=[{key:"closeNotification",value:function(){this.$container.find(".close-notification").on("click",function(t){a()("#".concat(a()(t.currentTarget).data("id"))).addClass("hidden")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.notification=function(t){var e=a.a.extend({},a.a.fn.notification.defaults,t);return this.each(function(){new S(a()(this),e)})},a.a.fn.notification.defaults={};var B=function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$container.tabs({responsive:{mobile:!0,tablet:!0}})};a.a.fn.mobileOnlyAccordion=function(t){var e=a.a.extend({},a.a.fn.mobileOnlyAccordion.defaults,t);return this.each(function(){new B(a()(this),e)})},a.a.fn.mobileOnlyAccordion.defaults={};var A=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.windowScrollValue="",this.popUpConsent=a()("#modal-bpce-information"),this.openDialog(),this.closeDialog(),this.tabIntoDialog(),this.closePopinOnEscape(),this.setModalExpirationCookie(),this.setBodyFixedWhenLoad(),a()(document).ready(function(){i.popUpConsent.length>0&&(i.getCookie("cookie_popup_hide")?i.popUpConsent.removeClass("is-active").attr("aria-hidden","false"):i.popUpConsent.addClass("is-active").attr("aria-hidden","true").find("button").first().focus())})}var e;return(e=[{key:"closePopinOnEscape",value:function(){a()(document).on("keyup",function(t){27===t.keyCode&&a()(".js-dialog.is-active").find("button.js-close-dialog").trigger("click")})}},{key:"tabIntoDialog",value:function(){a()(".js-dialog-start").on("focus",function(t){var e=a()(t.currentTarget).parents(".js-dialog").find("button:not(.range-link):not(.chevron-nav), a:not(.range-link)").last();e.length>0&&e.focus()}),a()(".js-dialog-stop").on("focus",function(t){a()(t.currentTarget).parents(".js-dialog").find("button:first").focus()})}},{key:"closeDialog",value:function(){var t=this;a()(".js-close-dialog").on("click",function(e){a()('.js-open-dialog[data-dialog="'.concat(a()(e.currentTarget).parents(".js-dialog").data("dialog"),'"]'));var n=e.currentTarget,i=a()(n).parents('.js-dialog[data-dialog="modal-error"]');i.length>0&&(t.windowScrollValue=a()(window).scrollTop(),i.addClass("is-hidden")),a()("body").removeAttr("style"),t.defineBodyPaddingTop(),a()(window).scrollTop(t.windowScrollValue),a()(n).parents(".header").length>0?(a()(n).parents(".js-dialog").removeClass("is-active").attr("aria-hidden","true"),a()(n).parents(".js-dialog").find("a, span.lnk, button, select, input, span.js-dialog-start, span.js-dialog-stop").attr("tabindex","-1"),a()(".nav-ranges").removeClass("translated").attr("aria-hidden","true")):(a()(n).parents(".js-dialog").removeClass("is-animated"),setTimeout(function(){a()(n).parents(".js-dialog").removeClass("is-active"),0===i.length&&a()(n).parents(".js-dialog").attr("aria-hidden","true"),a()(n).parents(".js-dialog").find("a, span.lnk, button, select, input, span.js-dialog-start, span.js-dialog-stop").attr("tabindex","-1");var t=a()(n).parents(".js-dialog").find(".iframe-video");t.length>0&&(t[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),t.removeAttr("src"))},350)),(a()(e.target).closest("#panel-category").length||a()(e.target).closest("#menu").length)&&a()("nav .menu-button.js-trigger-menu.js-open-dialog").attr("aria-expanded","false")}),a()("header .js-dialog").on("click",function(t){t.stopPropagation(),a()(t.target).is(".js-dialog.is-active")&&a()(t.target).find(".js-close-dialog").trigger("click")}),window.addEventListener("resize",b()(function(){var t=a()(".panel-category.is-active");0!==t.length&&"matchMedia"in window&&window.matchMedia("(max-width:960px)").matches&&t.find(".js-close-dialog").trigger("click")},500))}},{key:"openDialog",value:function(){var t=this;a()(".js-open-dialog").on("click",function(e){var n=a()('.js-dialog[data-dialog="'.concat(a()(e.currentTarget).data("dialog"),'"]')),i=a()(e.currentTarget).data("video"),r=a()(e.currentTarget).data("language")||"fr";if(t.windowScrollValue=a()(window).scrollTop(),"true"===a()(e.currentTarget).attr("aria-expanded"))a()("body").removeAttr("style"),t.defineBodyPaddingTop(),a()(window).scrollTop(t.windowScrollValue),a()(".header .js-dialog").removeClass("is-active").attr("aria-hidden","true"),a()(".header .js-dialog").find("a, button, select, input, span.lnk, span.js-dialog-start, span.js-dialog-stop").attr("tabindex","-1"),a()(e.currentTarget).focus().attr("aria-expanded","false");else{if(i&&n.find(".iframe-video")){var s="https://www.youtube.com/embed/".concat(i,"?enablejsapi=1&version=3&playerapiid=ytplayer&hl=").concat(r),o=a()(e.currentTarget).data("video-name");n.find(".iframe-video").attr("src",s).attr("title",o)}a()(e.currentTarget).parents(".header").length>0&&(a()("body").removeAttr("style"),a()(window).scrollTop(t.windowScrollValue),a()(".header .js-dialog").removeClass("is-active").attr("aria-hidden","true"),a()(".header .js-dialog").find("a:not(.range-link), span.lnk:not(.range-link), button:not(.range-link):not(.chevron-nav), select, input, span.js-dialog-start, span.js-dialog-stop").attr("tabindex","-1"),a()(".header .js-trigger-menu").attr("aria-expanded","false")),a()("body").css({position:"fixed",width:"100%",top:"-".concat(t.windowScrollValue,"px")}),n.addClass("is-active").attr("aria-hidden","false"),n.addClass("is-animated"),n.find("a:not(.range-link), span.lnk:not(.range-link), button:not(.range-link):not(.chevron-nav), select, input, span.js-dialog-start, span.js-dialog-stop").attr("tabindex","0"),n.find(".js-close-dialog").focus(),a()(e.currentTarget).attr("aria-expanded","true")}})}},{key:"defineBodyPaddingTop",value:function(){var t=a()(".banner-alert"),e=t.hasClass("active")?t.outerHeight():0,n=a()("#meta-navigation"),i=n.is(":visible")?n.outerHeight():0,r=a()(".menu-top").outerHeight(),s=a()(".subnav-wrapper"),o=s.is(":visible")?s.outerHeight():0;a()("body").css("padding-top",e+i+r+o)}},{key:"setModalExpirationCookie",value:function(){var t=this;a()(".accept-modal").on("click",function(){t.setCookie("cookie_popup_hide",!0,1)})}},{key:"setCookie",value:function(t,e,n){var i="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i="; expires="+a.toGMTString()}document.cookie=t+"="+e+i+"; path=/"}},{key:"getCookie",value:function(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+t+"=([^;]*)"));return e?e[1]:null}},{key:"setBodyFixedWhenLoad",value:function(){var t=document.getElementById("modal-bpce-information");t&&a()(t).hasClass("is-active")&&null===this.getCookie("cookie_popup_hide")?a()("body").css({position:"fixed",width:"100%",top:"-".concat(this.windowScrollValue,"px")}):(a()("body").removeAttr("style"),this.defineBodyPaddingTop(),a()(window).scrollTop(this.windowScrollValue))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.modal=function(t){var e=a.a.extend({},a.a.fn.modal.defaults,t);return this.each(function(){new A(a()(this),e)})},a.a.fn.modal.defaults={};var F=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.manageFirstSectionAfterHerobannerCards(),p.a.on("change",function(){i.manageFirstSectionAfterHerobannerCards()})}var e;return(e=[{key:"getCardsHeight",value:function(){return this.$container.find(".cards").outerHeight(!0)}},{key:"manageFirstSectionAfterHerobannerCards",value:function(){var t=this.$container.find(".cards + section"),e=this.getCardsHeight();"desktop"!==p.a.getCurrent()&&"widescreen"!==p.a.getCurrent()&&"stretchscreen"!==p.a.getCurrent()&&"fullhd"!==p.a.getCurrent()||t.attr("style","margin-top: -".concat(e,"px !important; padding-top: ").concat(e,"px !important;"))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.section=function(t){var e=a.a.extend({},a.a.fn.section.defaults,t);return this.each(function(){new F(a()(this),e)})},a.a.fn.section.defaults={};var E=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$inputChecked=this.$container.find(".value-checked"),this.inputDefault=this.$inputChecked.text(),this.$accordionPanel=this.$container.find(".accordion-panel-form"),this.$accordion=this.$container.find("#accordion-form"),this.$triggerAccordion=this.$accordion.find(".accordion-button-form"),this.$buttonSubmit=this.$container.find("button[type=submit]"),this.$formGroup=this.$container.find(".form-item"),this.$error=this.$container.find(".error"),this.$inputRadio=this.$container.find(".input"),this.$zipcodeInput=this.$container.find("#zipcode"),this.$region=this.$container.find("#region"),this.zipcodeRegex=new RegExp("^((0[1-9])|([1-8][0-9])|(9[0-8])|(2A)|(2B))[0-9]{3}$"),this.$formGroupLabelError=this.$container.find(".form-label span"),this.$fields=this.$container.find(".mat-form-control"),this.$selectedRegion=this.$container.find("#selected-region"),this.$fields.each(function(t,e){a()(e).val().length>0&&i.matDoFloat(a()(e))}),this.$fields.on("focus",function(t){var e=a()(t.currentTarget);i.matDoFloat(e)}),this.$fields.on("focusout",function(t){var e=a()(t.currentTarget);""===e.val()&&i.matNoFloat(e)}),this.formRules(),this.manageFakeSelectList(),this.associateSelectList()}var e;return(e=[{key:"formRules",value:function(){var t=this;this.$zipcodeInput.on("change input",function(e){if(t.$inputChecked.html(t.inputDefault),t.$region.val(""),t.$selectedRegion.val(""),"input"!==e.type){var n=t.$zipcodeInput.val(),i=document.title;""!==n&&t.zipcodeRegex.test(n)?(t.$inputRadio.attr("aria-pressed","false"),t.$buttonSubmit.removeAttr("disabled")):(t.$buttonSubmit.attr("disabled","true"),t.$formGroup.removeClass("form-item-error focused"),document.title=i,t.$formGroupLabelError.attr("aria-hidden","true").removeAttr("role")),t.zipcodeRegex.test(n)||""===n?(document.title=i,t.$formGroup.removeClass("form-item-error"),t.$formGroupLabelError.attr("aria-hidden","true").removeAttr("role")):(t.$formGroup.addClass("form-item-error"),document.title="".concat(i," ").concat(t.$error.text()),t.$formGroupLabelError.attr({"aria-hidden":"false",role:"alert"}),t.$zipcodeInput.focus())}})}},{key:"manageFakeSelectList",value:function(){var t=this;this.$triggerAccordion.on("click",function(e){t.$accordionPanel.hasClass("active")?t.closePanel(t.$accordionPanel,a()(e.currentTarget)):t.openPanel(t.$accordionPanel,a()(e.currentTarget))}),this.$inputRadio.on("click",function(e){t.$buttonSubmit.removeAttr("disabled"),t.$zipcodeInput.val(""),t.$formGroup.removeClass("form-item-error focused"),t.$inputRadio.attr("aria-pressed","false"),a()(e.currentTarget).attr("aria-pressed","true"),t.$inputChecked.text(a()(e.currentTarget).text()),t.$selectedRegion.val(a()(e.currentTarget).val());var n=t.$inputChecked.text();t.$fields.find('[value="'.concat(n,'"]')).attr("selected","selected"),t.$container.find(".mat-form-group").addClass("do-float"),t.closePanel(t.$accordionPanel,t.$triggerAccordion),t.$formGroupLabelError.attr("aria-hidden","true").removeAttr("role")})}},{key:"closePanel",value:function(t,e){t.attr("aria-hidden","true").removeClass("active").slideUp(),t.find("a, button, input, span.lnk").attr("tabindex","-1"),e.removeClass("active").attr("aria-expanded","false")}},{key:"openPanel",value:function(t,e){t.attr("aria-hidden","false").addClass("active").slideDown(),e.addClass("active").attr("aria-expanded","true"),t.find("a, button, input, span.lnk").attr("tabindex","0")}},{key:"matDoFloat",value:function(t){t.closest(".mat-form-group").addClass("do-float")}},{key:"matNoFloat",value:function(t){t.closest(".mat-form-group").removeClass("do-float")}},{key:"associateSelectList",value:function(){this.$fields.on("change",function(t){var e=a()(t.currentTarget).prop({selected:!0}).val();a()('.input[value="'.concat(e,'"]')).trigger("click")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a.a.fn.doFloat=function(t){var e=a.a.extend({},a.a.fn.doFloat.defaults,t);return this.each(function(){new E(a()(this),e)})},a.a.fn.doFloat.defaults={};var I=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$slider=this.$container.find(".js-slider"),this.init(),p.a.on("change",function(){i.init(),i.a11yForLegend(i.sliderTns.getInfo())})}var e;return(e=[{key:"init",value:function(){var t=this,e=p.a.getCurrent();if(this.$slider.length){var n,i=this.$slider.children().length,a=!1;switch(e){case"mobile":a=i>1;break;case"tablet":a=i>2;break;default:a=i>3}this.sliderTns=Object(C.a)({container:this.$slider[0],nav:!1,arrowKeys:!0,mouseDrag:!0,loop:!1,items:1.15,slideBy:1,preventScrollOnTouch:"auto",prevButton:a?this.$container.find(".tns-prev")[0]:null,nextButton:a?this.$container.find(".tns-next")[0]:null,controls:a,gutter:8,autoHeight:!0,responsive:(n={},L(n,p.b.mobile.min,{items:1.15,controls:a}),L(n,p.b.tablet.min,{items:2.15,controls:a}),L(n,p.b.desktop.min,{items:3,controls:a,mouseDrag:!1}),L(n,p.b.widescreen.min,{gutter:12}),n),onInit:function(){a||t.$container.find(".tns-controls").hide()}}),this.sliderTns.events.on("indexChanged",this.a11yForLegend),this.sliderTns.events.on("transitionEnd",this.a11yForLinks),this.$slider.find(".lazyload").on("lazybeforeunveil",function(){setTimeout(function(){t.sliderTns.updateSliderHeight(),t.$container.find(".tns-ovh").height("auto")},100),t.a11yForLegend(t.sliderTns.getInfo()),"mobile"!==e&&a&&t.$container.find(".tns-control").attr("tabindex","0")})}}},{key:"a11yForLegend",value:function(t){a()(t.container).parents(".slider-multi-items").find(".tns-liveregion").html("Diapositives ".concat(t.displayIndex," \xe0 ").concat(t.displayIndex+t.items-1," sur ").concat(t.slideCount))}},{key:"a11yForLinks",value:function(t){var e=Array.from(t.slideItems),n=p.a.getCurrent();e&&e.forEach(function(t){"mobile"===n?a()(t).find("a, button, span.lnk").attr("tabindex","0"):a()(t).hasClass("tns-slide-active")?a()(t).find("a, button, span.lnk").attr("tabindex","0"):a()(t).find("a, button, span.lnk").attr("tabindex","-1")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a.a.fn.sliderMultiItems=function(t){var e=a.a.extend({},a.a.fn.sliderMultiItems.defaults,t);return this.each(function(){new I(a()(this),e)})},a.a.fn.sliderMultiItems.defaults={};var j=function(){function t(e,n){var i=this;if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$slider=this.$container.find(".js-slider"),this.hasControls=this.$slider.data().hasOwnProperty("hascontrols")?this.$slider.data("hascontrols"):!!this.options.tnsOptions&&this.options.tnsOptions.hasControls,this.isLoop=this.$slider.data().hasOwnProperty("loop")?this.$slider.data("loop"):!!this.options.tnsOptions&&this.options.tnsOptions.isLoop,this.hasPageCount=this.$slider.data().hasOwnProperty("haspagecount")?this.$slider.data("haspagecount"):!!this.options.tnsOptions&&this.options.tnsOptions.hasPageCount,this.isFixedWidth=this.$slider.data().hasOwnProperty("fixedwidth")?this.$slider.data("fixedwidth"):!!this.options.tnsOptions&&this.options.tnsOptions.isFixedWidth,this.options.responsive){var a=p.a.getCurrent();this.responsiveActivated(a)&&this.init(),p.a.on("change",function(t){i.responsiveActivated(t.name)&&!i.sliderTns?i.init():i.resetSliderCrap()})}else this.init()}var e;return(e=[{key:"responsiveActivated",value:function(t){return!0===this.options.responsive[t]}},{key:"init",value:function(){var t=this;if(this.isFixedWidth=parseInt(this.isFixedWidth,10)>0?parseInt(this.isFixedWidth,10):!!this.isFixedWidth&&.85*a()(window).width(),this.$slider.length){var e;this.sliderTns=Object(C.a)({container:this.$slider[0],controls:this.hasControls,loop:this.isLoop,nav:!1,arrowKeys:!0,mouseDrag:!0,preventScrollOnTouch:"auto",controlsContainer:!!this.hasControls&&this.$container.find(".tns-pagination")[0],prevButton:!!this.hasControls&&this.$container.find(".tns-prev")[0],nextButton:!!this.hasControls&&this.$container.find(".tns-next")[0],responsive:(e={},O(e,p.b.mobile.min,{fixedWidth:this.isFixedWidth}),O(e,p.b.tablet.min,{fixedWidth:this.isFixedWidth}),O(e,p.b.desktop.min,{disable:!this.options.responsive.desktop}),e)});var n=this.sliderTns.getInfo();this.sliderTns.events.on("indexChanged",this.updateAccessibility),this.hasPageCount&&(a()(n.controlsContainer).find(".total").text(n.slideCount),this.a11yForPagination(n),this.sliderTns.events.on("transitionEnd",this.updatePagination)),this.$slider.find(".lazyload").on("lazybeforeunveil",function(){setTimeout(function(){t.sliderTns.updateSliderHeight()},20)})}}},{key:"resetSliderCrap",value:function(){this.$container.find(".tns-ovh").height("auto"),this.$slider.find(".tns-slide").find("a, button, span.lnk").attr("tabindex","0")}},{key:"updateAccessibility",value:function(t){a()(t.slideItems[t.indexCached]).find("a, button, span.lnk").attr("tabindex","-1"),a()(t.slideItems[t.index]).find("a, button, span.lnk").attr("tabindex","0").eq(0).focus()}},{key:"updatePagination",value:function(t){a()(t.controlsContainer).find(".current").text(t.displayIndex)}},{key:"a11yForPagination",value:function(t){a()(t.controlsContainer).attr("tabindex","0"),a()(t.controlsContainer).find(".tns-control").attr("tabindex","0")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.slider=function(t){var e=a.a.extend({},a.a.fn.slider.defaults,t);return this.each(function(){new j(a()(this),e)})},a.a.fn.slider.defaults={responsive:null,tnsOptions:null};var D=0,R=function(){function t(e,n){var i=this;if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.isInitialized=!1,this.pluginName="sticky-content",this.pluginId=D+=1,this.namespace=this.pluginName+this.pluginId,this.$parent=this.options.closest?this.$container.closest(this.options.closest):this.$container.parent(),this.relativeOffset=this.$container.offset().top-this.$parent.offset().top-this.options.offsetTop,this.options.responsive){var a=p.a.getCurrent();this.responsiveActivated(a)&&this.init(),p.a.on("change",function(t){i.responsiveActivated(t.name)?i.init():i.destroy()})}else this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.isInitialized||(this.manageSticky(),a()(window).on("scroll.".concat(this.namespace," resize.").concat(this.namespace),function(){t.manageSticky()}),this.isInitialized=!0)}},{key:"destroy",value:function(){this.$container.css("top",""),a()(window).off("scroll.".concat(this.namespace," resize.").concat(this.namespace)),this.isInitialized=!1}},{key:"responsiveActivated",value:function(t){return void 0===this.options.responsive[t]||!0===this.options.responsive[t]}},{key:"manageSticky",value:function(){this.responsiveActivated(p.a.getCurrent())&&(a()(window).scrollTop()>this.$parent.offset().top+this.relativeOffset&&this.$parent.height()+this.$parent.position().top-this.options.offsetBottom>a()(window).scrollTop()+this.$container.height()?0===this.options.duration?this.$container.css("top","".concat(a()(window).scrollTop()-(this.$parent.offset().top+this.relativeOffset),"px")):this.$container.animate({top:"".concat(a()(window).scrollTop()-(this.$parent.offset().top+this.relativeOffset),"px")},{queue:this.options.queue,easing:this.options.easing,duration:this.options.duration}):a()(window).scrollTop()<this.$parent.offset().top&&this.$container.animate({top:"0px"},{queue:this.options.queue,easing:this.options.easing,duration:this.options.duration}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.stickyContent=function(t){var e=a.a.extend({},a.a.fn.stickyContent.defaults,t);return this.each(function(){new R(a()(this),e)})},a.a.fn.stickyContent.defaults={easing:"swing",duration:500,closest:null,offsetTop:0,offsetBottom:0,queue:!1,responsive:null};var _=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$picture=this.$container.find(".picture"),this.$titleBlock=this.$container.find(".texts"),this.$titleBlock.stickyContent({duration:0,offsetTop:140,offsetBottom:80,responsive:{mobile:!1,tablet:!1}}),this.manageSticky(),this.$picture.on("lazyloaded",function(){i.manageSticky()}),a()(window).on("scroll resize",function(){i.manageSticky()})}var e;return(e=[{key:"manageSticky",value:function(){var t=this.$container.find(".contents"),e=Math.abs(a()(window).scrollTop()-t.offset().top-t.outerHeight()),n=this.$picture.outerHeight()-50,i=t.offset().top+t.outerHeight();a()(window).scrollTop()<i?e<=n?this.$picture.removeClass("sticky"):this.$picture.addClass("sticky"):this.$picture.removeClass("sticky")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.stickyHeroBanner=function(t){var e=a.a.extend({},a.a.fn.stickyHeroBanner.defaults,t);return this.each(function(){new _(a()(this),e)})},a.a.fn.stickyHeroBanner.defaults={},n(179);var W=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.tilesContainer=this.$container.find(".block-tile-univers"),this.sectionAfterTile=a()(".tile-univers + section:not(.breadcrumb2)"),this.manageSpacingAfterTile()}var e;return(e=[{key:"manageSpacingAfterTile",value:function(){var t=this.tilesContainer.height(),e=parseInt(this.tilesContainer.css("margin-top")),n=window.matchMedia("(max-width: 1280px)").matches?64:80,i=-t-e;this.sectionAfterTile.css("padding-top",t+n+e),this.sectionAfterTile.css("margin-top",i)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.tileUnivers=function(t){var e=a.a.extend({},a.a.fn.tileUnivers.defaults,t);return this.each(function(){new W(a()(this),e)})},a.a.fn.tileUnivers.defaults={};var H=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$button=this.$container.find(".button"),this.textOpen=this.$button.data("text-open"),this.textClose=this.$button.data("text-close"),this.$container.find(".block-text").height()>45&&(this.$container.addClass("is-closed"),this.toggleText())}var e;return(e=[{key:"toggleText",value:function(){var t=this;this.$button.on("click",function(){t.$container.hasClass("is-opened")?t.$button.find(".text").text(t.textClose):t.$button.find(".text").text(t.textOpen),t.$container.toggleClass("is-opened")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.aroundTheTheme=function(t){var e=a.a.extend({},a.a.fn.aroundTheTheme.defaults,t);return this.each(function(){new H(a()(this),e)})},a.a.fn.aroundTheTheme.defaults={};var z=function t(e,n){var i,r=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$button=this.$container.find(".js-button"),this.$thumbnail=this.$container.find(".column"),i="mobile"===p.a.getCurrent()||"tablet"===p.a.getCurrent()?a()(this.$thumbnail[0]).height()+a()(this.$thumbnail[1]).height()+16:this.$thumbnail.height()+20,this.$thumbnail.length>2&&this.$button.length>0?(this.$container.addClass("is-closed"),this.$container.find(".columns").css("max-height",i+"px")):(this.$container.removeClass("is-closed"),this.$container.find(".columns").removeAttr("style")),this.$button.on("click",function(){r.$container.removeClass("is-closed"),r.$container.find(".columns").removeAttr("style")})};a.a.fn.thumbnails=function(t){var e=a.a.extend({},a.a.fn.thumbnails.defaults,t);return this.each(function(){new z(a()(this),e)})},a.a.fn.thumbnails.defaults={};var q=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$modalContainer=a()(".bpce-modal-container"),this.$modalBackdrop=a()(".bpce-modal-backdrop"),this.menu=a()("#menu"),this.displayOnScroll()}var e;return(e=[{key:"displayOnScroll",value:function(){this.$container.is(":visible")&&this.defineBodyPaddingTop(),window.addEventListener("scroll",b()(function(){window.matchMedia("(max-width: 959px)").matches&&(a()(window).scrollTop()>40?this.hideMetaNav():this.showMetaNav())}.bind(this),100))}},{key:"hideMetaNav",value:function(){this.$container.hide(),this.menu.addClass("meta-nav-margin"),this.$modalContainer.addClass("meta-nav-margin"),this.$modalBackdrop.addClass("meta-nav-margin")}},{key:"showMetaNav",value:function(){this.$container.show(),this.menu.removeClass("meta-nav-margin"),this.$modalContainer.removeClass("meta-nav-margin"),this.$modalBackdrop.removeClass("meta-nav-margin")}},{key:"defineBodyPaddingTop",value:function(){var t=a()("#meta-navigation").outerHeight(),e=a()(".menu-top").outerHeight(),n=a()(".subnav-wrapper").outerHeight();a()("body").css("padding-top",t+e+n)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.metaNav=function(t){var e=a.a.extend({},a.a.fn.metaNav.defaults,t);return this.each(function(){new q(a()(this),e)})},a.a.fn.metaNav.defaults={};var N=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.init()}var e;return(e=[{key:"init",value:function(){var t=a()(".hero-banner-landing-page + .ctas-lp");if("matchMedia"in window&&t.length&&window.matchMedia("(min-width:960px)").matches){a()(".ctas-lp-footer").length?a()("section.ctas-lp").css("padding-bottom","16px"):a()("section.ctas-lp").css("padding-bottom","24px");var e=t.outerHeight(!0);this.$container.css("margin-top",-e)}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.ctasLandingPage=function(t){var e=a.a.extend({},a.a.fn.ctasLandingPage.defaults,t);return this.each(function(){new N(a()(this),e)})},a.a.fn.ctasLandingPage.defaults={};var V=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.keepSelectedButtonActive()}var e;return(e=[{key:"keepSelectedButtonActive",value:function(){a()(".simulator-tile").on("click",function(){a()(".simulator-tile").removeClass("clicked"),a()(this).addClass("clicked")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.simulatorTile=function(t){var e=a.a.extend({},a.a.fn.simulatorTile.defaults,t);return this.each(function(){new V(a()(this),e)})},a.a.fn.simulatorTile.defaults={},n(84),n(85);var U=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$buttonActive=this.$container.find("#form_modal_activator"),this.$modal=this.$container.find("#form_modal"),this.$form=this.$container.find("form.step_form"),this.$formValidated=this.$container.find(".form-validated"),this.$nextStepButton=this.$container.find("#form-next-step"),this.$formSteppers=this.$container.find(".bpce-stepper-step"),this.$formStepperActive=this.$container.find(".bpce-stepper-step-on"),this.$formSteps=this.$container.find(".formstep"),this.$formActiveStep=this.$container.find(".formstep.active"),this.$formWrapperError=".wrapper-form-error",this.$formWrapperValidated=".wrapper-form-validated",this.$accordionButton=this.$container.find(".bpce-accordion-title-button"),this.$returnButton=this.$container.find("#form-return-button"),this.$closeButton=this.$container.find(".bpce-header-close"),this.$selectTags=this.$container.find(".bpce-select select"),this.$url=this.$container.find("#form-next-step").data("url"),this.$nonce=this.$container.find("#form-next-step").data("nonce"),this.$next_text=this.$container.find("#form-next-step").data("next-text")||"Continuer",this.$confirm_text=this.$container.find("#form-next-step").data("confirm-text")||"Confirmer et envoyer",this.$block_id=this.$container.find("#form-next-step").data("idblock"),this.$id=this.$container.find(".step_form").data("id"),this.$isSendingForm=!1,this.$contactButton=a()(document).find('a[href*="#form"]'),this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.$accordionButton.on("click",function(t){t.preventDefault();var e=a()(t.currentTarget),n=a()("#".concat(a()(t.currentTarget).attr("aria-controls")));"true"===n.attr("aria-hidden")?(e.find(".icon").addClass("rotate"),n.attr("aria-hidden","false")):(e.find(".icon").removeClass("rotate"),n.attr("aria-hidden","true")),"true"==a()(t.currentTarget).attr("aria-expanded")?a()(t.currentTarget).attr("aria-expanded",!1):a()(t.currentTarget).attr("aria-expanded",!0)}),this.$formSteps.find('input[type="tel"]').each(function(t,e){a()(e).hasClass("international-number")&&a()(e).attr("pattern","^(?:\\+|(?:00|0)\\s*)[1-9][\\s\\d]+\\d$")}),this.$formSteps.find('input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], input[type="file"], select').on("change",function(t){this.checkFields(t,!0),this.checkFields(t,!1)}.bind(this)),this.$buttonActive.on("click",function(){t.$modal.slideToggle(150)}),this.$nextStepButton.on("click",function(e){t.nextStep(e),t.checkFields(e,!0),t.checkFields(e,!1),t.$nextStepButton.hasClass("bpce-step-no-more-step")&&(null!=t.$formValidated.find(".button-inline").first()&&a()(t.$formValidated.find(".button-inline").first()).attr("tabindex",0),t.$formValidated.find(".button-inline").first().focus())}),this.$returnButton.on("click",function(e){t.prevStep(),t.checkFields(e,!0),t.checkFields(e,!1)}),this.$closeButton.on("click",function(){window.location.search.includes("#form")&&history.back(),t.closeModal(),null!=t.$contactButton&&t.$contactButton.focus()}),this.$selectTags.on("change",function(t){a()(t.target).val()?a()(t.target).hasClass("select-not-empty")||a()(t.target).addClass("select-not-empty"):a()(t.target).removeClass("select-not-empty")}),this.$modal.on("keydown",function(e){t.keyboardTrap(e)}),this.setFocusToFirstField()}},{key:"nextStep",value:function(t){t.preventDefault(),t.stopPropagation(),this.isLastStep()||a()(t.target).hasClass("bpce-button-disabled")||(this.$formActiveStep.removeClass("active").next().addClass("active"),this.$formActiveStep=this.$container.find(".formstep.active"),this.$formStepperActive.attr("aria-current","false").removeClass("bpce-stepper-step-on").next().attr("aria-current","step").addClass("bpce-stepper-step-on"),this.$formStepperActive=this.$container.find(".bpce-stepper-step-on"),this.setFocusToFirstField())}},{key:"prevStep",value:function(){if(this.isFirstStep())return this.closeModal(),void(null!=this.$contactButton&&this.$contactButton.focus());this.$formActiveStep.removeClass("active").prev().addClass("active"),this.$formActiveStep=this.$container.find(".formstep.active"),this.$formStepperActive.attr("aria-current","false").removeClass("bpce-stepper-step-on").prev().attr("aria-current","step").addClass("bpce-stepper-step-on"),this.$formStepperActive=this.$container.find(".bpce-stepper-step-on"),this.setFocusToFirstField()}},{key:"closeModal",value:function(){this.$modal.slideToggle(150),this.$form[0].reset(),this.initStep(),this.$buttonActive.focus()}},{key:"checkFields",value:function(t,e){var n=!0,i=a()(t.currentTarget);(!0===e?i.closest(".formstep.active").find(".required:not(.is-hidden)"):i.closest(".formstep.active").find(":not(.required):not(.is-hidden)")).each(function(){if(a()(this).val()||!0!==e||(n=!1),"email"===a()(this).attr("type")&&""!==a()(this).val()&&(!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a()(this).val())?(a()(this).parent().next(".bpce-input-error-msg").show(),a()(this).attr("aria-invalid","true"),a()(this).attr("aria-describedby","bpce-form-error-email"),a()(this).focus(),!0===e&&(n=!1)):(a()(this).parent().next(".bpce-input-error-msg").hide(),a()(this).attr("aria-invalid","false"),a()(this).removeAttr("aria-describedby"))),"tel"===a()(this).attr("type")&&""!==a()(this).val()){var t=/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/;a()(this).hasClass("international-number")&&(t=/^(?:\+|(?:00|0)\s*)[1-9][\s\d]+\d$/),!1===t.test(a()(this).val())?(a()(this).parent().next(".bpce-input-error-msg").show(),a()(this).attr("aria-invalid","true"),a()(this).attr("aria-describedby","bpce-form-error-phone"),a()(this).focus(),!0===e&&(n=!1)):(a()(this).parent().next(".bpce-input-error-msg").hide(),a()(this).attr("aria-invalid","false"),a()(this).removeAttr("aria-describedby"))}if("checkbox"===a()(this).attr("type")){var i=a()(this).closest(".bpce-checkbox-group");i.length&&0===i.find(".bpce-checkbox-input:checked").length&&(n=!1)}}),!0===e&&this.updateFormButton(n)}},{key:"updateFormButton",value:function(t){this.isLastStep()?(this.$isSendingForm||this.$nextStepButton.text(this.$confirm_text),this.$nextStepButton.addClass("bpce-step-no-more-step"),this.$form[0].allowDefault=!0):this.$nextStepButton.text(this.$next_text).removeClass("bpce-step-no-more-step"),!0===t?this.$isSendingForm||this.$nextStepButton.removeClass("bpce-button-disabled").removeAttr("disabled"):this.$nextStepButton.addClass("bpce-button-disabled").prop("disabled",!0)}},{key:"initStep",value:function(){this.$formActiveStep.removeClass("active"),this.$formSteps.first().addClass("active"),this.$formStepperActive.attr("aria-current","false").removeClass("bpce-stepper-step-on"),this.$formActiveStep=this.$container.find(".formstep.active"),this.$formSteppers.first().attr("aria-current","step").addClass("bpce-stepper-step-on"),this.$formStepperActive=this.$container.find(".bpce-stepper-step-on")}},{key:"isLastStep",value:function(){return this.$formSteps.index(a()(".formstep.active"))+1===this.$formSteps.length}},{key:"isFirstStep",value:function(){return 0===this.$formSteps.index(a()(".formstep.active"))}},{key:"setFocusToFirstField",value:function(){a()(this.$formActiveStep).find('input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select').first().focus()}},{key:"elementExists",value:function(t){return a()(t).length>0}},{key:"getElementsFromModal",value:function(t,e,n){return Array.from(a()(t).find(e).find(n))}},{key:"getErrorOrValidatedElements",value:function(t,e){return this.elementExists(e)&&"block"===a()(e).css("display")?this.getElementsFromModal(t,e,"a, button"):[]}},{key:"keyboardTrap",value:function(t){var e,n=this,i=this.elementExists(a()(this.$modal).find(this.$formActiveStep).find('input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select, input[type="file"]').first()),r=this.elementExists(a()(this.$modal).find(this.$formWrapperError).find("a, button")),s=this.elementExists(a()(this.$modal).find(this.$formWrapperValidated).find("a, button"));if(i||r||s){var o=this.getElementsFromModal(this.$modal,this.$formActiveStep,'input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select, button, input[type="file"]'),l=["button.bpce-accordion-title-button","button.form-next-step","button.bpce-header-close","button.bpce-header-back"],c=this.getErrorOrValidatedElements(this.$modal,this.$formWrapperError);c.length>0&&(o=c,l=l.filter(function(t){return"button.form-next-step"!==t&&"button.form-return-button"!==t}));var u=this.getErrorOrValidatedElements(this.$modal,this.$formWrapperValidated);u.length>0&&(o=u,l=l.filter(function(t){return"button.form-next-step"!==t&&"button.form-return-button"!==t})),l.forEach(function(t){var e=a()(n.$modal).find(t)[0];e&&o.push(e)});var h=a()(this.$modal).find("button.bpce-accordion-title-button");if(h.length>0&&"true"===h.attr("aria-expanded")){var d=Array.from(a()(this.$modal).find(".bpce-accordion-content a"));if(d.length>0){var f,p=o.indexOf(h[0]);-1!==p&&(f=o).splice.apply(f,[p+1,0].concat(function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(e=d)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()))}}else Array.from(a()(this.$modal).find(".bpce-accordion-content a")).forEach(function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1)});var v=o.length,m=v-1,g=0;if("Tab"===t.key)if(t.shiftKey){if(-1!==(g=o.indexOf(document.activeElement))){t.preventDefault(),t.stopPropagation();do{--g<0&&(g=m)}while(a()(o[g]).prop("disabled")||a()(o[g]).hasClass("is-hidden"));o[g].focus()}}else if(-1!==(g=o.indexOf(document.activeElement))){t.preventDefault(),t.stopPropagation();do{++g>=v&&(g=0)}while(a()(o[g]).prop("disabled")||a()(o[g]).hasClass("is-hidden"));o[g].focus()}}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.blockForm=function(t){var e=a.a.extend({},a.a.fn.blockForm.defaults,t);return this.each(function(){new U(a()(this),e)})},a.a.fn.blockForm.defaults={};var G=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$anchor=this.$container.find(".anchor"),this.$decoration=this.$container.find(".anchor-decoration"),this.$navigationTabList=this.$container.find(".nav-tab-list"),this.manageFirstActiveTab(),this.generateDecoration(),this.$anchor.on("click",function(t){i.manageTabs(a()(t.currentTarget)),i.manageSideMenuActiveTab(a()(t.currentTarget)),i.generateDecoration()}),a()(window).on("scroll resize",function(){i.generateDecoration()}),this.$navigationTabList.on("scroll",function(){i.generateDecoration()})}var e;return(e=[{key:"manageTabs",value:function(t){var e=a()(t),n=e.attr("href")+"-content",i=a()(n);e.addClass("active"),a()(".nav-tab-list a").not(e).removeClass("active"),i.removeClass("is-hidden"),a()(".nav-content").not(i).addClass("is-hidden")}},{key:"manageFirstActiveTab",value:function(){if(window.location.hash.length>0)this.manageOpenTabAndContentById(window.location.hash);else{var t=a()(".nav-tab-list a.active").attr("href")+"-content";a()(t).removeClass("is-hidden")}}},{key:"manageSideMenuActiveTab",value:function(t){if(a()(".container-side-menu").length>0){var e=a()(t).attr("href")+"-1",n=a()('a[href="'+e+'"]'),i=a()(e+"-content");n.addClass("active"),a()(".side-menu a").not(n).removeClass("active"),i.removeClass("is-hidden"),a()(".side-menu-content").not(i).addClass("is-hidden")}}},{key:"manageOpenTabAndContentById",value:function(t){var e,n=a()(t+"-content"),i=a()(t+"-content");t.includes("-")?i=a()(t.split("-")[0]+"-content"):(window.location.hash=t+"-1",location.reload()),e=a()('a[href="'+t+'"]'),i.removeClass("is-hidden"),e.addClass("active"),a()(".side-menu a").not(e).removeClass("active"),n.removeClass("is-hidden"),a()(".side-menu-content").not(n).addClass("is-hidden")}},{key:"generateDecoration",value:function(){var t=a()(".anchor.active");window.location.hash.length>0&&(t=a()('a[href="'+window.location.hash+'"]'),window.location.hash.includes("-")&&(t=a()('a[href="'+window.location.hash.split("-")[0]+'"]'))),0!==t.length&&(this.$decoration.css("left","".concat(t.position().left,"px")),this.$decoration.css("width","".concat(t.width(),"px")))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.navTab=function(t){var e=a.a.extend({},a.a.fn.navTab.defaults,t);return this.each(function(){new G(a()(this),e)})},a.a.fn.navTab.defaults={};var K=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.init(),this.collapse(),this.manageSpacing()}var e;return(e=[{key:"init",value:function(){"mobile"===p.a.getCurrent()&&(this.removeEmptyFromDOM(a()(".title-wrapper .label")),this.removeEmptyFromDOM(a()(".label-sm-bold")),this.removeEmptyFromDOM(a()(".label-sm")))}},{key:"removeEmptyFromDOM",value:function(t){a.a.each(t,function(){a.a.trim(a()(this).html())||a()(this).remove()})}},{key:"collapse",value:function(){a()(".collapsible").on("click",function(){var t=a()(this).data("target");a()(this).parents(".bpce-formule-block").first().find("#formules-collapsible-"+t).slideToggle("fast",function(){a()(this).is(":visible")&&a()(this).css("display","flex")}),a()(this).parents(".bpce-formule-block").first().find('.caron-up[data-target="'+t+'"]').toggle(),a()(this).parents(".bpce-formule-block").first().find('.caron-down[data-target="'+t+'"]').toggle()})}},{key:"manageSpacing",value:function(){var t=a()(".block-formules"),e=p.a.getCurrent();t.each(function(){var t=a()(this).find(".title-wrapper"),n=a()(this).find(".price-container"),i=a()(this).find(".service-main-wrapper"),r=a()(this).find(".main-cta-wrapper"),s=a()(this).find(".secondary-cta-wrapper"),o=a()(this).find(".button.button-1.button-inline"),l=a()(this).find(".button.button-2.button-inline"),c=a()(this).find("ul.columns"),u=function(t){return Math.max.apply(null,t.map(function(){return a()(this).innerHeight()}).get())},h=u(t),d=u(n),f=u(i),p=u(r),v=u(s),m=u(o),g=u(l);"mobile"!==e&&(t.css("height",h),n.css("height",d),i.css("height",f),r.css("height",p),s.css("height",v),o.css("height",m),l.css("height",g)),"mobile"===e&&c.removeClass("js-slider"),a()(this).find(".bpce-formule-block")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.formules=function(t){var e=a.a.extend({},a.a.fn.formules.defaults,t);return this.each(function(){new K(a()(this),e)})},a.a.fn.formules.defaults={};var Z=function(){function t(e,n){var i,r=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.searchInput=a()(".input-field-search"),this.clearSearchInputButton=a()(".button-clear"),this.closeButton=a()(".button-close"),this.headerSearchButton=a()("#search"),this.panelSearch=a()("#panel-search"),this.toggleSearchButton=a()(".toggle-search"),this.collapseResults$button=a()(".search-expand-button"),this.searchResultData=a()(".search-result-data"),this.searchResultsData=a()(".search-results-data"),this.headerSearchButton.on("click",function(){r.collapseResults$button.attr("aria-hidden",!0),r.searchResultsData.hasClass("is-hidden")||r.collapseResults$button.attr("aria-hidden",!1)});var s=document.getElementsByTagName("body")[0];new ResizeObserver(function(){a()("#breadcrumbs").length>0&&(window.innerWidth>960?a()("#breadcrumbs").attr("aria-hidden",!1):a()("#breadcrumbs").attr("aria-hidden",!0))}).observe(s),this.closeButton.on("click",function(t){a()(t.currentTarget).closest("div").hasClass("panel-search")&&(r.headerSearchButton.attr("aria-expanded","false"),r.headerSearchButton.focus(),r.collapseResults$button.attr("aria-hidden",!0))}),this.clearSearchInputButton.on("click",function(t){t.preventDefault(),r.clearInputSearch(a()(t.currentTarget)),r.manageClearInputButton(a()(t.currentTarget))}),this.searchInput.on("keyup",function(t){r.manageClearInputButton(a()(t.currentTarget))}),i="mobile"===p.a.getCurrent()||"tablet"===p.a.getCurrent()?a()(this.searchResultData[0]).height()+a()(this.searchResultData[1]).height()+16:this.searchResultData.height()+20,this.searchResultData.length>2&&this.collapseResults$button.length>0?(this.$container.addClass("is-closed"),this.$container.find(".search-result-data").css("max-height",i+"px")):(this.$container.removeClass("is-closed"),this.$container.find(".search-result-data").removeAttr("style")),this.collapseResults$button.on("click",function(){r.searchResultData.removeClass("is-closed"),r.collapseResults$button.hide(),document.dispatchEvent(new CustomEvent("search-results-container-opened"))})}var e;return(e=[{key:"manageClearInputButton",value:function(t){var e=a()(t).closest("div").find(".button-clear");t.val()?e.show():(e.hide(),a()(t).closest("div").find(".input-field-search").focus())}},{key:"clearInputSearch",value:function(t){a()(t).closest("div").find(".input-field-search").val("")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a.a.fn.headerPortal=function(t){var e=a.a.extend({},a.a.fn.headerPortal.defaults,t);return this.each(function(){new Z(a()(this),e)})},a.a.fn.headerPortal.defaults={};var Q=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$slider=this.$container.find(".js-slider"),this.$sliderModal=this.$container.find(".js-slider-modal"),this.sliderTnsModal={},this.init(),p.a.on("change",function(){i.init()})}var e;return(e=[{key:"init",value:function(){this.sliderModal(),this.sliderDesktop(this.sliderTnsModal)}},{key:"sliderModal",value:function(){var t=this;this.$sliderModal.length&&(this.sliderTnsModal=Object(C.a)({container:this.$sliderModal[0],nav:!1,arrowKeys:!0,mouseDrag:!0,items:1,loop:!1,slideBy:1,preventScrollOnTouch:"auto",prevButton:this.$container.find(".tns-prev-modal")[0],nextButton:this.$container.find(".tns-next-modal")[0],center:!0,freezable:!1,autoWidth:!1,autoHeight:!0,responsive:J({},p.b.desktop.min,{items:1,mouseDrag:!1,autoWidth:!0,autoHeight:!0})}),this.$sliderModal.find(".lazyload").on("lazybeforeunveil",function(){setTimeout(function(){t.sliderTnsModal.updateSliderHeight(),t.$container.find(".tns-ovh").height("auto")},100),t.$container.find(".tns-control").attr("tabindex","0")}))}},{key:"sliderDesktop",value:function(t){var e=this;if(this.$slider.length){this.sliderTns=Object(C.a)({container:this.$slider[0],nav:!1,arrowKeys:!0,mouseDrag:!0,items:3,loop:!1,slideBy:1,preventScrollOnTouch:"auto",prevButton:this.$container.find(".tns-prev")[0],nextButton:this.$container.find(".tns-next")[0],gutter:16,controls:!1,autoWidth:!0,autoHeight:!0,responsive:J({},p.b.tablet.min,{autoHeight:!0,center:!1,gutter:24,controls:!0,mouseDrag:!1})}),this.$slider.find(".lazyload").on("lazybeforeunveil",function(){setTimeout(function(){e.sliderTns.updateSliderHeight(),e.$container.find(".tns-ovh").height("auto")},100),e.$container.find(".tns-control").attr("tabindex","0")});var n=this.$container.find("li.tns-slide"),i=0;n.each(function(){a()(this).find(".diaporama-legend").innerHeight()>i&&(i=a()(this).find(".diaporama-legend").innerHeight())}),i+=24,this.$container.find(".tns-controls").css("margin-top",i+"px"),this.$container.find(".js-open-dialog-modal").on("click",function(){if(null!=a()(this).attr("open_modal"))var e=a()(this).attr("open_modal");else e=a()(this).attr("data-open_modal");a()("#modal-slider-"+e).show(),t.goTo(a()(this).attr("data-img-id")),a()("#modal-slider-"+e+" .js-close-dialog").on("click",function(){a()("#modal-slider-"+e).hide()})});var r=this;this.sliderTns.events.on("indexChanged",function(t){setTimeout(function(){var t=r.sliderTns.getInfo(),e=a()(t.slideItems[t.slideItems.length-1]);a()(e).offset().left+a()(e).width()-24<r.$container.find(".block-slider").offset().left+r.$container.find(".block-slider").width()&&r.$container.find(".tns-next").prop("disabled",!0)},200)})}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.blockSlider=function(t){var e=a.a.extend({},a.a.fn.blockSlider.defaults,t);return this.each(function(){new Q(a()(this),e)})},a.a.fn.blockSlider.defaults={};var Y=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$slider=this.$container.find(".js-slider"),this.$sliderPager=this.$container.find(".sliderPager")[0],this.$content=this.$container.find(".my-slider .content"),this.sliderTns=null,this.isUASProject=a()("body").hasClass("uas-bpce-theme"),this.init()}var e;return(e=[{key:"init",value:function(){this.sliderDesktop()}},{key:"sliderDesktop",value:function(){var t,e;this.$slider.length&&(this.sliderTns=Object(C.a)({container:this.$slider[0],items:this.isUASProject?1:this.getSliderItems(),slideBy:"page",nav:!0,navContainer:this.$sliderPager,arrowKeys:!0,mouseDrag:!0,loop:!1,preventScrollOnTouch:"auto",prevButton:this.$container.find(".tns-prev")[0],nextButton:this.$container.find(".tns-next")[0],autoWidth:!1,autoHeight:!1,gutter:2,responsive:(t={},e={items:1,mouseDrag:!1,autoWidth:!0,autoHeight:!1},768 in t?Object.defineProperty(t,768,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[768]=e,t)}))}},{key:"getSliderItems",value:function(){var t=window.innerWidth;return t<768?1:t<1024?2:3}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.blockMultiTestimonial=function(t){var e=a.a.extend({},a.a.fn.blockMultiTestimonial.defaults,t);return this.each(function(){new Y(a()(this),e)})},a.a.fn.blockMultiTestimonial.defaults={},n(181);var X=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.container=e,this.options=n,this.anchor=this.container.find(".side-menu-item"),this.buttonSideMenuMobile=this.container.find(".side-menu-mobile"),this.modalClose=a()(".modal-side-menu-close"),this.modalsideMenuMobile=a()(".modal-side-menu-mobile"),this.manageFirstActiveTab(),this.anchor.on("click",function(t){i.manageTabs(a()(t.currentTarget))}),this.buttonSideMenuMobile.on("click",function(t){i.manageSideMenuMobileButtons(a()(t.currentTarget))}),this.modalClose.on("click",function(t){i.modalsideMenuMobile.hide()})}var e;return(e=[{key:"manageTabs",value:function(t){var e=a()(t),n=e.attr("href")+"-content",i=a()(n);e.addClass("active"),a()(".side-menu a").not(e).removeClass("active"),i.removeClass("is-hidden"),a()(".side-menu-content").not(i).addClass("is-hidden"),this.modalsideMenuMobile.hide()}},{key:"manageSideMenuMobileButtons",value:function(t){var e=a()(t).attr("id");a()("#"+e.split("-")[0]+"-mobile-modal").show()}},{key:"manageFirstActiveTab",value:function(){var t=a()(".side-menu a.active").attr("href")+"-content";a()(t).removeClass("is-hidden")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a.a.fn.sideMenu=function(t){var e=a.a.extend({},a.a.fn.sideMenu.defaults,t);return this.each(function(){new X(a()(this),e)})},a.a.fn.sideMenu.defaults={};var et=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.container=e,this.options=n,this.moreFiltersButton=this.container.find(t.buttonSelector),this.moreFiltersPopupWindow=this.container.find(t.popupWindowSelector),this.allFacetwpCheckboxes=this.container.find("."+t.buttonCheckboxClass),this.allFacetwpRadio=this.container.find("."+t.buttonRadioClass),this.moreFiltersCloseButton=this.container.find("#close-more-filters"),this.moreFiltersShowResults=this.container.find("#"+t.buttonShowResultsClass),this.moreFiltersResetButton=this.container.find("."+t.buttonResetClass),this.moreFiltersPopupWindowArrow=this.container.find("#popup-arrow"),this.addTitles(),document.addEventListener("facetwp-loaded",function(){i.allFacetwpCheckboxes=i.container.find("."+t.buttonCheckboxClass),i.allFacetwpRadio=i.container.find("."+t.buttonRadioClass),a()("."+t.buttonResetClass).attr("onclick","jQuery( '"+t.popupWindowSelector+"' ).addClass( 'hidden' )"),i.checkPopupCheckboxes(),i.addTitles()}),this.moreFiltersButton.on("click",function(){i.moreFiltersButtonClick()}),this.moreFiltersCloseButton.on("click",function(){i.moreFiltersToggle()}),this.moreFiltersShowResults.on("click",function(){i.moreFiltersClose()}),this.moreFiltersResetButton.on("click",function(){i.moreFiltersResetAll(),i.moreFiltersClose()}),a()(window).on("scroll resize",function(){i.definePopupCoords()}),this.allFacetwpCheckboxes.on("click",function(t){i.changeChecked(a()(t.currentTarget))}),this.allFacetwpRadio.on("click",function(t){i.changeChecked(a()(t.currentTarget))}),a()("body *").on("click",function(t){i.doWeNeedToCloseTheModal(t)})}var e;return(e=[{key:"doWeNeedToCloseTheModal",value:function(e){var n=e.target;a()(n).hasClass(t.buttonRadioClass)||a()(n).hasClass(t.buttonCheckboxClass)||a()(n).hasClass(t.buttonResetClass)||a()(n).hasClass("facetwp-display-value")||a()(n).hasClass("lnk ")||t.buttonClass===a()(n).attr("id")||t.buttonShowResultsClass===a()(n).attr("id")||a()(this.moreFiltersPopupWindow).hasClass("hidden")||(e.preventDefault(),e.stopPropagation(),this.moreFiltersClose())}},{key:"checkPopupCheckboxes",value:function(){a()(t.popupWindowSelector).find(".checked").length>0?a()(t.buttonSelector).addClass("checked"):a()(t.buttonSelector).removeClass("checked")}},{key:"moreFiltersClose",value:function(){a()(this.moreFiltersPopupWindow).addClass("hidden")}},{key:"moreFiltersToggle",value:function(){a()(this.moreFiltersPopupWindow).toggleClass("hidden")}},{key:"moreFiltersButtonClick",value:function(){this.moreFiltersPopupWindow.length>0&&this.moreFiltersToggle(),this.definePopupCoords()}},{key:"definePopupCoords",value:function(){if(this.moreFiltersPopupWindow.length>0&&this.moreFiltersButton.length>0){var t=window.innerWidth;if("mobile"===p.a.getCurrent())a()(this.moreFiltersPopupWindow).css("top","0px"),a()(this.moreFiltersPopupWindow).css("left","0px");else{var e=a()(this.moreFiltersButton)[0].getBoundingClientRect(),n=e.bottom,i=e.left,r=e.width,s=a()(this.moreFiltersPopupWindow)[0].getBoundingClientRect().width,o=s/2,l=n+11,c=i-s/2+r/2;c+s>t&&(o=i+r/2-(c=t-s-20))>s-20&&(o=s-20),a()(this.moreFiltersPopupWindow).css("top",l+"px"),a()(this.moreFiltersPopupWindow).css("left",c+"px"),a()(this.moreFiltersPopupWindowArrow).css("left",o+"px")}}}},{key:"moreFiltersResetAll",value:function(){this.allFacetwpCheckboxes.length>0&&a()(this.allFacetwpCheckboxes).each(function(t,e){a()(e).hasClass("checked")&&a()(e).removeClass("checked")}),this.moreFiltersButton.removeClass("checked")}},{key:"changeChecked",value:function(t){}},{key:"addTitles",value:function(){this.container&&this.allFacetwpRadio.each(function(t,e){a()(e).find("span").length?a()(e).attr("title",a()(e).find("span").html()):a()(e).attr("title",a()(e).html())})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();tt(et,"buttonClass","more-filters-button"),tt(et,"buttonSelector","#"+et.buttonClass),tt(et,"popupWindowSelector",".more-filters-popup"),tt(et,"buttonResetClass","facetwp-reset"),tt(et,"buttonCheckboxClass","facetwp-checkbox"),tt(et,"buttonRadioClass","facetwp-radio"),tt(et,"buttonShowResultsClass","filters-show-results"),a.a.fn.cardsFilters=function(t){var e=a.a.extend({},a.a.fn.cardsFilters.defaults,t);return this.each(function(){new et(a()(this),e)})},a.a.fn.cardsFilters.defaults={};var nt=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$stepMoreButton=this.$container.find(".timeline-step-more"),this.initStepButton(),this.initStickyPosition()}var e;return(e=[{key:"initStepButton",value:function(){this.$stepMoreButton&&this.$stepMoreButton.on("click",function(){var t=a()(this).parent(".timeline-step");t.find(".wysiwyg > *:nth-child(n+2)").slideToggle(150),t.toggleClass("timeline-overflow"),a()(this).find(".icon").toggleClass("timeline-icon-reverse");var e=a()(this).find(".text"),n=e.text();e.text("Voir plus"===n?"Voir moins":"Voir plus")})}},{key:"initStickyPosition",value:function(){var t=this.isDesktop();a()(window).on("scroll",function(){var e=a()(".timeline-left"),n=this.defineScrollTop(t)[0],i=this.defineScrollTop(t)[1];e.each(function(){var e=a()(this).outerHeight(),r=a()(this).next().offset().top,s=a()(this).next().offset().top+a()(this).next().outerHeight();if(t&&r<=n&&s>n+e){var o=a()(this).next().outerWidth();a()(this).parent().addClass("sticky"),a()(this).css("top","".concat(i,"px")).outerWidth("".concat(o,"px")).next().css("margin-left","".concat(o,"px"))}else{var l=t?0:15;a()(this).parent().removeClass("sticky"),a()(this).css("top","auto").next().css("margin-left","".concat(l,"px"))}s<n+e?a()(this).parent().addClass("sticky-bottom").removeClass("sticky"):a()(this).parent().removeClass("sticky-bottom")})}.bind(this))}},{key:"defineScrollTop",value:function(t){var e=a()(".anchors-hero-banner.sticky"),n=a()(".nav-wrapper"),i=a()(window).scrollTop(),r=0;return t&&e.length>0?(i+=e.outerHeight(),r=e.outerHeight()):n.length>0&&(i+=n.outerHeight(),r=n.outerHeight()),[i,r]}},{key:"isDesktop",value:function(){var t=!1;return"desktop"!==p.a.getCurrent()&&"widescreen"!==p.a.getCurrent()&&"stretchscreen"!==p.a.getCurrent()&&"fullhd"!==p.a.getCurrent()||(t=!0),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.timeLine=function(t){var e=a.a.extend({},a.a.fn.timeLine.defaults,t);return this.each(function(){new nt(a()(this),e)})},a.a.fn.timeLine.defaults={};var it=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.navbarHub=a()("#container-hub-article-navigation"),this.stickHandler(this.navbarHub)}var e;return(e=[{key:"stickHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:960,n=t.find(".hub-article-navigation").offset().top,i=a()(".header .nav-wrapper");a()(window).scroll(function(){if(a()(window).width()>=e){var r=i.length>0?n+i.outerHeight():n;window.scrollY>=r?t.addClass("sticky-hub"):t.removeClass("sticky-hub")}})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.hubArticleNavigation=function(t){var e=a.a.extend({},a.a.fn.hubArticleNavigation.defaults,t);return this.each(function(){new it(a()(this),e)})},a.a.fn.hubArticleNavigation.defaults={};var at=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.decrementButton=this.$container.find(".decrement-btn"),this.incrementButton=this.$container.find(".increment-btn"),this.paginationInputInt=this.$container.find(".pagination-input-int"),this.paginationInputSelect=this.$container.find(".pagination-input-select"),this.paginationNumbersButton=this.$container.find(".page-numbers"),this.disableButtonClass="disable-btn",this.incrementButtonClass="increment-btn",this.decrementButtonClass="decrement-btn",this.goToPageText="Aller \xe0 la page",this.currentPageText="Page actuelle, page",this.pageTitle=document.title,this.paginationNumbersButton.on("click",function(t){t.stopImmediatePropagation();var e=a()(t.currentTarget);i.paginationNumbersButton.not(e).removeClass("current").attr("aria-current",!1).each(function(){a()(this).attr("aria-label","Aller \xe0 la page "+a()(this).text().trim())}),e.not(i.decrementButtonClass,i.incrementButtonClass).addClass("current").attr("aria-label",i.currentPageText+" "+e.text().trim()).attr("aria-current",!0),i.updateTitlePagination(parseInt(e.html()),e.closest("ul").find("li").length),i.changePaginationPage(parseInt(e.html()),t)}),this.decrementButton.on("click",function(t){t.stopImmediatePropagation();var e=a()(t.currentTarget),n=e.closest("div").find(".increment-btn"),r=e.closest("div").find(".pagination-input"),s=r.is("select")?parseInt(r.find("option").last().val()):parseInt(r.attr("max")),o=r.is("select")?parseInt(r.find("option").first().val()):parseInt(r.attr("min")),l=parseInt(r.val());l>o&&r.val(--l),e.attr("aria-label",i.goToPageText+" "+(l-1)),n.attr("aria-label",i.goToPageText+" "+(l+1)),l===o&&(e.attr("aria-label",i.goToPageText+" "+l),e.addClass(i.disableButtonClass)),l>s&&(n.attr("aria-label",i.goToPageText+" "+l),l=--s,r.val(l)),r.attr("aria-label",i.currentPageText+" "+l),n.hasClass(i.disableButtonClass)&&l<s&&n.removeClass(i.disableButtonClass),i.updateTitlePagination(l,s),i.changePaginationPage(l,t)}),this.incrementButton.on("click",function(t){t.stopImmediatePropagation();var e=a()(t.currentTarget),n=e.closest("div").find(".decrement-btn"),r=e.closest("div").find(".pagination-input"),s=r.is("select")?parseInt(r.find("option").last().val()):parseInt(r.attr("max")),o=r.is("select")?parseInt(r.find("option").first().val()):parseInt(r.attr("min")),l=parseInt(r.val());l<s&&(r.val(++l),n.attr("aria-label",i.goToPageText+" "+(l-1)),e.attr("aria-label",i.goToPageText+" "+(l+1))),l===s&&(e.attr("aria-label",i.goToPageText+" "+l),e.addClass(i.disableButtonClass)),l<o&&(l=++o,r.val(l)),r.attr("aria-label",i.currentPageText+" "+l),n.hasClass(i.disableButtonClass)&&l>1&&n.removeClass(i.disableButtonClass),i.updateTitlePagination(l,s),i.changePaginationPage(l,t)}),this.paginationInputInt.on("keyup",function(t){if("Enter"===t.key){var e=a()(t.currentTarget),n=e.closest("div").find(".increment-btn"),r=e.closest("div").find(".decrement-btn"),s=parseInt(e.attr("max")),o=parseInt(e.attr("min")),l=parseInt(e.val());e.blur(),n.removeClass(i.disableButtonClass),r.removeClass(i.disableButtonClass),""!==e.val()&&(e.attr("aria-label",i.currentPageText+" "+l),n.attr("aria-label",i.goToPageText+" "+(l+1)),r.attr("aria-label",i.goToPageText+" "+(l-1)),l>=s&&(n.attr("aria-label",i.goToPageText+" "+l),l=s,a()(t.currentTarget).val(l),n.addClass(i.disableButtonClass)),l<=o&&(r.attr("aria-label",i.goToPageText+" "+l),l=o,a()(t.currentTarget).val(l),r.addClass(i.disableButtonClass)),i.updateTitlePagination(l,s),i.changePaginationPage(l,t))}}),this.paginationInputSelect.on("change",function(t){var e=a()(t.currentTarget),n=parseInt(e.val()),r=e.closest("div").find(".decrement-btn"),s=e.closest("div").find(".increment-btn"),o=parseInt(e.find("option").first().val()),l=parseInt(e.find("option").last().val()),c=n===o?n:n-1,u=n===l?n:n+1;r.removeClass(i.disableButtonClass),s.removeClass(i.disableButtonClass),i.paginationInputSelect.find("option").not(e).attr("aria-current",!1).attr("selected",!1).each(function(){a()(this).attr("aria-label","Aller \xe0 la page "+a()(this).val())}),e.find('option[value="'+n+'"]').attr("aria-current",!0).attr("aria-label",i.currentPageText+" "+e.val()).attr("selected",!0),n===o&&r.addClass(i.disableButtonClass),n===l&&s.addClass(i.disableButtonClass),s.attr("aria-label",i.goToPageText+" "+u),r.attr("aria-label",i.goToPageText+" "+c),i.updateTitlePagination(e.val(),l),i.changePaginationPage(n,t)}),this.init()}var e;return(e=[{key:"changePaginationPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0,n="",i=a()(e.currentTarget).closest(".pagination").attr("data-pager");void 0!==i&&(n=i),a()(a()(e.currentTarget).closest(".pagination")).hasClass("active-pagination-controls")&&document.dispatchEvent(new CustomEvent("pagination-change-page",{detail:{pageNumber:t,pager:n}}))}},{key:"resetPagination",value:function(){this.paginationNumbersButton.removeClass("current"),a()(this.paginationNumbersButton[0]).addClass("current"),this.decrementButton.addClass(this.disableButtonClass),this.decrementButton.attr("disabled",!0),this.incrementButton.removeClass(this.disableButtonClass)}},{key:"updateTitlePagination",value:function(t,e){document.title=this.pageTitle+", page "+t+" sur "+e}},{key:"init",value:function(){var t=this;a()(document).ready(function(){document.addEventListener("bpce-pagination-reset",function(){t.resetPagination()})})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.pagination=function(t){var e=a.a.extend({},a.a.fn.pagination.defaults,t);return this.each(function(){new at(a()(this),e)})},a.a.fn.pagination.defaults={};var rt=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$moreContainer=this.$container.find(".trombinoscope-more"),this.$moreButton=this.$container.find(".trombinoscope-more button"),this.$itemList=this.$container.find(".trombinoscope-items"),this.$items=this.$container.find(".trombinoscope-item"),this.$behaviour="more",this.$more_label=this.$moreButton.data("more-label"),this.$less_label=this.$moreButton.data("less-label"),this.initButton()}var e;return(e=[{key:"initButton",value:function(){var t=this;this.$items.length<13||(this.$moreContainer.toggle(),this.$moreButton.on("click",function(e){a()(t.$itemList).toggleClass("partial-display"),"more"===t.$behaviour?(t.$moreButton.find("span").text(t.$less_label),t.$behaviour="less"):(t.$moreButton.find("span").text(t.$more_label),t.$behaviour="more")}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.trombinoscope=function(t){var e=a.a.extend({},a.a.fn.trombinoscope.defaults,t);return this.each(function(){new rt(a()(this),e)})},a.a.fn.trombinoscope.defaults={};var st=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$selectTags=this.$container.find(".bpce-select select"),this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.$selectTags.on("change",function(e){a()(e.target).val()?a()(e.target).hasClass("select-not-empty")||a()(e.target).addClass("select-not-empty"):a()(e.target).removeClass("select-not-empty"),"select1"===a()(e.target)[0].id&&a()(e.target).hasClass("select-not-empty")&&"Toutes les marques"!==a()(e.target).val()&&t.$container.find("#select2").attr("disabled",!1),"Toutes les marques"===a()(e.target).val()&&t.$container.find("#select2").val("")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.heroBannerMcl=function(t){var e=a.a.extend({},a.a.fn.heroBannerMcl.defaults,t);return this.each(function(){new st(a()(this),e)})},a.a.fn.heroBannerMcl.defaults={};var ot=a()(".js-trigger-toggle"),lt=a()(".js-close-toggle");function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ot.on("click",function(t){var e=a()(t.currentTarget).attr("data-toggle-trigger");a()(t.currentTarget).attr("aria-expanded","true"),a()('.js-target-toggle[data-toggle-target="'.concat(e,'"]')).addClass("active")}),lt.on("click",function(t){var e=a()(t.currentTarget).parents(".js-target-toggle").attr("data-toggle-target");a()(t.currentTarget).parents(".js-target-toggle").removeClass("active"),a()('.js-trigger-toggle[data-toggle-trigger="'.concat(e,'"]')).attr("aria-expanded","false")}),a()(".js-orientation").on("load",function(t){var e=a()(t.currentTarget);e.hasClass("orientation-even")&&e.removeClass("orientation-even"),e.width()>e.height()?e.addClass("orientation-landscape"):e.width()<e.height()?e.addClass("orientation-portrait"):e.addClass("orientation-even")}),a()(".js-phone").on("click",function(t){var e=a()(t.currentTarget);e.toggleClass("hidden"),e.next().toggleClass("accessibility").trigger("focus").attr("tabindex","0")}),a()(document).on("click touch",function(){a()("html").addClass("no-focus-outline")}),a()(document).on("keyup",function(t){9===t.keyCode&&a()("html").removeClass("no-focus-outline")}),a()(window).on("load resize",function(t){a()(".tile-univers").css("background-color","transparent"),"mobile"!==p.a.getCurrent()&&"tablet"!==p.a.getCurrent()||a()(".tile-univers").each(function(){var t=a()(this).next().css("background-color");a()(this).css("background-color",t)})}),a()(".breadcrumb,.breadcrumb2").length>0&&a()(".footer").length>0?a()("section:nth-last-of-type(2):not(.breadcrumb,.breadcrumb2)").addClass("above-footer"):a()(".breadcrumb,.breadcrumb2").length<=0&&a()(".footer").length>0&&a()("section:last-child()").addClass("above-footer");var ut=function(){function t(e,n){var i=this;if(function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$slider=this.$container.find(".js-slider"),a()(".block-featured-products ul.js-slider li.desktop-full-width").removeClass("desktop-full-width"),this.init(),p.a.on("change",function(){i.init()}),document.body.clientWidth>=p.b.desktop.min){var r=this;this.$container.find(".wrapper-min").each(function(t,e){r.calculateNoSliderProductHeight(e)})}}var e;return(e=[{key:"init",value:function(){this.sliderDesktop()}},{key:"sliderDesktop",value:function(){var t=this;if(this.$slider.length){var e;this.sliderTns=Object(C.a)({container:this.$slider[0],nav:!1,arrowKeys:!0,mouseDrag:!0,items:1.2,loop:!1,slideBy:1,preventScrollOnTouch:"auto",prevButton:this.$container.find(".tns-prev")[0],nextButton:this.$container.find(".tns-next")[0],fixedWidth:.78*document.body.clientWidth,controls:!1,freezable:!1,gutter:8,responsive:(e={},ct(e,p.b.tablet.min,{fixedWidth:.735*document.body.clientWidth}),ct(e,p.b.desktop.min,{items:1,controls:!0,autoWidth:!1,fixedWidth:!1,gutter:0}),e)}),this.$slider.find(".lazyload").on("lazybeforeunveil",function(){setTimeout(function(){t.sliderTns.updateSliderHeight(),t.$container.find(".tns-ovh").height("auto")},100),t.$container.find(".tns-control").attr("tabindex","0")});var n=this;this.$container.find(".slider-wrapper").each(function(t,e){setTimeout(function(){n.calculateProductMaxHeight(e),n.calculateMaxHeight(e,".bpce-block-featured-products")},1e3)})}}},{key:"calculateMaxHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=a()(t).find(e),i=0;n.each(function(t,e){a()(e).innerHeight()>i&&(i=a()(e).innerHeight())}),a()(t).find(e).innerHeight(i)}},{key:"calculateProductMaxHeight",value:function(t){var e=a()(t).find(".bpce-block-featured-products .product-wrapper"),n=0,i=0;e.each(function(t,e){var r=a()(e).find(".visual");r.length>0&&0===i&&(i=a()(r).outerHeight(!0));var s=a()(e).find(".product-infos"),o=0;s.length>0&&(o+=a()(s).outerHeight(!0));var l=o+i;n<l&&(n=l)}),a()(t).find(".bpce-block-featured-products .product-wrapper").innerHeight(n+32)}},{key:"calculateNoSliderProductHeight",value:function(t){var e=a()(t).find(".bpce-block-featured-products .product").innerHeight(),n=a()(t).find(".bpce-block-featured-products .included-services").innerHeight();e<=n+56&&(e=n+56,a()(t).find(".bpce-block-featured-products").innerHeight(e),a()(t).find(".bpce-block-featured-products .product").innerHeight(e))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a.a.fn.featuredProducts=function(t){var e=a.a.extend({},a.a.fn.featuredProducts.defaults,t);return this.each(function(){new ut(a()(this),e)})},a.a.fn.featuredProducts.defaults={};var ft=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),dt(this,"ifFWP",!1),this.$container=e,this.options=n,this.$buttons=this.$container.find(".filter-button"),this.$buttonReset=this.$container.find("#"+t.buttonResetFiltersID),this.$currentPanel=null,this.$currentButton=null,this.$buttonShowFilters=this.$container.find("#"+t.buttonShowFiltersID),this.$buttonShowResults=this.$container.find("#"+t.buttonShowResultsID),this.$buttonCloseModalFiltersID=this.$container.find("#"+t.buttonCloseModalFiltersID),this.$blockFiltersList=this.$container.find("#"+t.blockFiltersListID),this.$buttonShowFilters.on("click",function(){i.showFilters(),i.$buttonCloseModalFiltersID.length>0&&i.$buttonCloseModalFiltersID.focus()}),this.$buttonShowResults.on("click",function(){i.showResults()}),this.$buttonCloseModalFiltersID.on("click",function(){i.showResults()}),this.$buttonCloseModalFiltersID.on("keydown",function(e){9===e.keyCode&&e.shiftKey&&(a()("#"+t.buttonResetFiltersID).focus(),e.preventDefault())}),this.$buttonReset.on("keydown",function(e){9===e.keyCode&&a()("#"+t.buttonCloseModalFiltersID).length>0&&(a()("#"+t.buttonCloseModalFiltersID).focus(),e.preventDefault())}),a()("body *").on("click",function(t){i.doWeNeedToCloseFilters(t)}),this.init(),a()(document).on("click",".tag-icon-close",function(t){var e=t.currentTarget.dataset.value,n=t.currentTarget.dataset.facet;i.deleteTag(e),a()(".facetwp-facet-"+n+" [data-value="+e+"]").removeClass("checked"),document.dispatchEvent(new CustomEvent("facetwp-tag-close",{detail:{facetName:n,tagValue:e}})),i.fwpRefresh()})}var e;return(e=[{key:"init",value:function(){var t=this;a()(document).ready(function(){t.ifFWP="object"===("undefined"==typeof FWP?"undefined":ht(FWP))}),this.$buttonReset.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.ifFWP&&FWP.reset(),t.showResults()}),document.addEventListener("facetwp-loaded",function(){t.createTagsForCheckedOptions(),t.removeTagsForUncheckedOptions()}),this.$buttons.on("click",function(e){var n=a()(e.currentTarget),i=a()("#".concat(a()(e.currentTarget).attr("aria-controls")));i.is(t.$currentPanel)?(t.closePanel(t.$currentPanel,t.$currentButton),t.currentsToNull()):(t.$currentPanel&&t.closePanel(t.$currentPanel,t.$currentButton),t.openPanel(i,n),t.$currentPanel=i,t.$currentButton=n)});var e=this.$buttons.filter(".active").first();e.length&&(this.$currentPanel=a()("#".concat(e.attr("aria-controls"))),this.$currentButton=e,this.openPanel(this.$currentPanel,this.$currentButton))}},{key:"currentsToNull",value:function(){this.$currentPanel=null,this.$currentButton=null}},{key:"closePanel",value:function(t,e){"off"===e.data("slide")?t.attr("aria-hidden","true").removeClass("active").hide():t.attr("aria-hidden","true").removeClass("active").slideUp(),t.find("a, button, span.lnk").attr("tabindex","-1"),e.removeClass("active").attr("aria-expanded","false")}},{key:"openPanel",value:function(t,e){"off"===e.data("slide")?t.attr("aria-hidden","false").addClass("active").show():t.attr("aria-hidden","false").addClass("active").slideDown(),this.definePopupCoords(t),e.addClass("active").attr("aria-expanded","true"),t.find("a, button, span.lnk").attr("tabindex","0")}},{key:"definePopupCoords",value:function(t){a()(t).removeClass("left-edge"),0>t[0].getBoundingClientRect().x&&a()(".filter-panel.active").addClass("left-edge")}},{key:"showFilters",value:function(){this.$blockFiltersList.show()}},{key:"showResults",value:function(){this.$blockFiltersList.hide(),this.$buttonShowFilters.length>0&&this.$buttonShowFilters.focus()}},{key:"doWeNeedToCloseFilters",value:function(e){var n=e.target;if(!(a()(n).parents(".filter-title").length>0||a()(n).parents(".filter-panel").length>0||a()(n).parents("#"+t.buttonShowFiltersID).length>0||a()(n).parents("#"+t.buttonShowResultsID).length>0||t.buttonShowFiltersID===a()(n).attr("id")||t.buttonShowResultsID===a()(n).attr("id"))&&a()(".filter-panel.active").length>0){var i=this.$buttons.filter(".active").first(),r=a()("#".concat(a()(i).attr("aria-controls")));this.closePanel(r,i),this.currentsToNull()}}},{key:"createTag",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!a()(".tag[data-value="+n+"]").length){var r="."+t.facetwpSelectedFiltersSpaceName+i;a()(r).length&&a()(r).append("<div class='tag is-variant2 radius' data-value="+n+" data-facet="+i+">"+e+'<svg class="icon svg-icon tag-icon-close icon_close" data-value='+n+" data-facet="+i+' aria-hidden="true" width="24" height="24" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M278.626 256l132.688-132.688c6.256-6.256 6.256-16.368 0-22.624s-16.368-6.256-22.624 0L256.002 233.376 123.314 100.688c-6.256-6.256-16.368-6.256-22.624 0s-6.256 16.368 0 22.624L233.378 256 100.69 388.688c-6.256 6.256-6.256 16.368 0 22.624A15.956 15.956 0 00112.002 416c4.096 0 8.192-1.568 11.312-4.688l132.688-132.688L388.69 411.312A15.956 15.956 0 00400.002 416c4.096 0 8.192-1.568 11.312-4.688 6.256-6.256 6.256-16.368 0-22.624L278.626 256z" fill="#333" fill-rule="evenodd"></path></svg></div>')}}},{key:"deleteTag",value:function(t){a()(".tag[data-value="+t+"]").remove()}},{key:"fwpRefresh",value:function(){this.ifFWP&&FWP.refresh()}},{key:"createTagsForCheckedOptions",value:function(){var e=this;a.a.map(this.$buttons,function(t){a()(t).removeClass("checked-filters")}),a.a.map(FWP.facets,function(n,i){var r=".facetwp-facet-"+i;if(a.a.map(n,function(n){var s=a()(r+" [data-value="+n+"]").find("."+t.facetwpDisplayValueClass).text();e.createTag(s,n,i)}),n.length){var s=a()(r).parents(".filter-panel").attr("aria-labelledby")||"";""!==s&&a()("button#"+s).addClass("checked-filters")}})}},{key:"removeTagsForUncheckedOptions",value:function(){var e=this;a.a.map(a()("."+t.facetwpSelectedFiltersSpaceNameCommon+" .tag"),function(t){var n=a()(t).attr("data-value"),i=a()(t).attr("data-facet");a()(".facetwp-facet-"+i+" [data-value="+n+"]").hasClass("checked")||e.deleteTag(n)})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();dt(ft,"buttonShowFiltersID","filters-open-button"),dt(ft,"buttonShowResultsID","filters-results-button"),dt(ft,"buttonResetFiltersID","facetwp-reset-button"),dt(ft,"buttonCloseModalFiltersID","close-modal-filters"),dt(ft,"blockFiltersListID","filters-list"),dt(ft,"facetwpDisplayValueClass","facetwp-display-value"),dt(ft,"facetwpSelectedFiltersSpaceName","filters-selected-for-"),dt(ft,"facetwpSelectedFiltersSpaceNameCommon","filters-selected"),a.a.fn.filtersPopups=function(t){var e=a.a.extend({},a.a.fn.filtersPopups.defaults,t);return this.each(function(){new ft(a()(this),e)})},a.a.fn.filtersPopups.defaults={};var pt=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$body=a()("body"),this.$container=e,this.$compareButton=this.$container.find(".compare-button .button"),this.$modalButton=this.$container.find(".modal.js-dialog .modal-bpce-information-buttons .button-item"),this.$modalError=this.$container.find(".modal.modal-error"),this.$modalComparator=this.$container.find(".comparator-modal"),this.$modalSwitcher=this.$container.find(".wrapper-switcher"),this.$moreResultsButton=a()(".more-results-button"),this.init()}var e;return(e=[{key:"init",value:function(){var t=this;function e(){var e=a()(".comparator-overlay"),n=a()(".checkbox-comparator.checked").length;0!==n?(e.slideDown("fast"),1===n?(t.$compareButton.addClass("disabled"),a()(".comparator-overlay .indication").text("Pour utiliser le comparateur, s\xe9lectionnez 2 produits minimum.")):(t.$compareButton.removeClass("disabled"),a()(".comparator-overlay .indication").text("Commencer la comparaison"))):e.slideUp("fast")}function n(){t.$modalSwitcher.html(""),a()(".comparator-modal ul").children().each(function(e,n){var i=a()(document.createElement("a")),r=a()(n).find(".bpce-comparator-title");r.length&&i.text(r.text().trim()),i.data("target",a()(n).attr("id")),i.addClass("switcher font-mention"),0===e&&(i.addClass("selected"),a()(n).addClass("selected")),t.$modalSwitcher.append(i)})}function i(){var e=9;document.body.clientWidth<p.b.tablet.min&&(e=6);var n=a()(".facetwp-template ul");n.children(".bpce-comparator-list-item").length>e?(t.$moreResultsButton.show(),t.$moreResultsButton.attr("aria-hidden","false")):(t.$moreResultsButton.hide(),t.$moreResultsButton.attr("aria-hidden","true"));var i=0;n.children(".bpce-comparator-list-item").each(function(t){a()(this).children(".button").attr("tabindex",i),i++,a()(this).children(".filters-list").attr("tabindex",i),i++,t>=e?(document.body.clientWidth<p.b.tablet.min?a()(this).addClass("show-more-mobile"):a()(this).addClass("show-more-desktop"),a()(this).attr("aria-hidden","true")):(a()(this).removeClass("show-more-mobile"),a()(this).removeClass("show-more-desktop"))}),a()(".bpce-comparator-list-item").attr("aria-hidden","false"),"Voir plus"===a()(".more-results-button span.text").html()&&a()(".bpce-comparator-list-item.show-more").attr("aria-hidden","true"),a()("h2.font-title-section").each(function(){var t=a()(this),e=t.next("ul.columns");if(e.length){var n=!0,i=!0;e.find("li").each(function(){a()(this).hasClass("show-more-mobile")||(n=!1),a()(this).hasClass("show-more-desktop")||(i=!1)}),n&&t.addClass("show-more-mobile"),i&&t.addClass("show-more-desktop")}})}function r(){var i=a()(".checkbox-comparator");i.off("click"),i.click(function(){if(3===a()(".checkbox-comparator.checked").length&&!a()(this).hasClass("checked"))return t.$modalError.addClass("is-active"),a()(".modal-error .accept-modal").trigger("focus"),void t.$modalError.trigger("comparator-modal-error-displayed");var i=a()(this),r=a()("label[for='"+i.attr("id")+"']");i.toggleClass("checked"),r.toggleClass("checked"),i.closest("li.bpce-comparator-list-item").toggleClass("product-card-checked"),e(),function(t){var e=t.data("card")+"_comparator",i=a()("#"+t.data("card")+"_data");t.hasClass("checked")?a()("<li>",{class:"bpce-comparator-item column is-12-mobile is-6-tablet is-4-desktop"}).attr("id",e).html(i.html()).appendTo(".comparator-modal ul"):a()("#"+e).remove(),n()}(i)})}"undefined"==typeof FWP&&r(),document.addEventListener("facetwp-loaded",function(){"undefined"!=typeof FWP&&a.a.map(FWP.facets,function(t,e){var n=a()(".filters-selected.filters-selected-for-"+e+" > .tag"),i=e+"-tag-label",r=a()("#"+i);n.length&&void 0!==FWP.settings.labels[e]?(r.show(),r.attr("aria-hidden","false")):r.length&&(r.hide(),r.attr("aria-hidden","true"))}),i(),a()(".comparator-modal ul").html(""),e(),n(),r()}),document.addEventListener("facetwp-tag-close",function(t){var e=t.detail.facetName,n=a()(".filters-selected.filters-selected-for-"+e+" > .tag"),i=e+"-tag-label",r=a()("#"+i);!n.length&&r.length&&(r.hide(),r.attr("aria-hidden","true"))}),window.addEventListener("resize",b()(function(){this.$modalComparator.is(":visible")&&this.$modalComparator.heightAligner({excludeMobile:"true",selectors:[".bpce-comparator-item-header > div",".bpce-comparator-data"],items:[".bpce-comparator-item-content"]}),i()}.bind(this),100)),document.addEventListener("keydown",function(t){"Tab"===t.key&&document.activeElement===a()(".modal-error .accept-modal")[0]&&t.preventDefault()}),this.$compareButton.click(function(t){if(a()(this).hasClass("disabled"))return t.preventDefault(),void t.stopPropagation();var e=a()(".comparator-modal");e.show(),e.trigger("comparator-modal-displayed"),e.heightAligner({excludeMobile:"true",selectors:[".bpce-comparator-item-header > div",".bpce-comparator-data"],items:[".bpce-comparator-item-content"]}),document.body.clientWidth<p.b.tablet.min?a()(".comparator-switcher .wrapper-switcher .switcher").first().trigger("focus"):a()(".bpce-comparator-item a").first().trigger("focus")}),a()(".more-results-button .button").click(function(){var t=9;document.body.clientWidth<p.b.tablet.min&&(t=6);var e=a()(".bpce-comparator-list-item-content .block-text a"),n=a()(".show-more-mobile, .show-more-desktop");n.toggleClass("visible"),n.hasClass("visible")?(a()(".more-results-button span.text").html("Voir moins"),e.length>t&&(e.eq(t).trigger("focus"),n.attr("aria-hidden","false"))):(a()(".more-results-button span.text").html("Voir plus"),e.eq(0).trigger("focus"),n.attr("aria-hidden","true"))}),a()(".modal-error .accept-modal").click(function(){t.$modalError.removeClass("is-active"),t.$compareButton.trigger("focus")}),a()(".comparator-modal .bpce-header-close").click(function(){a()(".comparator-modal").hide()}),this.$modalComparator.on("click",".bpce-comparator-item .remove-compared-product",function(){a()("#"+a()(this).data("target")+" .checkbox-comparator").trigger("click"),2>a()(".comparator-modal .container-columns ul li").length?(t.$modalComparator.hide(),a()(".product-comparator-product-list ul .bpce-comparator-list-item").first().trigger("focus")):t.$modalButton.trigger("focus")}),this.$modalComparator.on("click","a.switcher",function(t){a()(".comparator-modal a.switcher").removeClass("selected"),a()(".comparator-modal li.selected").removeClass("selected"),a()(t.target).addClass("selected"),a()("#"+a()(t.target).data("target")).addClass("selected")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.BlockFiltersComparator=function(t){var e=a.a.extend({},a.a.fn.BlockFiltersComparator.defaults,t);return this.each(function(){new pt(a()(this),e)})},a.a.fn.BlockFiltersComparator.defaults={};var vt=function(){function t(e,n){var i;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),i=function(t){return Math.max.apply(null,t.map(function(){return a()(this).innerHeight()}).get())},"maxHeight"in this?Object.defineProperty(this,"maxHeight",{value:i,enumerable:!0,configurable:!0,writable:!0}):this.maxHeight=i,this.$container=e,this.options=n,this.screenResolution=p.a.getCurrent(),this.excludeMobile=void 0!==this.options.excludeMobile&&Boolean(this.options.excludeMobile),void 0!==n.selectors&&n.selectors.length>0&&this.adjustSelectorAndParentHeight(n.selectors),void 0!==n.items&&n.items.length>0&&this.adjustItemHeight(n.items)}var e;return(e=[{key:"adjustSelectorAndParentHeight",value:function(t){var e=this;if(void 0!==t&&0!==t.length){var n=this.$container,i="mobile"===this.screenResolution&&this.excludeMobile;t.forEach(function(t){var a=1,r=n.find(t),s=r.parent();if(s.css("height",""),i&&r.length>0)r.css("height","");else{for(var o=n.find(t+":nth-child("+a.toString()+")");o.length>0;)o.css("height",""),o.css("height",e.maxHeight(o)),o=n.find(t+":nth-child("+(++a).toString()+")");s.css("height",e.maxHeight(s))}})}}},{key:"adjustItemHeight",value:function(t){var e=this;if(void 0!==t&&0!==t.length){var n=this.$container,i="mobile"===this.screenResolution&&this.excludeMobile;t.forEach(function(t){var a=n.find(t);a.css("height",""),i||a.css("height",e.maxHeight(a))})}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.heightAligner=function(t){var e=a.a.extend({},a.a.fn.heightAligner.defaults,t);return this.each(function(){new vt(a()(this),e)})},a.a.fn.heightAligner.defaults={},n(184),a()(".block-survey .chart").each(function(t){a()(this).easyPieChart({easing:"easeOutBounce",lineWidth:22,lineCap:"square",size:350,trackColor:"#e6f0f7",scaleColor:!1,barColor:a()(this).css("fill"),onStep:function(t,e,n){a()(this.el).find(".percent").text(Math.round(n))}})}),a()(".block-survey .chart canvas").css("width",""),a()(".block-survey .chart canvas").css("height","");var mt=function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$profilesField=this.$container.find(".profiles-field"),this.$needsField=this.$container.find(".needs-field"),this.$submitButton=this.$container.find(".profile-and-needs-button"),this.$modal=this.$container.find(".modal"),this.$modalButton=this.$modal.find(".accept-modal"),this.$submitButton.on("click",function(t){0!=i.$profilesField.val().length&&0!=i.$needsField.val().length||(t.preventDefault(),i.$modal.addClass("is-active"))}),this.$modalButton.on("click",function(){i.$modal.removeClass("is-active")})};a.a.fn.BlockProfileAndNeedsInContent=function(t){var e=a.a.extend({},a.a.fn.BlockProfileAndNeedsInContent.defaults,t);return this.each(function(){new mt(a()(this),e)})},a.a.fn.BlockProfileAndNeedsInContent.defaults={};var gt=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$slider=this.$container.find(".js-slider"),this.$sliderItems=this.$slider.find("li"),this.$container.find(".tns-prev").hide(),this.init(),p.a.on("change",function(){i.init()}),a()(".menu-top").css({"box-shadow":"none"}),a()(".button-burger").css({"border-bottom":"1px solid #ccc"});var r=a()(".nav-wrapper").outerHeight();if(a()("body").css({"padding-top":r+"px"}),document.body.clientWidth>p.b.smalldesktop.max&&a()("section.breadcrumb").length>0){var s=a()("section.breadcrumb").first().offset().top;a()("section.breadcrumb").first().css({top:s+a()(this.$container).height()+48+"px"})}a()(window).scroll(function(){a()(window).scrollTop()>=114?a()(".menu-top").hide():a()(".menu-top").show()})}var e;return(e=[{key:"init",value:function(){this.sliderSubmenu()}},{key:"handleNavButtons",value:function(){var t=this.sliderTns.getInfo(),e=a()(t.slideItems[t.slideItems.length-1]),n=a()(e).offset().left,i=n+a()(e).width()-24,r=this.$container.find(".subnav-menu").offset().left;i<=r+this.$container.find(".subnav-menu").width()?this.$container.find(".tns-next").fadeOut(200):this.$container.find(".tns-next").fadeIn(200);var s=a()(t.slideItems[0]);(n=a()(s).offset().left)>=(r=this.$container.find(".subnav-menu").offset().left)?this.$container.find(".tns-prev").fadeOut(200):this.$container.find(".tns-prev").fadeIn(200)}},{key:"sliderSubmenu",value:function(){if(this.$slider.length&&this.$sliderItems.length>1&&document.body.clientWidth<=p.b.smalldesktop.max){this.sliderTns=Object(C.a)({container:this.$slider[0],nav:!1,arrowKeys:!0,mouseDrag:!0,items:3,loop:!1,slideBy:1,preventScrollOnTouch:"auto",autoWidth:!0,controlsContainer:this.$container.find(".submenu-tns-controls")[0],freezable:!1,gutter:16,speed:200}),this.handleNavButtons();var t=this;this.sliderTns.events.on("indexChanged",function(e){setTimeout(function(){t.handleNavButtons()},250)})}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function bt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}a.a.fn.headerNavigationSubmenu=function(t){var e=a.a.extend({},a.a.fn.headerNavigationSubmenu.defaults,t);return this.each(function(){new gt(a()(this),e)})},a.a.fn.headerNavigationSubmenu.defaults={};var yt=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$buttonActive=this.$container.find(".form_modal_activator"),this.$modal=this.$container.find("#form_modal"),this.$form=this.$container.find("form.step_form"),this.$formValidated=this.$container.find(".form-validated"),this.$nextStepButton=this.$container.find(".form-next-step"),this.$formSteppers=".bpce-stepper-step",this.$formStepperActive=".bpce-stepper-step-on",this.$formSteps=".formstep",this.$formActiveStep=".formstep.active",this.$formWrapperError=".wrapper-form-error",this.$formWrapperValidated=".wrapper-form-validated",this.$formReasonClass=".motif-de-votre-demande",this.$returnButton=this.$container.find(".form-return-button"),this.$closeButton=this.$container.find(".bpce-assurances-header-close"),this.$selectTags=this.$container.find(".bpce-select select"),this.$url=this.$container.find("#form-next-step").data("url"),this.$nonce=this.$container.find("#form-next-step").data("nonce"),this.$next_text=this.$container.find("#form-next-step").data("next-text")||"Continuer",this.$confirm_text=this.$container.find("#form-next-step").data("confirm-text")||"Confirmer et envoyer",this.$block_id=this.$container.find("#form-next-step").data("idblock"),this.$id=this.$container.find(".step_form").data("id"),this.$isSendingForm=!1,this.$hasFilterClass=".has-filter",this.$modalNumber="",this.$buttonRetry=this.$container.find(".button-retry"),this.init()}var e,n,i;return e=t,i=[{key:"getFormOptionsFilters",value:function(e,n){if("undefined"===bpceAssurancesApiAdmin)return!1;n.prop("disabled","disabled").attr({selected:"selected",disabled:"disabled"});var i=t.getCurrentFormModal(e).find("[data-id='"+e+"']");a.a.get(bpceAssurancesApiAdmin.get_input_filters,{action:"get_input_filters",formId:e},function(t){if(t){var e=0,r=[],s=t.length;a.a.each(t,function(t,n){var s=n.conditions.length;if(s<=0)return!0;var o=0;if(a.a.each(n.conditions,function(t,e){var n=i.find('[name="'+e.field+'"]').find(":selected").val();switch(e.is_equal){case"equal":n.length>0&&n===e.value&&o++;break;case"not-equal":n.length&&n!==e.value&&o++}}),s!==o)return e++,!0;a.a.each(n.filters,function(t,e){var n=i.find('[name="'+e.field+'"]'),s=n.find('option[value="'+e.value+'"]');s.length>0&&!s.hasClass("is-hidden")&&(s.addClass("is-hidden").wrap("<span>"),a()(n).val()===a()(s).val()&&(a()(n).focus(),a()(n).val(a()(n).find("option:disabled").val()))),r.push(s.val())})});var o=i.find(a()("option.is-hidden"));a.a.each(o,function(t,e){if(-1!==a.a.inArray(a()(e).val(),r))return!0;a()(e).removeClass("is-hidden").unwrap()}),s===e&&i.find("option").hasClass("is-hidden")&&i.find("option").removeClass("is-hidden").unwrap()}n.removeAttr("disabled")})}},{key:"populateBankAgencies",value:function(t,e){var n=t.closest(".formstep.active").find(".agences-bancaires");if(n.attr("disabled","disabled"),"undefined"===bpceAssurancesApiAdmin)return!1;e.length>0&&a.a.get(bpceAssurancesApiAdmin.get_agencies_url,{action:"get_bank_agencies",bank:e},function(t){t&&(n.html(a()("<option></option>").val("0").html("Votre banque r\xe9gionale").attr({selected:"selected",disabled:"disabled"})),a.a.each(t,function(t,e){n.append(a()("<option></option>").val(e).html(e))}),n.removeAttr("disabled"))})}},{key:"getCurrentFormModal",value:function(t){return a()("#"+t+"-form-modal")}},{key:"getFormId",value:function(t){return t.closest(".form-modal-main").attr("id").split("-")[0]}}],(n=[{key:"init",value:function(){var e=this;a()(this.$formSteps).find('input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select').on("change",function(t){this.checkFields(t,!0),this.checkFields(t,!1)}.bind(this)),a()(this.$formSteps).find(".nom-de-banque").on("change",function(e){var n=a()(e.currentTarget),i=n.find(":selected").text();a.a.ajax({url:t.populateBankAgencies(n,i),success:function(){if(n.hasClass("has-filter")){var e=t.getFormId(n);t.getFormOptionsFilters(e,a()("select").not(n))}}})}.bind(this)),a()(this.$formSteps).find(this.$formReasonClass).on("change",function(t){var e=a()(t.currentTarget),n=e.find("option:selected").val(),i=e.closest(this.$formActiveStep).find(".numero-de-sinistre");if("Un sinistre"!==n&&i.length>0)return i.addClass("is-hidden"),void i.find("input").val("");i.removeClass("is-hidden"),this.checkFields(t,!0),this.checkFields(t,!1)}.bind(this)),a()(this.$formSteps).find(this.$hasFilterClass).on("change",function(e){var n=a()(e.currentTarget),i=t.getFormId(n);n.hasClass("nom-de-banque")||t.getFormOptionsFilters(i,a()("select").not(n))}.bind(this)),this.$buttonActive.on("click",function(t){t.preventDefault(),e.$modalNumber=null!=a()(t.currentTarget).attr("form-modal")?a()(t.currentTarget).attr("form-modal"):a()(t.currentTarget).attr("form"),a()("html").css("overflow","hidden"),e.manageModalForm(a()(t.currentTarget))}),this.$nextStepButton.on("click",function(n){var i=a()(n.currentTarget),r=i.attr("id").split("-")[0],s=t.getFormId(i);if(r===s&&e.nextStep(n,s,function(){e.checkFields(n,!0),e.checkFields(n,!1)})){a()(i).text("Veuillez patienter ...").addClass("bpce-button-disabled").prop("disabled",!0);var o=e.getFormData(s);Object.keys(o).length>0&&e.sendRequest(o,s,i),null!=e.$formValidated.find(".button-inner")&&e.$formValidated.find(".button-inner").focus()}}),this.$returnButton.on("click",function(n){e.prevStep(t.getFormId(a()(n.currentTarget))),e.checkFields(n,!0),e.checkFields(n,!1)}),this.$closeButton.on("click",function(n){e.closeModal(t.getFormId(a()(n.currentTarget)))}),this.$selectTags.on("change",function(t){a()(t.target).val()?a()(t.target).hasClass("select-not-empty")||a()(t.target).addClass("select-not-empty"):a()(t.target).removeClass("select-not-empty")}),this.$buttonRetry.on("click",function(t){a()(t.currentTarget).closest(".wrapper-form-error").hide(),a()(t.currentTarget).closest(a()("form.step_form")).show(),a()(t.currentTarget).closest(".form-modal-main").find(a()(".form-return-button")).show()}),this.disableChildSelector(),this.$container.find(".form-modal-main").on("keydown",function(t){e.keyboardTrap(t)}),this.setFocusToFirstField()}},{key:"disableChildSelector",value:function(){a()(".agences-bancaires").prop("disabled","disabled").html(a()("<option></option>").val("0").attr({selected:"selected",disabled:"disabled"}))}},{key:"getSelectedChoice",value:function(t,e){var n=a()(t.currentTarget);return!(!n.is("select")&&!n.attr("id").includes(e))&&n.find(":selected").text()}},{key:"getFormData",value:function(e){var n={form_id:e,id:e,steps:[],token:this.getCaptcha(e)},i=t.getCurrentFormModal(e).find("[data-id='"+e+"']");return a()(i).find(this.$formSteps).each(function(t){n.steps[t]={},n.steps[t].data={},n.steps[t].label=a()(".formstep-label",this).text().trim(),a()(":input",a()(this)).each(function(){var e=a()(this).attr("name"),i=a()(this).val();e.length>0&&e.includes("#")?(e=e.split("#")[0],n.steps[t].data[e]||(n.steps[t].data[e]=[]),a()(this).is(":checked")&&n.steps[t].data[e].push(i)):n.steps[t].data[e]=i})}),n}},{key:"sendRequest",value:function(e,n,i){var r=t.getCurrentFormModal(n).find("[data-id='"+n+"']");if("undefined"===bpceAssurancesApiAdmin)return!1;a.a.ajax({url:bpceAssurancesApiAdmin.send_form_url,action:"send_form_with_REST_API",data:e,method:"post",async:!1,headers:{nonce:bpceAssurancesApiAdmin.rest_nonce_send_form},success:function(t){r.remove(),a()(".wrapper-form-validated").show(function(){a()("#".concat(n,"-form-return-button")).hide(),a()(this).find("a:first").focus()})},error:function(t){i.text("Confirmer et envoyer").removeClass("bpce-button-disabled").removeAttr("disabled"),r.hide(),a()(".wrapper-form-error").show(function(){a()("#".concat(n,"-form-return-button")).hide(),a()(this).find("a:first").focus()})}})}},{key:"manageModalForm",value:function(e){null!=e.attr("form-modal")?t.getCurrentFormModal(e.attr("form-modal")).removeClass("is-hidden").css("overflow","auto").find("select:first").focus():t.getCurrentFormModal(e.attr("form")).removeClass("is-hidden").css("overflow","auto").find("select:first").focus()}},{key:"nextStep",value:function(e,n,i){if(e.preventDefault(),e.stopPropagation(),this.isLastStepFlag=this.isLastStep(n),this.isLastStepFlag)return i&&i(),!0;if(a()(e.target).hasClass("bpce-button-disabled"))return i&&i(),!1;var r=t.getCurrentFormModal(n);return r.find(this.$formActiveStep).removeClass("active").next().addClass("active"),r.find(this.$formStepperActive).attr("aria-current","false").removeClass("bpce-stepper-step-on").next().attr("aria-current","step").addClass("bpce-stepper-step-on"),a()(e.target).addClass("bpce-button-disabled"),a()(e.target).prop("disabled",!0),this.setFocusToFirstField(),i&&i(),!1}},{key:"prevStep",value:function(e){if(this.isFirstStep(e))this.closeModal(e);else{var n=t.getCurrentFormModal(e);n.find(this.$formActiveStep).removeClass("active").prev().addClass("active"),n.find(this.$formStepperActive).attr("aria-current","false").removeClass("bpce-stepper-step-on").prev().attr("aria-current","step").addClass("bpce-stepper-step-on"),this.hideAndClearCaptcha(e),this.setFocusToFirstField()}}},{key:"closeModal",value:function(e){a()("html").css("overflow","auto");var n=t.getCurrentFormModal(e);n.addClass("is-hidden ").css("overflow","hidden"),n.find("[data-id='"+e+"']")[0].reset(),this.hideAndClearCaptcha(e),this.initStep(e),this.$buttonActive.length>0&&this.$buttonActive.each(function(){a()(this).attr("form")===e&&a()(this).focus()})}},{key:"checkFields",value:function(e,n){var i,r=!0,s=a()(e.currentTarget);if(0===(i=!0===n?s.closest(".formstep.active").find(".required:not(.is-hidden)"):s.closest(".formstep.active").find(":not(.required):not(.is-hidden)")).length){var o=s.closest(".form-modal-main");i=!0===n?o.find(".formstep.active").find(".required:not(.is-hidden)"):o.find(".formstep.active").find(":not(.required):not(.is-hidden)")}if(i.each(function(){var t=a()(this).parent().next(".bpce-input-error-msg");if(a()(this).val()||!0!==n||(r=!1),"email"===a()(this).attr("type")&&""!==a()(this).val()&&(!1===/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a()(this).val())?(a()(t).show(),a()(this).attr("aria-invalid","true"),a()(this).attr("aria-describedby",a()(t).attr("id")),a()(this).focus(),!0===n&&(r=!1)):(a()(t).hide(),a()(this).attr("aria-invalid","false"),a()(this).removeAttr("aria-describedby"))),"tel"===a()(this).attr("type")&&""!==a()(this).val()&&(!1===/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/.test(a()(this).val())?(a()(t).show(),a()(this).attr("aria-invalid","true"),a()(this).attr("aria-describedby",a()(t).attr("id")),a()(this).focus(),!0===n&&(r=!1)):(a()(t).hide(),a()(this).attr("aria-invalid","false"),a()(this).removeAttr("aria-describedby"))),"checkbox"===a()(this).attr("type")){var e=a()(this).closest(".bpce-checkbox-group");e.length&&0===e.find(".bpce-checkbox-input:checked").length&&(r=!1)}}),!0===n){var l=t.getFormId(s);this.updateFormButton(r,this.getCurrentNextButton(l),l)}}},{key:"updateFormButton",value:function(t,e,n){0!==e.length&&(this.isLastStep(n)?(this.showCaptcha(n),this.$isSendingForm||e.text(this.$confirm_text),e.addClass("bpce-step-no-more-step"),this.$form[0].allowDefault=!0):e.text(this.$next_text).removeClass("bpce-step-no-more-step"),!0===t?this.$isSendingForm||e.removeClass("bpce-button-disabled").removeAttr("disabled"):e.addClass("bpce-button-disabled").prop("disabled",!0))}},{key:"initStep",value:function(e){var n=t.getCurrentFormModal(e);n.find(this.$formActiveStep).removeClass("active"),n.find(this.$formSteps).first().addClass("active"),n.find(this.$formStepperActive).attr("aria-current","false").removeClass("bpce-stepper-step-on"),n.find(this.$formSteppers+":nth-child(2)").attr("aria-current","step").addClass("bpce-stepper-step-on"),this.getCurrentNextButton(e).addClass("bpce-button-disabled").prop("disabled",!0)}},{key:"isLastStep",value:function(e){var n=t.getCurrentFormModal(e);return n.find(this.$formSteps).index(n.find(this.$formActiveStep))+1===n.find(this.$formSteps).length}},{key:"isFirstStep",value:function(e){var n=t.getCurrentFormModal(e);return 0===n.find(this.$formSteps).index(n.find(this.$formActiveStep))}},{key:"getCurrentNextButton",value:function(t){return a()("#"+t+"-form-next-step")}},{key:"showCaptcha",value:function(e){t.getCurrentFormModal(e).find(".h-captcha").removeClass("is-hidden")}},{key:"hideAndClearCaptcha",value:function(e){var n=t.getCurrentFormModal(e);n.find(".h-captcha").addClass("is-hidden");var i=n.find(a()("[name=h-captcha-response]"));i.length>0&&(i[0].value="")}},{key:"getCaptcha",value:function(e){var n=t.getCurrentFormModal(e).find(a()("[name=h-captcha-response]"));return n.length>0&&n[0].value}},{key:"setFocusToFirstField",value:function(){a()(this.$formActiveStep).find('input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select').first().focus()}},{key:"elementExists",value:function(t){return a()(t).length>0}},{key:"getElementsFromModal",value:function(t,e,n){return Array.from(a()(t).find(e).find(n))}},{key:"getErrorOrValidatedElements",value:function(t,e){return this.elementExists(e)&&"block"===a()(e).css("display")?this.getElementsFromModal(t,e,"a, button"):[]}},{key:"keyboardTrap",value:function(e){var n,i=t.getFormId(a()(e.currentTarget)),r=t.getCurrentFormModal(i),s=this.elementExists(a()(r).find(this.$formActiveStep).find('input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select, input[type="file"]').first()),o=this.elementExists(a()(r).find(this.$formWrapperError).find("a, button")),l=this.elementExists(a()(r).find(this.$formWrapperValidated).find("a, button"));if(s||o||l){var c=this.getElementsFromModal(r,this.$formActiveStep,'input[type="checkbox"], textarea, input[type="text"], input[type="email"], input[type="tel"], select, button, input[type="file"]'),u=["button.bpce-accordion-title-button","button.form-next-step","button.bpce-assurances-header-close","button.form-return-button"],h=this.getErrorOrValidatedElements(r,this.$formWrapperError);h.length>0&&(c=h,u=u.filter(function(t){return"button.form-next-step"!==t&&"button.form-return-button"!==t}));var d=this.getErrorOrValidatedElements(r,this.$formWrapperValidated);d.length>0&&(c=d,u=u.filter(function(t){return"button.form-next-step"!==t&&"button.form-return-button"!==t})),u.forEach(function(t){var e=a()(r).find(t)[0];e&&c.push(e)});var f=a()(r).find("button.bpce-accordion-title-button");if(f.length>0&&"true"===f.attr("aria-expanded")){var p=Array.from(a()(r).find(".bpce-accordion-content a"));if(p.length>0){var v,m=c.indexOf(f[0]);-1!==m&&(v=c).splice.apply(v,[m+1,0].concat(function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(n=p)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()))}}else Array.from(a()(r).find(".bpce-accordion-content a")).forEach(function(t){var e=c.indexOf(t);-1!==e&&c.splice(e,1)});var g=c.length,b=g-1,y=0;if("Tab"===e.key)if(e.shiftKey){if(-1!==(y=c.indexOf(document.activeElement))){e.preventDefault(),e.stopPropagation();do{--y<0&&(y=b)}while(a()(c[y]).prop("disabled")||a()(c[y]).hasClass("is-hidden"));c[y].focus()}}else if(-1!==(y=c.indexOf(document.activeElement))){e.preventDefault(),e.stopPropagation();do{++y>=g&&(y=0)}while(a()(c[y]).prop("disabled")||a()(c[y]).hasClass("is-hidden"));c[y].focus()}}}}])&&bt(e.prototype,n),i&&bt(e,i),t}();a.a.fn.BlockFormGroupeAssurances=function(t){var e=a.a.extend({},a.a.fn.BlockFormGroupeAssurances.defaults,t);return this.each(function(){new yt(a()(this),e)})},a.a.fn.BlockFormGroupeAssurances.defaults={},n(59),n(188),n(61),n(190),n(191),n(192),n(193);var wt=function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,n){function i(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var a=n(4),r=/\s+/;Object,t.exports=function(t){return new i(t)},i.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~a(e,t)||e.push(t),this.el.className=e.join(" "),this},i.prototype.remove=function(t){if(this.list)return this.list.remove(t),this;var e=this.array(),n=a(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},i.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},i.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(r);return""===t[0]&&t.shift(),t},i.prototype.has=i.prototype.contains=function(t){return this.list?this.list.contains(t):!!~a(this.array(),t)}},function(t,e,n){var i=window.addEventListener?"addEventListener":"attachEvent",a=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!==i?"on":"",s=n(5);e.bind=function(t,e,n,a){t=s(t);for(var o=0;o<t.length;o++)t[o][i](r+e,n,a||!1)},e.unbind=function(t,e,n,i){t=s(t);for(var o=0;o<t.length;o++)t[o][a](r+e,n,i||!1)}},function(t,e){t.exports=function(t){return function(e,n,i){var a=this;this._values={},this.found=!1,this.filtered=!1,this.values=function(e,n){if(void 0===e)return a._values;for(var i in e)a._values[i]=e[i];!0!==n&&t.templater.set(a,a.values())},this.show=function(){t.templater.show(a)},this.hide=function(){t.templater.hide(a)},this.matching=function(){return t.filtered&&t.searched&&a.found&&a.filtered||t.filtered&&!t.searched&&a.filtered||!t.filtered&&t.searched&&a.found||!t.filtered&&!t.searched},this.visible=function(){return!(!a.elm||a.elm.parentNode!=t.list)},function(e,n,i){if(void 0===n)i?a.values(e,i):a.values(e);else{a.elm=n;var r=t.templater.get(a,e);a.values(r)}}(e,n,i)}}},function(t,e){t.exports=function(t,e,n,i){return(i=i||{}).test&&i.getElementsByClassName||!i.test&&document.getElementsByClassName?function(t,e,i){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}(t,e):i.test&&i.querySelector||!i.test&&document.querySelector?function(t,e,i){return e="."+e,n?t.querySelector(e):t.querySelectorAll(e)}(t,e):function(t,e,n){for(var i=[],a=t.getElementsByTagName("*"),r=a.length,s=new RegExp("(^|\\s)"+e+"(\\s|$)"),o=0,l=0;o<r;o++)if(s.test(a[o].className)){if(n)return a[o];i[l]=a[o],l++}return i}(t,e,n)}},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e){t.exports=function(t){if(void 0===t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t))return t;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var e=[],n=0;n<t.length;n++)(Object.prototype.hasOwnProperty.call(t,n)||n in t)&&e.push(t[n]);return e.length?e:[]}},function(t,e){t.exports=function(t){return(t=null===(t=void 0===t?"":t)?"":t).toString()}},function(t,e){t.exports=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=0;e=n[i];i++)if(e)for(var a in e)t[a]=e[a];return t}},function(t,e){t.exports=function(t){return function e(n,i,a){var r=n.splice(0,50);a=(a=a||[]).concat(t.add(r)),n.length>0?setTimeout(function(){e(n,i,a)},1):(t.update(),i(a))}}},function(t,e){t.exports=function(t){return t.handlers.filterStart=t.handlers.filterStart||[],t.handlers.filterComplete=t.handlers.filterComplete||[],function(e){if(t.trigger("filterStart"),t.i=1,t.reset.filter(),void 0===e)t.filtered=!1;else{t.filtered=!0;for(var n=t.items,i=0,a=n.length;i<a;i++){var r=n[i];r.filtered=!!e(r)}}return t.update(),t.trigger("filterComplete"),t.visibleItems}}},function(t,e,n){var i=(n(0),n(1)),a=n(7),r=n(6),s=n(3),o=n(19);t.exports=function(t,e){e=a({location:0,distance:100,threshold:.4,multiSearch:!0,searchClass:"fuzzy-search"},e=e||{});var n={search:function(i,a){for(var r=e.multiSearch?i.replace(/ +$/,"").split(/ +/):[i],s=0,o=t.items.length;s<o;s++)n.item(t.items[s],a,r)},item:function(t,e,i){for(var a=!0,r=0;r<i.length;r++){for(var s=!1,o=0,l=e.length;o<l;o++)n.values(t.values(),e[o],i[r])&&(s=!0);s||(a=!1)}t.found=a},values:function(t,n,i){if(t.hasOwnProperty(n)){var a=r(t[n]).toLowerCase();if(o(a,i,e))return!0}return!1}};return i.bind(s(t.listContainer,e.searchClass),"keyup",function(e){t.search((e.target||e.srcElement).value,n.search)}),function(e,i){t.search(e,i,n.search)}}},function(t,e,n){var i=n(18),a=n(3),r=n(7),s=n(4),o=n(1),l=n(6),c=n(0),u=n(17),h=n(5);t.exports=function(t,e,d){var f,p=this,v=n(2)(p),m=n(8)(p),g=n(12)(p);f={start:function(){p.listClass="list",p.searchClass="search",p.sortClass="sort",p.page=1e4,p.i=1,p.items=[],p.visibleItems=[],p.matchingItems=[],p.searched=!1,p.filtered=!1,p.searchColumns=void 0,p.handlers={updated:[]},p.valueNames=[],p.utils={getByClass:a,extend:r,indexOf:s,events:o,toString:l,naturalSort:i,classes:c,getAttribute:u,toArray:h},p.utils.extend(p,e),p.listContainer="string"==typeof t?document.getElementById(t):t,p.listContainer&&(p.list=a(p.listContainer,p.listClass,!0),p.parse=n(13)(p),p.templater=n(16)(p),p.search=n(14)(p),p.filter=n(9)(p),p.sort=n(15)(p),p.fuzzySearch=n(10)(p,e.fuzzySearch),this.handlers(),this.items(),this.pagination(),p.update())},handlers:function(){for(var t in p.handlers)p[t]&&p.on(t,p[t])},items:function(){p.parse(p.list),void 0!==d&&p.add(d)},pagination:function(){if(void 0!==e.pagination){!0===e.pagination&&(e.pagination=[{}]),void 0===e.pagination[0]&&(e.pagination=[e.pagination]);for(var t=0,n=e.pagination.length;t<n;t++)g(e.pagination[t])}}},this.reIndex=function(){p.items=[],p.visibleItems=[],p.matchingItems=[],p.searched=!1,p.filtered=!1,p.parse(p.list)},this.toJSON=function(){for(var t=[],e=0,n=p.items.length;e<n;e++)t.push(p.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(e)return void m(t,e);var n=[];void 0===t[0]&&(t=[t]);for(var i=0,a=t.length;i<a;i++){var r;r=new v(t[i],void 0,p.items.length>p.page),p.items.push(r),n.push(r)}return p.update(),n}},this.show=function(t,e){return this.i=t,this.page=e,p.update(),p},this.remove=function(t,e,n){for(var i=0,a=0,r=p.items.length;a<r;a++)p.items[a].values()[t]==e&&(p.templater.remove(p.items[a],n),p.items.splice(a,1),r--,a--,i++);return p.update(),i},this.get=function(t,e){for(var n=[],i=0,a=p.items.length;i<a;i++){var r=p.items[i];r.values()[t]==e&&n.push(r)}return n},this.size=function(){return p.items.length},this.clear=function(){return p.templater.clear(),p.items=[],p},this.on=function(t,e){return p.handlers[t].push(e),p},this.off=function(t,e){var n=p.handlers[t],i=s(n,e);return i>-1&&n.splice(i,1),p},this.trigger=function(t){for(var e=p.handlers[t].length;e--;)p.handlers[t][e](p);return p},this.reset={filter:function(){for(var t=p.items,e=t.length;e--;)t[e].filtered=!1;return p},search:function(){for(var t=p.items,e=t.length;e--;)t[e].found=!1;return p}},this.update=function(){var t=p.items,e=t.length;p.visibleItems=[],p.matchingItems=[],p.templater.clear();for(var n=0;n<e;n++)t[n].matching()&&p.matchingItems.length+1>=p.i&&p.visibleItems.length<p.page?(t[n].show(),p.visibleItems.push(t[n]),p.matchingItems.push(t[n])):t[n].matching()?(p.matchingItems.push(t[n]),t[n].hide()):t[n].hide();return p.trigger("updated"),p},f.start()}},function(t,e,n){var i=n(0),a=n(1),r=n(11);t.exports=function(t){var e=function(e,a){var r,o=t.i,l=t.page,c=Math.ceil(t.matchingItems.length/l),u=Math.ceil(o/l),h=a.innerWindow||2,d=a.left||a.outerWindow||0,f=a.right||a.outerWindow||0;f=c-f,e.clear();for(var p=1;p<=c;p++){var v=u===p?"active":"";n.number(p,d,f,u,h)?(r=e.add({page:p,dotted:!1})[0],v&&i(r.elm).add(v),s(r.elm,p,l)):n.dotted(e,p,d,f,u,h,e.size())&&(r=e.add({page:"...",dotted:!0})[0],i(r.elm).add("disabled"))}},n={number:function(t,e,n,i,a){return this.left(t,e)||this.right(t,n)||this.innerWindow(t,i,a)},left:function(t,e){return t<=e},right:function(t,e){return t>e},innerWindow:function(t,e,n){return t>=e-n&&t<=e+n},dotted:function(t,e,n,i,a,r,s){return this.dottedLeft(t,e,n,i,a,r)||this.dottedRight(t,e,n,i,a,r,s)},dottedLeft:function(t,e,n,i,a,r){return e==n+1&&!this.innerWindow(e,a,r)&&!this.right(e,i)},dottedRight:function(t,e,n,i,a,r,s){return!t.items[s-1].values().dotted&&e==i&&!this.innerWindow(e,a,r)&&!this.right(e,i)}},s=function(e,n,i){a.bind(e,"click",function(){t.show((n-1)*i+1,i)})};return function(n){var i=new r(t.listContainer.id,{listClass:n.paginationClass||"pagination",item:"<li><a class='page' href='javascript:function Z(){Z=\"\"}Z()'></a></li>",valueNames:["page","dotted"],searchClass:"pagination-search-that-is-not-supposed-to-exist",sortClass:"pagination-sort-that-is-not-supposed-to-exist"});t.on("updated",function(){e(i,n)}),e(i,n)}}},function(t,e,n){t.exports=function(t){var e=n(2)(t),i=function(n,i){for(var a=0,r=n.length;a<r;a++)t.items.push(new e(i,n[a]))};return t.handlers.parseComplete=t.handlers.parseComplete||[],function(){var e=function(t){for(var e=t.childNodes,n=[],i=0,a=e.length;i<a;i++)void 0===e[i].data&&n.push(e[i]);return n}(t.list),n=t.valueNames;t.indexAsync?function e(n,a){var r=n.splice(0,50);i(r,a),n.length>0?setTimeout(function(){e(n,a)},1):(t.update(),t.trigger("parseComplete"))}(e,n):i(e,n)}}},function(t,e){t.exports=function(t){var e,n,i,a,r={resetList:function(){t.i=1,t.templater.clear(),a=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?n=t[1]:2==t.length&&"function"==typeof t[1]?(n=void 0,a=t[1]):3==t.length?(n=t[1],a=t[2]):n=void 0},setColumns:function(){0!==t.items.length&&void 0===n&&(n=void 0===t.searchColumns?r.toArray(t.items[0].values()):t.searchColumns)},setSearchString:function(e){e=(e=t.utils.toString(e).toLowerCase()).replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),i=e},toArray:function(t){var e=[];for(var n in t)e.push(n);return e}},s={list:function(){for(var e=0,n=t.items.length;e<n;e++)s.item(t.items[e])},item:function(t){t.found=!1;for(var e=0,i=n.length;e<i;e++)if(s.values(t.values(),n[e]))return void(t.found=!0)},values:function(n,a){return!!(n.hasOwnProperty(a)&&(e=t.utils.toString(n[a]).toLowerCase(),""!==i&&e.search(i)>-1))},reset:function(){t.reset.search(),t.searched=!1}},o=function(e){return t.trigger("searchStart"),r.resetList(),r.setSearchString(e),r.setOptions(arguments),r.setColumns(),""===i?s.reset():(t.searched=!0,a?a(i,n):s.list()),t.update(),t.trigger("searchComplete"),t.visibleItems};return t.handlers.searchStart=t.handlers.searchStart||[],t.handlers.searchComplete=t.handlers.searchComplete||[],t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"keyup",function(e){var n=e.target||e.srcElement;""===n.value&&!t.searched||o(n.value)}),t.utils.events.bind(t.utils.getByClass(t.listContainer,t.searchClass),"input",function(t){""===(t.target||t.srcElement).value&&o("")}),o}},function(t,e){t.exports=function(t){var e={els:void 0,clear:function(){for(var n=0,i=e.els.length;n<i;n++)t.utils.classes(e.els[n]).remove("asc"),t.utils.classes(e.els[n]).remove("desc")},getOrder:function(e){var n=t.utils.getAttribute(e,"data-order");return"asc"==n||"desc"==n?n:t.utils.classes(e).has("desc")?"asc":t.utils.classes(e).has("asc")?"desc":"asc"},getInSensitive:function(e,n){var i=t.utils.getAttribute(e,"data-insensitive");n.insensitive="false"!==i},setOrder:function(n){for(var i=0,a=e.els.length;i<a;i++){var r=e.els[i];if(t.utils.getAttribute(r,"data-sort")===n.valueName){var s=t.utils.getAttribute(r,"data-order");"asc"==s||"desc"==s?s==n.order&&t.utils.classes(r).add(n.order):t.utils.classes(r).add(n.order)}}}},n=function(){t.trigger("sortStart");var n={},i=arguments[0].currentTarget||arguments[0].srcElement||void 0;i?(n.valueName=t.utils.getAttribute(i,"data-sort"),e.getInSensitive(i,n),n.order=e.getOrder(i)):((n=arguments[1]||n).valueName=arguments[0],n.order=n.order||"asc",n.insensitive=void 0===n.insensitive||n.insensitive),e.clear(),e.setOrder(n);var a=n.sortFunction||t.sortFunction||null,r="desc"===n.order?-1:1;t.items.sort(a?function(t,e){return a(t,e,n)*r}:function(e,i){var a=t.utils.naturalSort;return a.alphabet=t.alphabet||n.alphabet||void 0,!a.alphabet&&n.insensitive&&(a=t.utils.naturalSort.caseInsensitive),a(e.values()[n.valueName],i.values()[n.valueName])*r}),t.update(),t.trigger("sortComplete")};return t.handlers.sortStart=t.handlers.sortStart||[],t.handlers.sortComplete=t.handlers.sortComplete||[],e.els=t.utils.getByClass(t.listContainer,t.sortClass),t.utils.events.bind(e.els,"click",n),t.on("searchStart",e.clear),t.on("filterStart",e.clear),n}},function(t,e){var n=function(t){var e,n=this;this.clearSourceItem=function(e,n){for(var i=0,a=n.length;i<a;i++){var r;if(n[i].data)for(var s=0,o=n[i].data.length;s<o;s++)e.setAttribute("data-"+n[i].data[s],"");else n[i].attr&&n[i].name?(r=t.utils.getByClass(e,n[i].name,!0))&&r.setAttribute(n[i].attr,""):(r=t.utils.getByClass(e,n[i],!0))&&(r.innerHTML="");r=void 0}return e},this.getItemSource=function(e){if(void 0===e){for(var n=t.list.childNodes,i=0,a=n.length;i<a;i++)if(void 0===n[i].data)return n[i].cloneNode(!0)}else{if(/<tr[\s>]/g.exec(e)){var r=document.createElement("tbody");return r.innerHTML=e,r.firstChild}if(-1!==e.indexOf("<")){var s=document.createElement("div");return s.innerHTML=e,s.firstChild}var o=document.getElementById(t.item);if(o)return o}},this.get=function(e,i){n.create(e);for(var a={},r=0,s=i.length;r<s;r++){var o;if(i[r].data)for(var l=0,c=i[r].data.length;l<c;l++)a[i[r].data[l]]=t.utils.getAttribute(e.elm,"data-"+i[r].data[l]);else i[r].attr&&i[r].name?(o=t.utils.getByClass(e.elm,i[r].name,!0),a[i[r].name]=o?t.utils.getAttribute(o,i[r].attr):""):(o=t.utils.getByClass(e.elm,i[r],!0),a[i[r]]=o?o.innerHTML:"");o=void 0}return a},this.set=function(e,i){var a=function(n,i){var a,r=function(e){for(var n=0,i=t.valueNames.length;n<i;n++)if(t.valueNames[n].data){for(var a=t.valueNames[n].data,r=0,s=a.length;r<s;r++)if(a[r]===e)return{data:e}}else{if(t.valueNames[n].attr&&t.valueNames[n].name&&t.valueNames[n].name==e)return t.valueNames[n];if(t.valueNames[n]===e)return e}}(n);r&&(r.data?e.elm.setAttribute("data-"+r.data,i):r.attr&&r.name?(a=t.utils.getByClass(e.elm,r.name,!0))&&a.setAttribute(r.attr,i):(a=t.utils.getByClass(e.elm,r,!0))&&(a.innerHTML=i),a=void 0)};if(!n.create(e))for(var r in i)i.hasOwnProperty(r)&&a(r,i[r])},this.create=function(t){if(void 0!==t.elm)return!1;if(void 0===e)throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.");var i=e.cloneNode(!0);return i.removeAttribute("id"),t.elm=i,n.set(t,t.values()),!0},this.remove=function(e){e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.show=function(e){n.create(e),t.list.appendChild(e.elm)},this.hide=function(e){void 0!==e.elm&&e.elm.parentNode===t.list&&t.list.removeChild(e.elm)},this.clear=function(){if(t.list.hasChildNodes())for(;t.list.childNodes.length>=1;)t.list.removeChild(t.list.firstChild)},(e=n.getItemSource(t.item))&&(e=n.clearSourceItem(e,t.valueNames))};t.exports=function(t){return new n(t)}},function(t,e){t.exports=function(t,e){var n=t.getAttribute&&t.getAttribute(e)||null;if(!n)for(var i=t.attributes.length,a=0;a<i;a++)void 0!==e[a]&&e[a].nodeName===e&&(n=e[a].nodeValue);return n}},function(t,e,n){function i(t){return t>=48&&t<=57}function a(t,e){for(var n=(t+="").length,a=(e+="").length,r=0,l=0;r<n&&l<a;){var c=t.charCodeAt(r),u=e.charCodeAt(l);if(i(c)){if(!i(u))return c-u;for(var h=r,d=l;48===c&&++h<n;)c=t.charCodeAt(h);for(;48===u&&++d<a;)u=e.charCodeAt(d);for(var f=h,p=d;f<n&&i(t.charCodeAt(f));)++f;for(;p<a&&i(e.charCodeAt(p));)++p;var v=f-h-p+d;if(v)return v;for(;h<f;)if(v=t.charCodeAt(h++)-e.charCodeAt(d++))return v;r=f,l=p}else{if(c!==u)return c<o&&u<o&&-1!==s[c]&&-1!==s[u]?s[c]-s[u]:c-u;++r,++l}}return n-a}var r,s,o=0;a.caseInsensitive=a.i=function(t,e){return a((""+t).toLowerCase(),(""+e).toLowerCase())},Object.defineProperties(a,{alphabet:{get:function(){return r},set:function(t){s=[];var e=0;if(r=t)for(;e<r.length;e++)s[r.charCodeAt(e)]=e;for(o=s.length,e=0;e<o;e++)void 0===s[e]&&(s[e]=-1)}}}),t.exports=a},function(t,e){t.exports=function(t,e,n){function i(t,n){var i=t/e.length,r=Math.abs(s-n);return a?i+r/a:r?1:i}var a=n.distance||100,r=n.threshold||.4;if(e===t)return!0;if(e.length>32)return!1;var s=n.location||0,o=function(){var t,n={};for(t=0;t<e.length;t++)n[e.charAt(t)]=0;for(t=0;t<e.length;t++)n[e.charAt(t)]|=1<<e.length-t-1;return n}(),l=r,c=t.indexOf(e,s);-1!=c&&(l=Math.min(i(0,c),l),-1!=(c=t.lastIndexOf(e,s+e.length))&&(l=Math.min(i(0,c),l)));var u=1<<e.length-1;c=-1;for(var h,d,f,p=e.length+t.length,v=0;v<e.length;v++){for(h=0,d=p;h<d;)i(v,s+d)<=l?h=d:p=d,d=Math.floor((p-h)/2+h);p=d;var m=Math.max(1,s-d+1),g=Math.min(s+d,t.length)+e.length,b=Array(g+2);b[g+1]=(1<<v)-1;for(var y=g;y>=m;y--){var w=o[t.charAt(y-1)];if(b[y]=0===v?(b[y+1]<<1|1)&w:(b[y+1]<<1|1)&w|(f[y+1]|f[y])<<1|1|f[y+1],b[y]&u){var k=i(v,y-1);if(k<=l){if(l=k,!((c=y-1)>s))break;m=Math.max(1,2*s-c)}}}if(i(v+1,s)>l)break;f=b}return!(c<0)}}]);var kt=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.IDsOfLists=["insurance-products-commercials","insurance-products-noncommercials"],this.ProductListClass="block-insurance-products-list-list",this.$ProductLists=this.$container.find("."+this.ProductListClass),this.listItemsClass="insurance-products-names",this.$listItemProductButtons=this.$container.find("."+this.listItemsClass),this.productsDetailsClass="insurance-products-products-data-product",this.specificDataClass="insurance-products-products-data-specific",this.specificInfoClass="insurance-products-information-text-specific",this.$noFoundMessageDiv=this.$container.find(".insurance-products-search-no-found-message"),this.noFoundMessageClass=".no-found-message",this.$noFoundMessages=[],this.$noFoundMessages[1]=this.$container.find(".no-found-message-c"),this.$noFoundMessages[2]=this.$container.find(".no-found-message-n"),this.$noFoundMessages[3]=this.$container.find(".no-found-message-nc"),this.listObjectOptions={valueNames:[this.listItemsClass]},this.$searchInput=this.$container.find("#insurance-products-search-input"),this.$informationBlock=this.$container.find(".insurance-products-information"),this.$listItems=this.$container.find("li"),this.lists=[],this.init()}var e;return(e=[{key:"init",value:function(){var t=this;this.bindSearchEvent(),this.bindItemClickEvent(),this.focusControlOnLists(),this.IDsOfLists.forEach(function(e){t.lists.push(new wt(e,t.listObjectOptions))})}},{key:"bindSearchEvent",value:function(){var t=this;a()(this.$searchInput).on("keyup",function(e){var n=0;a()(t.noFoundMessageClass).addClass("is-hidden"),t.$noFoundMessageDiv.addClass("is-hidden"),t.lists.forEach(function(t,i){a()(t.list).removeClass("is-hidden"),0===t.search(a()(e.currentTarget).val()).length&&(a()(t.list).addClass("is-hidden"),n|=i+1)}),0!==n&&(t.$noFoundMessageDiv.removeClass("is-hidden"),t.$noFoundMessages[n].removeClass("is-hidden"))})}},{key:"toggleProduct",value:function(t){var e=a()("."+this.productsDetailsClass),n=a()("."+this.specificInfoClass),i=e.filter(function(e,n){return a()(n).data("product")===t});e.filter(".is-visible").toggleClass("is-hidden is-visible"),i.toggleClass("is-hidden is-visible"),n.addClass("is-hidden"),i.length&&0<a()(i[0]).find("."+this.specificDataClass).length&&n.removeClass("is-hidden"),this.$informationBlock.attr("aria-labelledby","product-"+t),this.$informationBlock.removeClass("is-hidden")}},{key:"bindItemClickEvent",value:function(){var t=this;a()(this.$listItems).each(function(e,n){a()(n).on("click",function(e){var n=t.$listItems.filter(".active"),i=a()(e.currentTarget);n.removeClass("active").children("."+t.listItemsClass).attr("aria-selected",!1).attr("tabindex","-1"),i.addClass("active").children("."+t.listItemsClass).attr("aria-selected",!0).attr("tabindex","0"),n.parents("."+t.ProductListClass).attr("tabindex","0"),i.parents("."+t.ProductListClass).attr("tabindex","-1"),t.toggleProduct(i.data("product"))}).on("keyup",function(t){if("ArrowDown"===t.key||"ArrowUp"===t.key){t.preventDefault();for(var e=Array.from(document.activeElement.parentNode.parentNode.children),n=document.activeElement.parentNode.getAttribute("data-product"),i=e.length,a=0,r=0;r<i;r++)e[r].getAttribute("data-product")===n&&(a=r,r=i);"ArrowDown"===t.key&&(a=(a+1)%i),"ArrowUp"===t.key&&(a=(a-1+i)%i),e[a].children[0].focus()}})})}},{key:"focusControlOnLists",value:function(){Array.from(this.$ProductLists).forEach(function(t){a()(t).on("focus",function(){a()(t).find("ul > li:first-child > button").focus()})})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.BlockInsuranceProducts=function(t){var e=this,n=a.a.extend({},a.a.fn.BlockInsuranceProducts.defaults,t);return this.each(function(){new kt(a()(e),n)})},a.a.fn.BlockInsuranceProducts.defaults={};var $t=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.$video=this.$container.find("video"),this.containerRatio=1,this.videoRatio=1,a()(window).on("resize",function(){i.adjustVideo()}),this.init()}var e;return(e=[{key:"init",value:function(){this.adjustVideo()}},{key:"adjustVideo",value:function(){this.calculateRatios(),this.containerRatio>=this.videoRatio?this.makeLandscape():this.makePortrait()}},{key:"calculateRatios",value:function(){this.containerRatio=this.$container.width()/this.$container.height(),this.videoRatio=this.$video.width()/this.$video.height()}},{key:"makeLandscape",value:function(){this.$video.css("width","100%"),this.$video.css("height","auto")}},{key:"makePortrait",value:function(){this.$video.css("width","auto"),this.$video.css("height","100%")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a.a.fn.VideoWithLinks=function(t){var e=a.a.extend({},a.a.fn.timeLine.defaults,t);return this.each(function(){new $t(a()(this),e)})},a.a.fn.VideoWithLinks.defaults={};var Tt=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),xt(this,"showHideClearIcon",function(t){""===a()(t).val().trim()?a()(t).siblings(".button-clear").hide():a()(t).siblings(".button-clear").show()}),xt(this,"sanitizeInput",function(t){return t.replace(/[<>"=\/]/gi,"")}),this.$container=e,this.options=n,this.moreFiltersButton=a()("#job-offers-show-more-filters-button"),this.searchForm=e.find("form"),this.$searchFormInput=e.find("input"),this.$filtersItems=e.find(".facetwp-facet div"),this.pageLoadedFirstTime=!0,this.moreFiltersButton.on("click",function(){a()(".more-filters-button").toggleClass("is-hidden"),a()(".more-filters-list").toggleClass("is-hidden")}),this.$searchFormInput.on("change",function(){i.showHideClearIcon(i.$searchFormInput)}),a()(".button-clear").on("click",function(t){t.preventDefault(),i.changeSearchQuery("")}),this.$filtersItems.on("click",function(t){"object"!==("undefined"==typeof FWP?"undefined":Ct(FWP))&&document.dispatchEvent(new Event("facetwp-refresh"))}),document.addEventListener("facetwp-refresh",function(){i.updateCheckedFiltersCounters()}),document.addEventListener("facetwp-loaded",function(){i.pageLoadedFirstTime&&(i.updateCheckedFiltersCounters(),i.pageLoadedFirstTime=!1)}),a()(document).ready(function(){i.showHideClearIcon(i.$searchFormInput),i.updateCheckedFiltersCounters()}),this.$searchFormInput.on("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),i.changeSearchQuery(i.$searchFormInput.val()),t.stopPropagation())}),this.searchForm.on("submit",function(t){t.preventDefault(),i.changeSearchQuery(a()(t.target).find("input").val()),t.stopPropagation()})}var e;return(e=[{key:"updateCheckedFiltersCounters",value:function(){this.$container.find(".filter-panel").each(function(t,e){var n=a()(e).attr("aria-labelledby"),i=a()(e).find(".checked").length,r="";i&&(r=" ("+i+")"),a()("#"+n+" .items-checked").html(r)})}},{key:"changeSearchQuery",value:function(t){var e=new URL(window.location.href);e.hostname=encodeURI(e.hostname),e.pathname=encodeURI(e.pathname);var n=new URLSearchParams(e.search);n.set("search",this.sanitizeInput(t)),""===t&&n.delete("search"),n.delete("_paged"),e.search=n.toString(),window.location.href=e.toString()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.JobOffers=function(t){var e=a.a.extend({},a.a.fn.JobOffers.defaults,t);return this.each(function(){new Tt(a()(this),e)})},a.a.fn.JobOffers.defaults={};var Pt=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.isFaqTemplate=this.$container.hasClass("is-faq"),this.heroBanner=a()(".hero-banner"),this.init()}var e;return(e=[{key:"init",value:function(){this.isFaqTemplate&&(this.$container.insertAfter(this.heroBanner),this.heroBanner.find(".title").css("margin-top","unset"))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.breadcrumb=function(t){var e=a.a.extend({},a.a.fn.breadcrumb.defaults,t);return this.each(function(){new Pt(a()(this),e)})},a.a.fn.breadcrumb.defaults={};var Mt=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.isFaqTemplate=this.$container.hasClass("is-faq"),this.heroBanner=a()(".hero-banner"),this.init()}var e;return(e=[{key:"init",value:function(){this.isFaqTemplate?a()(".hero-banner").after(this.$container):a()(".hero-banner-content .title").before(this.$container),this.heroBanner.find(".title").css("margin-top","unset")}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.breadcrumb2=function(t){var e=a.a.extend({},a.a.fn.breadcrumb2.defaults,t);return this.each(function(){new Mt(a()(this),e)})},a.a.fn.breadcrumb2.defaults={};var St=function(){function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$button=this.$container.find(".summary-button"),this.$content=this.$container.find(".summary-content"),this.$items=this.$container.find(".summary-item a"),this.$block_summary=this.$container.find(".block-summary"),this.$topMenu=a()(".menu-top"),this.headerHeight=this.$topMenu.length?this.$topMenu.outerHeight():0,this.init(),this.handleSummaryFocusOnScroll()}var e;return(e=[{key:"init",value:function(){var t=this,e=this;a()(this.$button).on("click",function(){a()(this).hasClass("active")?(a()(this).removeClass("active"),a()(e.$content).removeClass("active")):(a()(this).addClass("active"),a()(e.$content).addClass("active"))}),a()(this.$items).on("click",function(n){n.preventDefault(),e.$items.removeClass("active"),a()(t).addClass("active"),t.scrollToTarget(a()(n.currentTarget))}),a()(window).on("scroll",function(){document.body.clientWidth>=p.b.desktop.min&&(e.handleStickyOnScroll(),e.handleSummaryFocusOnScroll())})}},{key:"handleStickyOnScroll",value:function(){var t=a()(window).scrollTop(),e=a()(".article2").position().top+a()(".article2").innerHeight();t>=e-a()(this.$block_summary).outerHeight()-120?this.$block_summary.css({position:"relative",top:e-a()(this.$block_summary).outerHeight()-120}):a()(this.$block_summary).css({position:"fixed",top:"unset"})}},{key:"handleSummaryFocusOnScroll",value:function(){var t=this,e=a()(window).scrollTop();a()(t.$items).each(function(n,i){var r=a()(i).attr("href");if(r.length>1){var s=r.slice(1);s.length&&e>=a()("#".concat(s)).position().top-200&&e<a()("#".concat(s)).position().top+200&&(t.$items.removeClass("active"),a()(i).addClass("active"))}})}},{key:"scrollToTarget",value:function(t){var e=t.attr("href").split("#"),n=a()('a[id="'.concat(e[1],'"]')).offset().top-this.headerHeight;a()("html, body").animate({scrollTop:n},500)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.summary=function(t){var e=a.a.extend({},a.a.fn.summary.defaults,t);return this.each(function(){new St(a()(this),e)})},a.a.fn.summary.defaults={},n(194);var Bt=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n,this.$buttons=this.$container.find(".accordion-button"),this.autoNavigateInterval=null,this.startAllFlipbooks(),a()(".flipbook-control-button").on("click",function(t){return i.handleFlipBookControls(t)}),a()(".image-container").on("click",function(t){return i.handleGalleryImage(t)}),a()(".image-container").on("keydown",function(t){"Enter"===t.key&&i.handleGalleryImage(t)}),a()(window).on("resize",function(){var t=a()(".block-flipbook").width(),e=.5625*t;a()(".flipbook").turn("size",t,e)})}var e;return(e=[{key:"handleGalleryImage",value:function(t){var e=a()(t.currentTarget),n=e.data("id"),i=a()("#"+n);this.handleGalleryControl(t),this.navigateToPage(i,parseInt(e.data("page"),10))}},{key:"handleGalleryControl",value:function(t){var e=a()(t.currentTarget),n=e.data("id"),i=a()('.flipbook-gallery[data-id="'+n+'"]'),r=a()('.flipbook-controls[data-id="'+n+'"]'),s=a()("#"+n),o=r.find(".icon-gallery"),l=r.find(".icon-flipbook"),c=r.find(".flipbook-control-button");i.is(":visible")?(i.hide(),s.show(),o.removeClass("is-hidden"),l.addClass("is-hidden"),c.not(e).removeClass("is-hidden")):(i.show(),s.hide(),o.addClass("is-hidden"),l.removeClass("is-hidden"),c.not(e).addClass("is-hidden"))}},{key:"handleDownloadFile",value:function(){}},{key:"handleFlipBookControls",value:function(t){var e=a()(t.currentTarget),n=e.data("id");if(!(!n.length>0)){var i=a()("#"+n),r=e.data("control");if("gallery"===r&&this.handleGalleryControl(t),"pagination"===r){var s=e.data("page");s.length>0&&this.navigatePage(i,s)}"donwload"===r&&this.handleDownloadFile()}}},{key:"navigatePage",value:function(t,e){t.turn(e)}},{key:"navigateToPage",value:function(t,e){t.turn("page",e)}},{key:"startAllFlipbooks",value:function(){var t=this;a()(".flipbook").each(function(e,n){a()(n).turn({height:810,duration:1e3,acceleration:!t.isChrome(),gradients:!0,autoCenter:!0,elevation:50})})}},{key:"isChrome",value:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.flipbook=function(t){var e=a.a.extend({},a.a.fn.flipbook.defaults,t);return this.each(function(){new Bt(a()(this),e)})},a.a.fn.flipbook.defaults={};var At=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.step=1,this.agencies=[],this.$container=e,this.$triggererSelectors=[".change-region"],this.$triggerButon=null,this.$zipcodeResetButton=this.$container.find(".zipcode-reset"),this.$zipcodeInput=this.$container.find("#zipcode"),this.$formSubmitButton=this.$container.find("#form-next-step"),this.$closeModalButton=this.$container.find(".bpce-header-close"),this.$previousButton=this.$container.find("#form-return-button"),this.homeUrl=window.home_url.url,this.$sourceId="",this.$wording="",this.$from="",this.regionModal=document.getElementById("block-modal-region"),this.init(),this.handleTriggerers()}var e;return(e=[{key:"init",value:function(){var t=this,e=this;a()(this.$zipcodeResetButton).on("click",function(t){t.preventDefault(),t.stopPropagation(),a()(e.$zipcodeInput).val("").focus().trigger("keyup"),e.trapFocus()}),a()(this.$zipcodeInput).on("keyup blur",function(t){e.isValidZipcode(t.target.value)?a()(t.target).closest(".bpce-input").removeClass("input-error"):a()(t.target).closest(".bpce-input").addClass("input-error"),e.validateActiveStep(),e.handleZipcodeResetButton(t.target.value)}),a()(this.$closeModalButton).on("click",function(){e.closeModal()}),a()(this.$previousButton).on("click",function(){e.goToStep(e.step-1)}),a()(this.$formSubmitButton).on("click",function(t){t.preventDefault(),t.stopPropagation(),e.isValidZipcode(e.$zipcodeInput.val())?(e.$formSubmitButton.trigger("modal-region-submited"),window.location=e.getRedirectUrl()):e.validateActiveStep()}),this.regionModal.addEventListener("keydown",function(t){"Escape"===(t.key||t.isComposing)&&(t.preventDefault(),t.stopPropagation(),this.closeModal())}.bind(this)),this.regionModal.addEventListener("click",function(e){e.target.closest(".block-modal-wrapper")||t.closeModal()}),this.handleAgencyRadios()}},{key:"handleAgencyRadios",value:function(){a()('input[name="agency"]').unbind("change"),a()('input[name="agency"]').on("change",function(t){a()(".bpce-radio-label").removeClass("active"),a()(t.target).is(":checked")&&a()(t.target).closest(".bpce-radio-label").addClass("active")})}},{key:"handleTriggerers",value:function(){var t=this;a.a.each(this.$triggererSelectors,function(e,n){a()(n).on("click",function(e){e.preventDefault(),t.openModal(e.target)})})}},{key:"openModal",value:function(t){var e=t;a()(t).hasClass("change-region")||(e=a()(t).closest(".change-region")),this.$triggerButon=e,this.goToStep(1),this.$sourceId=a()(e).data("source_id")?"&source_id="+a()(e).data("source_id"):"",this.$wording=a()(e).data("wording")?"&wording="+a()(e).data("wording"):"",this.$from=a()(e).data("from")?"&from="+a()(e).data("from"):"",this.regionModal.showModal(),a()(".block-modal-region").addClass("active"),a()(".block-modal-region").attr("aria-hidden",!1),this.$zipcodeInput.focus(),this.trapFocus(),this.$container.trigger("modal-region-opened")}},{key:"closeModal",value:function(){a()(".block-modal-region").removeClass("active"),a()(".block-modal-region").attr("aria-hidden",!0),this.regionModal.close()}},{key:"isValidZipcode",value:function(t){return new RegExp(/^(?:0[1-9]|[1-8]\d|9[0-8])\d{3}$/i).test(t)}},{key:"handleZipcodeResetButton",value:function(t){t.length?a()(this.$zipcodeResetButton).show():a()(this.$zipcodeResetButton).hide(),this.trapFocus()}},{key:"validateActiveStep",value:function(){var t=!1;a()(".formstep.active").find(".input-error").length||(t=!0),t?a()(this.$formSubmitButton).removeAttr("disabled").removeClass("bpce-button-disabled"):(a()(this.$formSubmitButton).attr("disabled","disabled"),a()(this.$formSubmitButton).hasClass("bpce-button-disabled")||a()(this.$formSubmitButton).addClass("bpce-button-disabled")),this.trapFocus()}},{key:"goToStep",value:function(t){a()(".formstep").removeClass("active"),a()(".formstep#step_"+t).addClass("active"),t>1?(a()(this.$previousButton).addClass("active"),a()(".modal-title").text("S\xe9lectionnez votre agence bancaire")):(a()(this.$previousButton).removeClass("active"),a()(".modal-title").text(" Choisissez votre r\xe9gion")),a()(".formstep#step_"+t).find("input").first().focus(),this.step=t,this.trapFocus()}},{key:"trapFocus",value:function(){var t=this,e=a()(this.$container).find("select, input, textarea, button, a").filter(":visible").not(":disabled");a()(e).unbind("keydown");var n=e.first(),i=e.last();i.on("keydown",function(t){9!==t.which||t.shiftKey||(t.preventDefault(),n.focus())}),n.on("keydown",function(t){9===t.which&&t.shiftKey&&(t.preventDefault(),i.focus())}),a()(this.$container).on("keydown",function(e){27===e.keyCode&&t.closeModal()})}},{key:"getRedirectUrl",value:function(){return"".concat(this.homeUrl,"/redirectregion/?zipcode=").concat(this.$zipcodeInput.val()).concat(this.$sourceId).concat(this.$wording).concat(this.$from)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.blockModalRegion=function(t){var e=a.a.extend({},a.a.fn.blockModalRegion.defaults,t);return this.each(function(){new At(a()(this),e)})},a.a.fn.blockModalRegion.defaults={};var Ft=function(){function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e.find(".block-container-v2").length&&(this.$container=e,this.$cardsWithDesc=e.find(".block-container-v2.has-description"),this.callHeightAligner(),window.addEventListener("resize",b()(function(){this.callHeightAligner()}.bind(this),100)))}var e;return(e=[{key:"callHeightAligner",value:function(){this.$container.heightAligner({excludeMobile:!1,items:[".block-container-v2 .title-block"]}),this.$cardsWithDesc.length&&document.body.clientWidth>=p.b.desktop.min?this.$cardsWithDesc.each(function(){var t=a()(this).find(".description").first().outerHeight();a()(this).css({translate:"0 "+t+"px"})}):this.$cardsWithDesc.length&&document.body.clientWidth<p.b.desktop.min&&this.$cardsWithDesc.each(function(){a()(this).removeAttr("style")})}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();a.a.fn.blockPushImagePortrait=function(t){var e=a.a.extend({},a.a.fn.blockPushImagePortrait.defaults,t);return this.each(function(){new Ft(a()(this),e)})},a.a.fn.blockPushImagePortrait.defaults={};var Et=function t(e,n){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.$container=e,this.options=n;var i=a()(".bpce-back-to-top");i.length>0&&(window.onscroll=function(){document.body.scrollTop>100||document.documentElement.scrollTop>100?i.show():i.hide()},i.on("click",function(){window.scrollTo({top:0,behavior:"smooth"})}))};a.a.fn.blockBackToTop=function(t){var e=a.a.extend({},a.a.fn.blockBackToTop.defaults,t);return this.each(function(){new Et(a()(this),e)})},a.a.fn.blockBackToTop.defaults={},a()(".sticky-hero-banner").stickyHeroBanner(),a()(".article-supplement").articleSupplement(),a()(".block-accordion").accordion(),a()(".block-formules").first().formules(),a()(".layer-notification").notification(),a()(".tabslist").tabs(),a()(".key-information").keyInformation(),a()(".key-information-v2").keyInformationV2(),a()("body").modal(),a()(".block-form-half-content").formHalfContent(),a()(".form").form(),a()(".block-form-full").formFull(),a()(".slider-multi-items").sliderMultiItems(),a()("section.block-slider").blockSlider(),a()("section.block-multi-testimonial").blockMultiTestimonial(),a()(".mobile-only-accordion").mobileOnlyAccordion(),a()(".count-down").countDown({units:{day:"jour",hour:"heure",minute:"minute"}}),a()(".table-compare").tableCompare(),a()(".form-infos, .mat-form-group").doFloat(),a()(".card-product").cardProduct(),a()(".block-around-the-theme").aroundTheTheme(),a()(".block-thumbnails").thumbnails(),a()(".block-form").blockForm(),a()(".block-featured-products").featuredProducts(),a()(".mobile-slider-fullsize").slider({responsive:{mobile:!0,tablet:!1},tnsOptions:{hasControls:!0,isLoop:!1,hasPageCount:!0,isFixedWidth:!1}}),a()(".desktop-slider-fullsize").slider({responsive:{mobile:!1,tablet:!0},tnsOptions:{hasControls:!0,isLoop:!1,hasPageCount:!0,isFixedWidth:!1}}),a()(".slider-fullsize").slider({responsive:{mobile:!0,tablet:!0},tnsOptions:{hasControls:!0,isLoop:!1,hasPageCount:!0,isFixedWidth:!1}}),a()(".mobile-slider-1andsome").slider({responsive:{mobile:!0,tablet:!1},tnsOptions:{hasControls:!1,isLoop:!0,hasPageCount:!1,isFixedWidth:!0}}),a()(".desktop-slider-1andsome").slider({responsive:{mobile:!1,tablet:!0},tnsOptions:{hasControls:!1,isLoop:!0,hasPageCount:!1,isFixedWidth:!0}}),a()(".slider-1andsome").slider({responsive:{mobile:!0,tablet:!0},tnsOptions:{hasControls:!1,isLoop:!1,hasPageCount:!1,isFixedWidth:!0}}),a()(".slider-1andsome-with-controls").slider({responsive:{mobile:!0,tablet:!0},tnsOptions:{hasControls:!0,isLoop:!1,hasPageCount:!1,isFixedWidth:!0}}),a()(".header").header(),a()("#header-v2").headerV2(),a()("#search.search-v2").searchV2(),a()(".banner-alert").bannerAlert(),a()(".footer").footer(),a()(".hero-banner").heroBanner(),a()(".anchors-hero-banner, .anchor-right-fixed").anchors(),a()(".tile-univers").tileUnivers(),a()("#meta-navigation").metaNav(),a()(".ctas-lp").ctasLandingPage(),a()("#main").section(),a()(".simulator-tile").simulatorTile(),a()(".header-portal").headerPortal(),a()(".is-header-wp-user-logged-in").headerPortal(),a()(".is-content-wp-user-logged-in").headerPortal(),a()(".navigation-tab").navTab(),a()(".container-side-menu").sideMenu(),a()("#card-filters").cardsFilters(),a()(".block-timeline").timeLine(),a()(".hub-article-navigation").hubArticleNavigation(),a()(".pagination").pagination(),a()(".block-trombinoscope").trombinoscope(),a()(".hero-banner-mcl").heroBannerMcl(),a()(".news-hab-filters-container").filtersPopups(),a()(".block-profile-and-needs-in-content").BlockProfileAndNeedsInContent(),a()(".subnav-wrapper").headerNavigationSubmenu(),a()(".section-comparator-and-filters").BlockFiltersComparator(),a()(".block-form-groupe-assurances").BlockFormGroupeAssurances(),a()("#insurance-products-lists").BlockInsuranceProducts(),a()(".block-video-with-links").VideoWithLinks(),a()(".job-offers").JobOffers(),a()(".breadcrumb").breadcrumb(),a()(".breadcrumb2").breadcrumb2(),a()(".summary").summary(),a()(".block-flipbook").flipbook(),a()(".block-modal-region").blockModalRegion(),a()(".block-portrait").blockPushImagePortrait(),a()(".bpce-back-to-top").blockBackToTop()}}]);